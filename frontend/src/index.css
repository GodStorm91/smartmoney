@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply font-sans;
  }

  body {
    @apply bg-gray-50 text-gray-900 antialiased;
    @apply dark:bg-gray-900 dark:text-gray-100;
    line-height: 1.7;
  }

  /* Dark mode focus ring adjustment */
  .dark .focus-ring {
    @apply focus:ring-offset-gray-900;
  }

  /* Theme CSS Variables */
  /* Default (Blue) */
  [data-theme="default"] {
    --color-primary: 59 130 246;
    --color-primary-light: 96 165 250;
    --color-primary-dark: 37 99 235;
  }

  /* Emerald (Green) */
  [data-theme="emerald"] {
    --color-primary: 16 185 129;
    --color-primary-light: 52 211 153;
    --color-primary-dark: 5 150 105;
  }

  /* Sunset (Orange) */
  [data-theme="sunset"] {
    --color-primary: 249 115 22;
    --color-primary-light: 251 146 60;
    --color-primary-dark: 234 88 12;
  }

  /* Purple */
  [data-theme="purple"] {
    --color-primary: 139 92 246;
    --color-primary-light: 167 139 250;
    --color-primary-dark: 124 58 237;
  }

  /* Rainbow (Pink gradient) */
  [data-theme="rainbow"] {
    --color-primary: 236 72 153;
    --color-primary-light: 244 114 182;
    --color-primary-dark: 219 39 119;
  }

  /* Gold Premium (Amber) */
  [data-theme="gold-premium"] {
    --color-primary: 245 158 11;
    --color-primary-light: 251 191 36;
    --color-primary-dark: 217 119 6;
  }

  /* Neon Night (Cyan/Teal) */
  [data-theme="neon-night"] {
    --color-primary: 6 182 212;
    --color-primary-light: 34 211 238;
    --color-primary-dark: 8 145 178;
  }

  /* Rose (Pink/Red) */
  [data-theme="rose"] {
    --color-primary: 244 63 94;
    --color-primary-light: 251 113 133;
    --color-primary-dark: 225 29 72;
  }

  /* Dark */
  [data-theme="dark"] {
    --color-primary: 156 163 175;
    --color-primary-light: 209 213 219;
    --color-primary-dark: 107 114 128;
  }
}

@layer utilities {
  /* Number formatting with Inter font */
  .font-numbers {
    font-family: 'Inter', sans-serif;
    font-variant-numeric: tabular-nums;
  }

  /* Monospace for CSV preview */
  .font-csv {
    font-family: 'Roboto Mono', monospace;
  }

  /* Focus styles for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  /* Smooth transitions */
  .transition-default {
    @apply transition-all duration-200 ease-out;
  }

  /* Card hover effect */
  .card-hover {
    @apply hover:shadow-md transition-shadow duration-200;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Bottom nav slide-up animation */
  .animate-slide-up {
    animation: slideUp 0.2s ease-out;
  }

  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* Safe area for mobile devices with notch/home indicator */
  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Confetti animations */
  .animate-confetti-fall {
    animation: confettiFall 3s ease-out forwards;
  }

  .animate-confetti-spin {
    animation: confettiSpin 1s linear infinite;
  }

  @keyframes confettiFall {
    0% {
      transform: translateY(-10px) rotate(0deg);
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) rotate(720deg);
      opacity: 0;
    }
  }

  @keyframes confettiSpin {
    from {
      transform: rotateY(0deg) rotateX(0deg);
    }
    to {
      transform: rotateY(360deg) rotateX(180deg);
    }
  }

  /* Success checkmark animation */
  .animate-checkmark {
    animation: checkmark 0.4s ease-out forwards;
  }

  .animate-checkmark-circle {
    animation: checkmarkCircle 0.3s ease-out forwards;
  }

  @keyframes checkmark {
    0% {
      stroke-dashoffset: 50;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }

  @keyframes checkmarkCircle {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* Toast slide-in animation */
  .animate-toast-in {
    animation: toastIn 0.3s ease-out forwards;
  }

  .animate-toast-out {
    animation: toastOut 0.2s ease-in forwards;
  }

  @keyframes toastIn {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes toastOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  /* Modal animations */
  .animate-modal-backdrop {
    animation: modalBackdropIn 0.2s ease-out forwards;
  }

  .animate-modal-in {
    animation: modalSlideIn 0.3s ease-out forwards;
  }

  .animate-modal-out {
    animation: modalSlideOut 0.2s ease-in forwards;
  }

  @keyframes modalBackdropIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes modalSlideIn {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes modalSlideOut {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(20px);
      opacity: 0;
    }
  }
}

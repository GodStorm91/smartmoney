var Dn=t=>{throw TypeError(t)};var Es=(t,e,s)=>e.has(t)||Dn("Cannot "+s);var l=(t,e,s)=>(Es(t,e,"read from private field"),s?s.call(t):e.get(t)),E=(t,e,s)=>e.has(t)?Dn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),_=(t,e,s,n)=>(Es(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),k=(t,e,s)=>(Es(t,e,"access private method"),s);var ts=(t,e,s,n)=>({set _(r){_(t,e,r,s)},get _(){return l(t,e,n)}});import{r as I,R as Be,a as yi}from"./vendor-react-B9eo89kj.js";var br={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=I,vi=Symbol.for("react.element"),Si=Symbol.for("react.fragment"),Ri=Object.prototype.hasOwnProperty,bi=gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wi={key:!0,ref:!0,__self:!0,__source:!0};function wr(t,e,s){var n,r={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ri.call(e,n)&&!wi.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:vi,type:t,key:i,ref:o,props:r,_owner:bi.current}}bs.Fragment=Si;bs.jsx=wr;bs.jsxs=wr;br.exports=bs;var T=br.exports,oe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pi={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ct,hn,ur,_i=(ur=class{constructor(){E(this,Ct,Pi);E(this,hn,!1)}setTimeoutProvider(t){_(this,Ct,t)}setTimeout(t,e){return l(this,Ct).setTimeout(t,e)}clearTimeout(t){l(this,Ct).clearTimeout(t)}setInterval(t,e){return l(this,Ct).setInterval(t,e)}clearInterval(t){l(this,Ct).clearInterval(t)}},Ct=new WeakMap,hn=new WeakMap,ur),$t=new _i;function xi(t){setTimeout(t,0)}var se=typeof window>"u"||"Deno"in globalThis;function Q(){}function Ci(t,e){return typeof t=="function"?t(e):t}function Qs(t){return typeof t=="number"&&t>=0&&t!==1/0}function Pr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jt(t,e){return typeof t=="function"?t(e):t}function nt(t,e){return typeof t=="function"?t(e):t}function An(t,e){const{type:s="all",exact:n,fetchStatus:r,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==dn(o,e.options))return!1}else if(!Ue(e.queryKey,o))return!1}if(s!=="all"){const u=e.isActive();if(s==="active"&&!u||s==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||i&&!i(e))}function jn(t,e){const{exact:s,status:n,predicate:r,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(ne(e.options.mutationKey)!==ne(i))return!1}else if(!Ue(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||r&&!r(e))}function dn(t,e){return((e==null?void 0:e.queryKeyHashFn)||ne)(t)}function ne(t){return JSON.stringify(t,(e,s)=>$s(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Ue(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(s=>Ue(t[s],e[s])):!1}var Mi=Object.prototype.hasOwnProperty;function fn(t,e){if(t===e)return t;const s=Bn(t)&&Bn(e);if(!s&&!($s(t)&&$s(e)))return e;const r=(s?t:Object.keys(t)).length,i=s?e:Object.keys(e),o=i.length,a=s?new Array(o):{};let u=0;for(let h=0;h<o;h++){const m=s?h:i[h],c=t[m],f=e[m];if(c===f){a[m]=c,(s?h<r:Mi.call(t,m))&&u++;continue}if(c===null||f===null||typeof c!="object"||typeof f!="object"){a[m]=f;continue}const d=fn(c,f);a[m]=d,d===c&&u++}return r===o&&u===r?t:a}function Ne(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Bn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $s(t){if(!Un(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Un(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Un(t){return Object.prototype.toString.call(t)==="[object Object]"}function Li(t){return new Promise(e=>{$t.setTimeout(e,t)})}function Ks(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?fn(t,e):e}function Ei(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function Ii(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var mn=Symbol();function _r(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mn?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function xr(t,e){return typeof t=="function"?t(...e):!!t}var Kt,Mt,ue,lr,Ti=(lr=class extends oe{constructor(){super();E(this,Kt);E(this,Mt);E(this,ue);_(this,ue,e=>{if(!se&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){l(this,Mt)||this.setEventListener(l(this,ue))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Mt))==null||e.call(this),_(this,Mt,void 0))}setEventListener(e){var s;_(this,ue,e),(s=l(this,Mt))==null||s.call(this),_(this,Mt,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){l(this,Kt)!==e&&(_(this,Kt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof l(this,Kt)=="boolean"?l(this,Kt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Kt=new WeakMap,Mt=new WeakMap,ue=new WeakMap,lr),pn=new Ti;function zs(){let t,e;const s=new Promise((r,i)=>{t=r,e=i});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),t(r)},s.reject=r=>{n({status:"rejected",reason:r}),e(r)},s}function Oi(t){var s;let e;if((s=t.then(n=>(e=n,n),Q))==null||s.catch(Q),e!==void 0)return{data:e}}function Cr(t){return t}function ki(t){return{mutationKey:t.options.mutationKey,state:t.state,...t.options.scope&&{scope:t.options.scope},...t.meta&&{meta:t.meta}}}function Fi(t,e,s){const n=()=>{var i;const r=(i=t.promise)==null?void 0:i.then(e).catch(o=>s(o)?Promise.reject(new Error("redacted")):Promise.reject(o));return r==null||r.catch(Q),r};return{dehydratedAt:Date.now(),state:{...t.state,...t.state.data!==void 0&&{data:e(t.state.data)}},queryKey:t.queryKey,queryHash:t.queryHash,...t.state.status==="pending"&&{promise:n()},...t.meta&&{meta:t.meta}}}function Di(t){return t.state.isPaused}function Ai(t){return t.state.status==="success"}function ji(t){return!0}function tc(t,e={}){var u,h,m,c;const s=e.shouldDehydrateMutation??((u=t.getDefaultOptions().dehydrate)==null?void 0:u.shouldDehydrateMutation)??Di,n=t.getMutationCache().getAll().flatMap(f=>s(f)?[ki(f)]:[]),r=e.shouldDehydrateQuery??((h=t.getDefaultOptions().dehydrate)==null?void 0:h.shouldDehydrateQuery)??Ai,i=e.shouldRedactErrors??((m=t.getDefaultOptions().dehydrate)==null?void 0:m.shouldRedactErrors)??ji,o=e.serializeData??((c=t.getDefaultOptions().dehydrate)==null?void 0:c.serializeData)??Cr,a=t.getQueryCache().getAll().flatMap(f=>r(f)?[Fi(f,o,i)]:[]);return{mutations:n,queries:a}}function ec(t,e,s){var u,h;if(typeof e!="object"||e===null)return;const n=t.getMutationCache(),r=t.getQueryCache(),i=((u=s==null?void 0:s.defaultOptions)==null?void 0:u.deserializeData)??((h=t.getDefaultOptions().hydrate)==null?void 0:h.deserializeData)??Cr,o=e.mutations||[],a=e.queries||[];o.forEach(({state:m,...c})=>{var f,d;n.build(t,{...(f=t.getDefaultOptions().hydrate)==null?void 0:f.mutations,...(d=s==null?void 0:s.defaultOptions)==null?void 0:d.mutations,...c},m)}),a.forEach(({queryKey:m,state:c,queryHash:f,meta:d,promise:p,dehydratedAt:g})=>{var w,x;const y=p?Oi(p):void 0,v=c.data===void 0?y==null?void 0:y.data:c.data,P=v===void 0?v:i(v);let R=r.get(f);const S=(R==null?void 0:R.state.status)==="pending",C=(R==null?void 0:R.state.fetchStatus)==="fetching";if(R){const M=y&&g!==void 0&&g>R.state.dataUpdatedAt;if(c.dataUpdatedAt>R.state.dataUpdatedAt||M){const{fetchStatus:O,...b}=c;R.setState({...b,data:P})}}else R=r.build(t,{...(w=t.getDefaultOptions().hydrate)==null?void 0:w.queries,...(x=s==null?void 0:s.defaultOptions)==null?void 0:x.queries,queryKey:m,queryHash:f,meta:d},{...c,data:P,fetchStatus:"idle",status:P!==void 0?"success":c.status});p&&!S&&!C&&(g===void 0||g>R.state.dataUpdatedAt)&&R.fetch(void 0,{initialPromise:Promise.resolve(p).then(i)}).catch(Q)})}var Bi=xi;function Ui(){let t=[],e=0,s=a=>{a()},n=a=>{a()},r=Bi;const i=a=>{e?t.push(a):r(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{n(()=>{a.forEach(u=>{s(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{r=a}}}var N=Ui(),le,Lt,he,hr,Ni=(hr=class extends oe{constructor(){super();E(this,le,!0);E(this,Lt);E(this,he);_(this,he,e=>{if(!se&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){l(this,Lt)||this.setEventListener(l(this,he))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,Lt))==null||e.call(this),_(this,Lt,void 0))}setEventListener(e){var s;_(this,he,e),(s=l(this,Lt))==null||s.call(this),_(this,Lt,e(this.setOnline.bind(this)))}setOnline(e){l(this,le)!==e&&(_(this,le,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return l(this,le)}},le=new WeakMap,Lt=new WeakMap,he=new WeakMap,hr),ls=new Ni;function Qi(t){return Math.min(1e3*2**t,3e4)}function Mr(t){return(t??"online")==="online"?ls.isOnline():!0}var qs=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lr(t){let e=!1,s=0,n;const r=zs(),i=()=>r.status!=="pending",o=g=>{var y;if(!i()){const v=new qs(g);f(v),(y=t.onCancel)==null||y.call(t,v)}},a=()=>{e=!0},u=()=>{e=!1},h=()=>pn.isFocused()&&(t.networkMode==="always"||ls.isOnline())&&t.canRun(),m=()=>Mr(t.networkMode)&&t.canRun(),c=g=>{i()||(n==null||n(),r.resolve(g))},f=g=>{i()||(n==null||n(),r.reject(g))},d=()=>new Promise(g=>{var y;n=v=>{(i()||h())&&g(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;n=void 0,i()||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(i())return;let g;const y=s===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(c).catch(v=>{var w;if(i())return;const P=t.retry??(se?0:3),R=t.retryDelay??Qi,S=typeof R=="function"?R(s,v):R,C=P===!0||typeof P=="number"&&s<P||typeof P=="function"&&P(s,v);if(e||!C){f(v);return}s++,(w=t.onFail)==null||w.call(t,s,v),Li(S).then(()=>h()?void 0:d()).then(()=>{e?f(v):p()})})};return{promise:r,status:()=>r.status,cancel:o,continue:()=>(n==null||n(),r),cancelRetry:a,continueRetry:u,canStart:m,start:()=>(m()?p():d().then(p),r)}}var zt,dr,Er=(dr=class{constructor(){E(this,zt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qs(this.gcTime)&&_(this,zt,$t.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(se?1/0:5*60*1e3))}clearGcTimeout(){l(this,zt)&&($t.clearTimeout(l(this,zt)),_(this,zt,void 0))}},zt=new WeakMap,dr),qt,de,et,Ht,$,Ke,Vt,it,yt,fr,$i=(fr=class extends Er{constructor(e){super();E(this,it);E(this,qt);E(this,de);E(this,et);E(this,Ht);E(this,$);E(this,Ke);E(this,Vt);_(this,Vt,!1),_(this,Ke,e.defaultOptions),this.setOptions(e.options),this.observers=[],_(this,Ht,e.client),_(this,et,l(this,Ht).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,_(this,qt,Qn(this.options)),this.state=e.state??l(this,qt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=l(this,$))==null?void 0:e.promise}setOptions(e){if(this.options={...l(this,Ke),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Qn(this.options);s.data!==void 0&&(this.setState(Nn(s.data,s.dataUpdatedAt)),_(this,qt,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,et).remove(this)}setData(e,s){const n=Ks(this.state.data,e,this.options);return k(this,it,yt).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){k(this,it,yt).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,r;const s=(n=l(this,$))==null?void 0:n.promise;return(r=l(this,$))==null||r.cancel(e),s?s.then(Q).catch(Q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,qt))}isActive(){return this.observers.some(e=>nt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Pr(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=l(this,$))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=l(this,$))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,et).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(l(this,$)&&(l(this,Vt)?l(this,$).cancel({revert:!0}):l(this,$).cancelRetry()),this.scheduleGc()),l(this,et).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,it,yt).call(this,{type:"invalidate"})}async fetch(e,s){var u,h,m,c,f,d,p,g,y,v,P,R;if(this.state.fetchStatus!=="idle"&&((u=l(this,$))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(l(this,$))return l(this,$).continueRetry(),l(this,$).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(C=>C.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,r=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(_(this,Vt,!0),n.signal)})},i=()=>{const S=_r(this.options,s),w=(()=>{const x={client:l(this,Ht),queryKey:this.queryKey,meta:this.meta};return r(x),x})();return _(this,Vt,!1),this.options.persister?this.options.persister(S,w,this):S(w)},a=(()=>{const S={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:l(this,Ht),state:this.state,fetchFn:i};return r(S),S})();(h=this.options.behavior)==null||h.onFetch(a,this),_(this,de,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=a.fetchOptions)==null?void 0:m.meta))&&k(this,it,yt).call(this,{type:"fetch",meta:(c=a.fetchOptions)==null?void 0:c.meta}),_(this,$,Lr({initialPromise:s==null?void 0:s.initialPromise,fn:a.fetchFn,onCancel:S=>{S instanceof qs&&S.revert&&this.setState({...l(this,de),fetchStatus:"idle"}),n.abort()},onFail:(S,C)=>{k(this,it,yt).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{k(this,it,yt).call(this,{type:"pause"})},onContinue:()=>{k(this,it,yt).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const S=await l(this,$).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(d=(f=l(this,et).config).onSuccess)==null||d.call(f,S,this),(g=(p=l(this,et).config).onSettled)==null||g.call(p,S,this.state.error,this),S}catch(S){if(S instanceof qs){if(S.silent)return l(this,$).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw k(this,it,yt).call(this,{type:"error",error:S}),(v=(y=l(this,et).config).onError)==null||v.call(y,S,this),(R=(P=l(this,et).config).onSettled)==null||R.call(P,this.state.data,S,this),S}finally{this.scheduleGc()}}},qt=new WeakMap,de=new WeakMap,et=new WeakMap,Ht=new WeakMap,$=new WeakMap,Ke=new WeakMap,Vt=new WeakMap,it=new WeakSet,yt=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ir(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Nn(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _(this,de,e.manual?r:void 0),r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),N.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),l(this,et).notify({query:this,type:"updated",action:e})})},fr);function Ir(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mr(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Nn(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Qn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var G,F,ze,q,Wt,fe,gt,Et,qe,me,pe,Gt,Jt,It,ye,A,ke,Hs,Vs,Ws,Gs,Js,Ys,Xs,Tr,mr,yn=(mr=class extends oe{constructor(e,s){super();E(this,A);E(this,G);E(this,F);E(this,ze);E(this,q);E(this,Wt);E(this,fe);E(this,gt);E(this,Et);E(this,qe);E(this,me);E(this,pe);E(this,Gt);E(this,Jt);E(this,It);E(this,ye,new Set);this.options=s,_(this,G,e),_(this,Et,null),_(this,gt,zs()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,F).addObserver(this),$n(l(this,F),this.options)?k(this,A,ke).call(this):this.updateResult(),k(this,A,Gs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zs(l(this,F),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zs(l(this,F),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,A,Js).call(this),k(this,A,Ys).call(this),l(this,F).removeObserver(this)}setOptions(e){const s=this.options,n=l(this,F);if(this.options=l(this,G).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof nt(this.options.enabled,l(this,F))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,A,Xs).call(this),l(this,F).setOptions(this.options),s._defaulted&&!Ne(this.options,s)&&l(this,G).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,F),observer:this});const r=this.hasListeners();r&&Kn(l(this,F),n,this.options,s)&&k(this,A,ke).call(this),this.updateResult(),r&&(l(this,F)!==n||nt(this.options.enabled,l(this,F))!==nt(s.enabled,l(this,F))||jt(this.options.staleTime,l(this,F))!==jt(s.staleTime,l(this,F)))&&k(this,A,Hs).call(this);const i=k(this,A,Vs).call(this);r&&(l(this,F)!==n||nt(this.options.enabled,l(this,F))!==nt(s.enabled,l(this,F))||i!==l(this,It))&&k(this,A,Ws).call(this,i)}getOptimisticResult(e){const s=l(this,G).getQueryCache().build(l(this,G),e),n=this.createResult(s,e);return zi(this,n)&&(_(this,q,n),_(this,fe,this.options),_(this,Wt,l(this,F).state)),n}getCurrentResult(){return l(this,q)}trackResult(e,s){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),s==null||s(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&l(this,gt).status==="pending"&&l(this,gt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){l(this,ye).add(e)}getCurrentQuery(){return l(this,F)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=l(this,G).defaultQueryOptions(e),n=l(this,G).getQueryCache().build(l(this,G),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return k(this,A,ke).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,q)))}createResult(e,s){var O;const n=l(this,F),r=this.options,i=l(this,q),o=l(this,Wt),a=l(this,fe),h=e!==n?e.state:l(this,ze),{state:m}=e;let c={...m},f=!1,d;if(s._optimisticResults){const b=this.hasListeners(),L=!b&&$n(e,s),D=b&&Kn(e,n,s,r);(L||D)&&(c={...c,...Ir(m.data,e.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:y}=c;d=c.data;let v=!1;if(s.placeholderData!==void 0&&d===void 0&&y==="pending"){let b;i!=null&&i.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData)?(b=i.data,v=!0):b=typeof s.placeholderData=="function"?s.placeholderData((O=l(this,pe))==null?void 0:O.state.data,l(this,pe)):s.placeholderData,b!==void 0&&(y="success",d=Ks(i==null?void 0:i.data,b,s),f=!0)}if(s.select&&d!==void 0&&!v)if(i&&d===(o==null?void 0:o.data)&&s.select===l(this,qe))d=l(this,me);else try{_(this,qe,s.select),d=s.select(d),d=Ks(i==null?void 0:i.data,d,s),_(this,me,d),_(this,Et,null)}catch(b){_(this,Et,b)}l(this,Et)&&(p=l(this,Et),d=l(this,me),g=Date.now(),y="error");const P=c.fetchStatus==="fetching",R=y==="pending",S=y==="error",C=R&&P,w=d!==void 0,M={status:y,fetchStatus:c.fetchStatus,isPending:R,isSuccess:y==="success",isError:S,isInitialLoading:C,isLoading:C,data:d,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:S&&!w,isPaused:c.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&w,isStale:gn(e,s),refetch:this.refetch,promise:l(this,gt),isEnabled:nt(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const b=B=>{M.status==="error"?B.reject(M.error):M.data!==void 0&&B.resolve(M.data)},L=()=>{const B=_(this,gt,M.promise=zs());b(B)},D=l(this,gt);switch(D.status){case"pending":e.queryHash===n.queryHash&&b(D);break;case"fulfilled":(M.status==="error"||M.data!==D.value)&&L();break;case"rejected":(M.status!=="error"||M.error!==D.reason)&&L();break}}return M}updateResult(){const e=l(this,q),s=this.createResult(l(this,F),this.options);if(_(this,Wt,l(this,F).state),_(this,fe,this.options),l(this,Wt).data!==void 0&&_(this,pe,l(this,F)),Ne(s,e))return;_(this,q,s);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!l(this,ye).size)return!0;const o=new Set(i??l(this,ye));return this.options.throwOnError&&o.add("error"),Object.keys(l(this,q)).some(a=>{const u=a;return l(this,q)[u]!==e[u]&&o.has(u)})};k(this,A,Tr).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,A,Gs).call(this)}},G=new WeakMap,F=new WeakMap,ze=new WeakMap,q=new WeakMap,Wt=new WeakMap,fe=new WeakMap,gt=new WeakMap,Et=new WeakMap,qe=new WeakMap,me=new WeakMap,pe=new WeakMap,Gt=new WeakMap,Jt=new WeakMap,It=new WeakMap,ye=new WeakMap,A=new WeakSet,ke=function(e){k(this,A,Xs).call(this);let s=l(this,F).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Q)),s},Hs=function(){k(this,A,Js).call(this);const e=jt(this.options.staleTime,l(this,F));if(se||l(this,q).isStale||!Qs(e))return;const n=Pr(l(this,q).dataUpdatedAt,e)+1;_(this,Gt,$t.setTimeout(()=>{l(this,q).isStale||this.updateResult()},n))},Vs=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,F)):this.options.refetchInterval)??!1},Ws=function(e){k(this,A,Ys).call(this),_(this,It,e),!(se||nt(this.options.enabled,l(this,F))===!1||!Qs(l(this,It))||l(this,It)===0)&&_(this,Jt,$t.setInterval(()=>{(this.options.refetchIntervalInBackground||pn.isFocused())&&k(this,A,ke).call(this)},l(this,It)))},Gs=function(){k(this,A,Hs).call(this),k(this,A,Ws).call(this,k(this,A,Vs).call(this))},Js=function(){l(this,Gt)&&($t.clearTimeout(l(this,Gt)),_(this,Gt,void 0))},Ys=function(){l(this,Jt)&&($t.clearInterval(l(this,Jt)),_(this,Jt,void 0))},Xs=function(){const e=l(this,G).getQueryCache().build(l(this,G),this.options);if(e===l(this,F))return;const s=l(this,F);_(this,F,e),_(this,ze,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Tr=function(e){N.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(l(this,q))}),l(this,G).getQueryCache().notify({query:l(this,F),type:"observerResultsUpdated"})})},mr);function Ki(t,e){return nt(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function $n(t,e){return Ki(t,e)||t.state.data!==void 0&&Zs(t,e,e.refetchOnMount)}function Zs(t,e,s){if(nt(e.enabled,t)!==!1&&jt(e.staleTime,t)!=="static"){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&gn(t,e)}return!1}function Kn(t,e,s,n){return(t!==e||nt(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&gn(t,s)}function gn(t,e){return nt(e.enabled,t)!==!1&&t.isStaleByTime(jt(e.staleTime,t))}function zi(t,e){return!Ne(t.getCurrentResult(),e)}function zn(t){return{onFetch:(e,s)=>{var m,c,f,d,p;const n=e.options,r=(f=(c=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:c.fetchMore)==null?void 0:f.direction,i=((d=e.state.data)==null?void 0:d.pages)||[],o=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const h=async()=>{let g=!1;const y=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=_r(e.options,e.fetchOptions),P=async(R,S,C)=>{if(g)return Promise.reject();if(S==null&&R.pages.length)return Promise.resolve(R);const x=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return y(L),L})(),M=await v(x),{maxPages:O}=e.options,b=C?Ii:Ei;return{pages:b(R.pages,M,O),pageParams:b(R.pageParams,S,O)}};if(r&&i.length){const R=r==="backward",S=R?qi:qn,C={pages:i,pageParams:o},w=S(n,C);a=await P(C,w,R)}else{const R=t??i.length;do{const S=u===0?o[0]??n.initialPageParam:qn(n,a);if(u>0&&S==null)break;a=await P(a,S),u++}while(u<R)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=h}}}function qn(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function qi(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var He,lt,H,Yt,ht,xt,pr,Hi=(pr=class extends Er{constructor(e){super();E(this,ht);E(this,He);E(this,lt);E(this,H);E(this,Yt);_(this,He,e.client),this.mutationId=e.mutationId,_(this,H,e.mutationCache),_(this,lt,[]),this.state=e.state||Or(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,lt).includes(e)||(l(this,lt).push(e),this.clearGcTimeout(),l(this,H).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){_(this,lt,l(this,lt).filter(s=>s!==e)),this.scheduleGc(),l(this,H).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,lt).length||(this.state.status==="pending"?this.scheduleGc():l(this,H).remove(this))}continue(){var e;return((e=l(this,Yt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,u,h,m,c,f,d,p,g,y,v,P,R,S,C,w,x,M,O;const s=()=>{k(this,ht,xt).call(this,{type:"continue"})},n={client:l(this,He),meta:this.options.meta,mutationKey:this.options.mutationKey};_(this,Yt,Lr({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(b,L)=>{k(this,ht,xt).call(this,{type:"failed",failureCount:b,error:L})},onPause:()=>{k(this,ht,xt).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,H).canRun(this)}));const r=this.state.status==="pending",i=!l(this,Yt).canStart();try{if(r)s();else{k(this,ht,xt).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=l(this,H).config).onMutate)==null?void 0:a.call(o,e,this,n));const L=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,e,n));L!==this.state.context&&k(this,ht,xt).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const b=await l(this,Yt).start();return await((c=(m=l(this,H).config).onSuccess)==null?void 0:c.call(m,b,e,this.state.context,this,n)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,b,e,this.state.context,n)),await((g=(p=l(this,H).config).onSettled)==null?void 0:g.call(p,b,null,this.state.variables,this.state.context,this,n)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,b,null,e,this.state.context,n)),k(this,ht,xt).call(this,{type:"success",data:b}),b}catch(b){try{throw await((R=(P=l(this,H).config).onError)==null?void 0:R.call(P,b,e,this.state.context,this,n)),await((C=(S=this.options).onError)==null?void 0:C.call(S,b,e,this.state.context,n)),await((x=(w=l(this,H).config).onSettled)==null?void 0:x.call(w,void 0,b,this.state.variables,this.state.context,this,n)),await((O=(M=this.options).onSettled)==null?void 0:O.call(M,void 0,b,e,this.state.context,n)),b}finally{k(this,ht,xt).call(this,{type:"error",error:b})}}finally{l(this,H).runNext(this)}}},He=new WeakMap,lt=new WeakMap,H=new WeakMap,Yt=new WeakMap,ht=new WeakSet,xt=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),N.batch(()=>{l(this,lt).forEach(n=>{n.onMutationUpdate(e)}),l(this,H).notify({mutation:this,type:"updated",action:e})})},pr);function Or(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vt,ot,Ve,yr,Vi=(yr=class extends oe{constructor(e={}){super();E(this,vt);E(this,ot);E(this,Ve);this.config=e,_(this,vt,new Set),_(this,ot,new Map),_(this,Ve,0)}build(e,s,n){const r=new Hi({client:e,mutationCache:this,mutationId:++ts(this,Ve)._,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){l(this,vt).add(e);const s=es(e);if(typeof s=="string"){const n=l(this,ot).get(s);n?n.push(e):l(this,ot).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,vt).delete(e)){const s=es(e);if(typeof s=="string"){const n=l(this,ot).get(s);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&l(this,ot).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=es(e);if(typeof s=="string"){const n=l(this,ot).get(s),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){var n;const s=es(e);if(typeof s=="string"){const r=(n=l(this,ot).get(s))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){N.batch(()=>{l(this,vt).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,vt).clear(),l(this,ot).clear()})}getAll(){return Array.from(l(this,vt))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>jn(s,n))}findAll(e={}){return this.getAll().filter(s=>jn(e,s))}notify(e){N.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return N.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},vt=new WeakMap,ot=new WeakMap,Ve=new WeakMap,yr);function es(t){var e;return(e=t.options.scope)==null?void 0:e.id}var St,Tt,J,Rt,bt,os,tn,gr,Wi=(gr=class extends oe{constructor(e,s){super();E(this,bt);E(this,St);E(this,Tt);E(this,J);E(this,Rt);_(this,St,e),this.setOptions(s),this.bindMethods(),k(this,bt,os).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const s=this.options;this.options=l(this,St).defaultMutationOptions(e),Ne(this.options,s)||l(this,St).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,J),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&ne(s.mutationKey)!==ne(this.options.mutationKey)?this.reset():((n=l(this,J))==null?void 0:n.state.status)==="pending"&&l(this,J).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=l(this,J))==null||e.removeObserver(this)}onMutationUpdate(e){k(this,bt,os).call(this),k(this,bt,tn).call(this,e)}getCurrentResult(){return l(this,Tt)}reset(){var e;(e=l(this,J))==null||e.removeObserver(this),_(this,J,void 0),k(this,bt,os).call(this),k(this,bt,tn).call(this)}mutate(e,s){var n;return _(this,Rt,s),(n=l(this,J))==null||n.removeObserver(this),_(this,J,l(this,St).getMutationCache().build(l(this,St),this.options)),l(this,J).addObserver(this),l(this,J).execute(e)}},St=new WeakMap,Tt=new WeakMap,J=new WeakMap,Rt=new WeakMap,bt=new WeakSet,os=function(){var s;const e=((s=l(this,J))==null?void 0:s.state)??Or();_(this,Tt,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},tn=function(e){N.batch(()=>{var s,n,r,i,o,a,u,h;if(l(this,Rt)&&this.hasListeners()){const m=l(this,Tt).variables,c=l(this,Tt).context,f={client:l(this,St),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((n=(s=l(this,Rt)).onSuccess)==null||n.call(s,e.data,m,c,f),(i=(r=l(this,Rt)).onSettled)==null||i.call(r,e.data,null,m,c,f)):(e==null?void 0:e.type)==="error"&&((a=(o=l(this,Rt)).onError)==null||a.call(o,e.error,m,c,f),(h=(u=l(this,Rt)).onSettled)==null||h.call(u,void 0,e.error,m,c,f))}this.listeners.forEach(m=>{m(l(this,Tt))})})},gr);function Hn(t,e){const s=new Set(e);return t.filter(n=>!s.has(n))}function Gi(t,e,s){const n=t.slice(0);return n[e]=s,n}var ge,Y,ve,Se,st,Ot,We,Ge,Je,z,en,sn,nn,rn,on,vr,Ji=(vr=class extends oe{constructor(e,s,n){super();E(this,z);E(this,ge);E(this,Y);E(this,ve);E(this,Se);E(this,st);E(this,Ot);E(this,We);E(this,Ge);E(this,Je,[]);_(this,ge,e),_(this,Se,n),_(this,ve,[]),_(this,st,[]),_(this,Y,[]),this.setQueries(s)}onSubscribe(){this.listeners.size===1&&l(this,st).forEach(e=>{e.subscribe(s=>{k(this,z,rn).call(this,e,s)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,l(this,st).forEach(e=>{e.destroy()})}setQueries(e,s){_(this,ve,e),_(this,Se,s),N.batch(()=>{const n=l(this,st),r=k(this,z,nn).call(this,l(this,ve));_(this,Je,r),r.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions));const i=r.map(c=>c.observer),o=i.map(c=>c.getCurrentResult()),a=n.length!==i.length,u=i.some((c,f)=>c!==n[f]),h=a||u,m=h?!0:o.some((c,f)=>{const d=l(this,Y)[f];return!d||!Ne(c,d)});!h&&!m||(h&&_(this,st,i),_(this,Y,o),this.hasListeners()&&(h&&(Hn(n,i).forEach(c=>{c.destroy()}),Hn(i,n).forEach(c=>{c.subscribe(f=>{k(this,z,rn).call(this,c,f)})})),k(this,z,on).call(this)))})}getCurrentResult(){return l(this,Y)}getQueries(){return l(this,st).map(e=>e.getCurrentQuery())}getObservers(){return l(this,st)}getOptimisticResult(e,s){const n=k(this,z,nn).call(this,e),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>k(this,z,sn).call(this,i??r,s),()=>k(this,z,en).call(this,r,n)]}},ge=new WeakMap,Y=new WeakMap,ve=new WeakMap,Se=new WeakMap,st=new WeakMap,Ot=new WeakMap,We=new WeakMap,Ge=new WeakMap,Je=new WeakMap,z=new WeakSet,en=function(e,s){return s.map((n,r)=>{const i=e[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,o=>{s.forEach(a=>{a.observer.trackProp(o)})})})},sn=function(e,s){return s?((!l(this,Ot)||l(this,Y)!==l(this,Ge)||s!==l(this,We))&&(_(this,We,s),_(this,Ge,l(this,Y)),_(this,Ot,fn(l(this,Ot),s(e)))),l(this,Ot)):e},nn=function(e){const s=new Map;l(this,st).forEach(r=>{const i=r.options.queryHash;if(!i)return;const o=s.get(i);o?o.push(r):s.set(i,[r])});const n=[];return e.forEach(r=>{var u;const i=l(this,ge).defaultQueryOptions(r),a=((u=s.get(i.queryHash))==null?void 0:u.shift())??new yn(l(this,ge),i);n.push({defaultedQueryOptions:i,observer:a})}),n},rn=function(e,s){const n=l(this,st).indexOf(e);n!==-1&&(_(this,Y,Gi(l(this,Y),n,s)),k(this,z,on).call(this))},on=function(){var e;if(this.hasListeners()){const s=l(this,Ot),n=k(this,z,en).call(this,l(this,Y),l(this,Je)),r=k(this,z,sn).call(this,n,(e=l(this,Se))==null?void 0:e.combine);s!==r&&N.batch(()=>{this.listeners.forEach(i=>{i(l(this,Y))})})}},vr),dt,Sr,Yi=(Sr=class extends oe{constructor(e={}){super();E(this,dt);this.config=e,_(this,dt,new Map)}build(e,s,n){const r=s.queryKey,i=s.queryHash??dn(r,s);let o=this.get(i);return o||(o=new $i({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){l(this,dt).has(e.queryHash)||(l(this,dt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=l(this,dt).get(e.queryHash);s&&(e.destroy(),s===e&&l(this,dt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){N.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,dt).get(e)}getAll(){return[...l(this,dt).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>An(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>An(e,n)):s}notify(e){N.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){N.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){N.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dt=new WeakMap,Sr),U,kt,Ft,Re,be,Dt,we,Pe,Rr,sc=(Rr=class{constructor(t={}){E(this,U);E(this,kt);E(this,Ft);E(this,Re);E(this,be);E(this,Dt);E(this,we);E(this,Pe);_(this,U,t.queryCache||new Yi),_(this,kt,t.mutationCache||new Vi),_(this,Ft,t.defaultOptions||{}),_(this,Re,new Map),_(this,be,new Map),_(this,Dt,0)}mount(){ts(this,Dt)._++,l(this,Dt)===1&&(_(this,we,pn.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,U).onFocus())})),_(this,Pe,ls.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,U).onOnline())})))}unmount(){var t,e;ts(this,Dt)._--,l(this,Dt)===0&&((t=l(this,we))==null||t.call(this),_(this,we,void 0),(e=l(this,Pe))==null||e.call(this),_(this,Pe,void 0))}isFetching(t){return l(this,U).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return l(this,kt).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=l(this,U).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=l(this,U).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(jt(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return l(this,U).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),r=l(this,U).get(n.queryHash),i=r==null?void 0:r.state.data,o=Ci(e,i);if(o!==void 0)return l(this,U).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return N.batch(()=>l(this,U).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=l(this,U).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=l(this,U);N.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=l(this,U);return N.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=N.batch(()=>l(this,U).findAll(t).map(r=>r.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t,e={}){return N.batch(()=>(l(this,U).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=N.batch(()=>l(this,U).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,s);return s.throwOnError||(i=i.catch(Q)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=l(this,U).build(this,e);return s.isStaleByTime(jt(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=zn(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=zn(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ls.isOnline()?l(this,kt).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,U)}getMutationCache(){return l(this,kt)}getDefaultOptions(){return l(this,Ft)}setDefaultOptions(t){_(this,Ft,t)}setQueryDefaults(t,e){l(this,Re).set(ne(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...l(this,Re).values()],s={};return e.forEach(n=>{Ue(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){l(this,be).set(ne(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...l(this,be).values()],s={};return e.forEach(n=>{Ue(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...l(this,Ft).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dn(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mn&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...l(this,Ft).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){l(this,U).clear(),l(this,kt).clear()}},U=new WeakMap,kt=new WeakMap,Ft=new WeakMap,Re=new WeakMap,be=new WeakMap,Dt=new WeakMap,we=new WeakMap,Pe=new WeakMap,Rr),kr=I.createContext(void 0),vn=t=>{const e=I.useContext(kr);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nc=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(kr.Provider,{value:t,children:e})),Fr=I.createContext(!1),Dr=()=>I.useContext(Fr),rc=Fr.Provider;function Xi(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Zi=I.createContext(Xi()),Ar=()=>I.useContext(Zi),jr=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Br=t=>{I.useEffect(()=>{t.clearReset()},[t])},Ur=({result:t,errorResetBoundary:e,throwOnError:s,query:n,suspense:r})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(r&&t.data===void 0||xr(s,[t.error,n])),Nr=t=>{if(t.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>s(n(...r)):s(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Qr=(t,e)=>t.isLoading&&t.isFetching&&!e,an=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hs=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function ic({queries:t,...e},s){const n=vn(),r=Dr(),i=Ar(),o=I.useMemo(()=>t.map(g=>{const y=n.defaultQueryOptions(g);return y._optimisticResults=r?"isRestoring":"optimistic",y}),[t,n,r]);o.forEach(g=>{Nr(g),jr(g,i)}),Br(i);const[a]=I.useState(()=>new Ji(n,o,e)),[u,h,m]=a.getOptimisticResult(o,e.combine),c=!r&&e.subscribed!==!1;I.useSyncExternalStore(I.useCallback(g=>c?a.subscribe(N.batchCalls(g)):Q,[a,c]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),I.useEffect(()=>{a.setQueries(o,e)},[o,e,a]);const d=u.some((g,y)=>an(o[y],g))?u.flatMap((g,y)=>{const v=o[y];if(v){const P=new yn(n,v);if(an(v,g))return hs(v,P,i);Qr(g,r)&&hs(v,P,i)}return[]}):[];if(d.length>0)throw Promise.all(d);const p=u.find((g,y)=>{const v=o[y];return v&&Ur({result:g,errorResetBoundary:i,throwOnError:v.throwOnError,query:n.getQueryCache().get(v.queryHash),suspense:v.suspense})});if(p!=null&&p.error)throw p.error;return h(m())}function to(t,e,s){var c,f,d,p,g;const n=Dr(),r=Ar(),i=vn(),o=i.defaultQueryOptions(t);(f=(c=i.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||f.call(c,o),o._optimisticResults=n?"isRestoring":"optimistic",Nr(o),jr(o,r),Br(r);const a=!i.getQueryCache().get(o.queryHash),[u]=I.useState(()=>new e(i,o)),h=u.getOptimisticResult(o),m=!n&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(y=>{const v=m?u.subscribe(N.batchCalls(y)):Q;return u.updateResult(),v},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),I.useEffect(()=>{u.setOptions(o)},[o,u]),an(o,h))throw hs(o,u,r);if(Ur({result:h,errorResetBoundary:r,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;if((p=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||p.call(d,o,h),o.experimental_prefetchInRender&&!se&&Qr(h,n)){const y=a?hs(o,u,r):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(Q).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?h:u.trackResult(h)}function oc(t,e){return to(t,yn)}function ac(t,e){const s=vn(),[n]=I.useState(()=>new Wi(s,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const r=I.useSyncExternalStore(I.useCallback(o=>n.subscribe(N.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=I.useCallback((o,a)=>{n.mutate(o,a).catch(Q)},[n]);if(r.error&&xr(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const cn=new WeakMap,eo=new WeakMap,ds={current:[]};let Is=!1,De=0;const Fe=new Set,ss=new Map;function $r(t){for(const e of t){if(ds.current.includes(e))continue;ds.current.push(e),e.recompute();const s=eo.get(e);if(s)for(const n of s){const r=cn.get(n);r!=null&&r.length&&$r(r)}}}function so(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function no(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function Kr(t){if(De>0&&!ss.has(t)&&ss.set(t,t.prevState),Fe.add(t),!(De>0)&&!Is)try{for(Is=!0;Fe.size>0;){const e=Array.from(Fe);Fe.clear();for(const s of e){const n=ss.get(s)??s.prevState;s.prevState=n,so(s)}for(const s of e){const n=cn.get(s);n&&(ds.current.push(s),$r(n))}for(const s of e){const n=cn.get(s);if(n)for(const r of n)no(r)}}}finally{Is=!1,ds.current=[],ss.clear()}}function Ae(t){De++;try{t()}finally{if(De--,De===0){const e=Fe.values().next().value;e&&Kr(e)}}}function ro(t){return typeof t=="function"}class io{constructor(e,s){this.listeners=new Set,this.subscribe=n=>{var r,i;this.listeners.add(n);const o=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.prevState=e,this.state=e,this.options=s}setState(e){var s,n,r;this.prevState=this.state,(s=this.options)!=null&&s.updateFn?this.state=this.options.updateFn(this.prevState)(e):ro(e)?this.state=e(this.prevState):this.state=e,(r=(n=this.options)==null?void 0:n.onUpdate)==null||r.call(n),Kr(this)}}const Bt="__TSR_index",Vn="popstate",Wn="beforeunload";function oo(t){let e=t.getLocation();const s=new Set,n=o=>{e=t.getLocation(),s.forEach(a=>a({location:e,action:o}))},r=o=>{t.notifyOnIndexChange??!0?n(o):e=t.getLocation()},i=async({task:o,navigateOpts:a,...u})=>{var f,d;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const m=((f=t.getBlockers)==null?void 0:f.call(t))??[],c=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&m.length&&c)for(const p of m){const g=fs(u.path,u.state);if(await p.blockerFn({currentLocation:e,nextLocation:g,action:u.type})){(d=t.onBlocked)==null||d.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:s,subscribe:o=>(s.add(o),()=>{s.delete(o)}),push:(o,a,u)=>{const h=e.state[Bt];a=Gn(h+1,a),i({task:()=>{t.pushState(o,a),n({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:a})},replace:(o,a,u)=>{const h=e.state[Bt];a=Gn(h,a),i({task:()=>{t.replaceState(o,a),n({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:a})},go:(o,a)=>{i({task:()=>{t.go(o),r({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{i({task:()=>{t.back((o==null?void 0:o.ignoreBlocker)??!1),r({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{i({task:()=>{t.forward((o==null?void 0:o.ignoreBlocker)??!1),r({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Bt]!==0,createHref:o=>t.createHref(o),block:o=>{var u;if(!t.setBlockers)return()=>{};const a=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...a,o]),()=>{var m,c;const h=((m=t.getBlockers)==null?void 0:m.call(t))??[];(c=t.setBlockers)==null||c.call(t,h.filter(f=>f!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:n}}function Gn(t,e){e||(e={});const s=Sn();return{...e,key:s,__TSR_key:s,[Bt]:t}}function ao(t){var M,O;const e=typeof document<"u"?window:void 0,s=e.history.pushState,n=e.history.replaceState;let r=[];const i=()=>r,o=b=>r=b,a=b=>b,u=()=>fs(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);if(!((M=e.history.state)!=null&&M.__TSR_key)&&!((O=e.history.state)!=null&&O.key)){const b=Sn();e.history.replaceState({[Bt]:0,key:b,__TSR_key:b},"")}let h=u(),m,c=!1,f=!1,d=!1,p=!1;const g=()=>h;let y,v;const P=()=>{y&&(x._ignoreSubscribers=!0,(y.isPush?e.history.pushState:e.history.replaceState)(y.state,"",y.href),x._ignoreSubscribers=!1,y=void 0,v=void 0,m=void 0)},R=(b,L,D)=>{const B=a(L);v||(m=h),h=fs(L,D),y={href:B,state:D,isPush:(y==null?void 0:y.isPush)||b==="push"},v||(v=Promise.resolve().then(()=>P()))},S=b=>{h=u(),x.notify({type:b})},C=async()=>{if(f){f=!1;return}const b=u(),L=b.state[Bt]-h.state[Bt],D=L===1,B=L===-1,ct=!D&&!B||c;c=!1;const Me=ct?"GO":B?"BACK":"FORWARD",W=ct?{type:"GO",index:L}:{type:B?"BACK":"FORWARD"};if(d)d=!1;else{const Pt=i();if(typeof document<"u"&&Pt.length){for(const ut of Pt)if(await ut.blockerFn({currentLocation:h,nextLocation:b,action:Me})){f=!0,e.history.go(1),x.notify(W);return}}}h=u(),x.notify(W)},w=b=>{if(p){p=!1;return}let L=!1;const D=i();if(typeof document<"u"&&D.length)for(const B of D){const ct=B.enableBeforeUnload??!0;if(ct===!0){L=!0;break}if(typeof ct=="function"&&ct()===!0){L=!0;break}}if(L)return b.preventDefault(),b.returnValue=""},x=oo({getLocation:g,getLength:()=>e.history.length,pushState:(b,L)=>R("push",b,L),replaceState:(b,L)=>R("replace",b,L),back:b=>(b&&(d=!0),p=!0,e.history.back()),forward:b=>{b&&(d=!0),p=!0,e.history.forward()},go:b=>{c=!0,e.history.go(b)},createHref:b=>a(b),flush:P,destroy:()=>{e.history.pushState=s,e.history.replaceState=n,e.removeEventListener(Wn,w,{capture:!0}),e.removeEventListener(Vn,C)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:i,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(Wn,w,{capture:!0}),e.addEventListener(Vn,C),e.history.pushState=function(...b){const L=s.apply(e.history,b);return x._ignoreSubscribers||S("PUSH"),L},e.history.replaceState=function(...b){const L=n.apply(e.history,b);return x._ignoreSubscribers||S("REPLACE"),L},x}function fs(t,e){const s=t.indexOf("#"),n=t.indexOf("?"),r=Sn();return{href:t,pathname:t.substring(0,s>0?n>0?Math.min(s,n):s:n>0?n:t.length),hash:s>-1?t.substring(s):"",search:n>-1?t.slice(n,s===-1?void 0:s):"",state:e||{[Bt]:0,key:r,__TSR_key:r}}}function Sn(){return(Math.random()+1).toString(36).substring(7)}function ms(t){return t[t.length-1]}function co(t){return typeof t=="function"}function Xt(t,e){return co(t)?t(e):t}const uo=Object.prototype.hasOwnProperty;function tt(t,e){if(t===e)return t;const s=e,n=Xn(t)&&Xn(s);if(!n&&!(ps(t)&&ps(s)))return s;const r=n?t:Jn(t);if(!r)return s;const i=n?s:Jn(s);if(!i)return s;const o=r.length,a=i.length,u=n?new Array(a):{};let h=0;for(let m=0;m<a;m++){const c=n?m:i[m],f=t[c],d=s[c];if(f===d){u[c]=f,(n?m<o:uo.call(t,c))&&h++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){u[c]=d;continue}const p=tt(f,d);u[c]=p,p===f&&h++}return o===a&&h===o?t:u}function Jn(t){const e=[],s=Object.getOwnPropertyNames(t);for(const r of s){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}const n=Object.getOwnPropertySymbols(t);for(const r of n){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}return e}function ps(t){if(!Yn(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Yn(s)||!s.hasOwnProperty("isPrototypeOf"))}function Yn(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zt(t,e,s){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Zt(t[n],e[n],s))return!1;return!0}if(ps(t)&&ps(e)){const n=(s==null?void 0:s.ignoreUndefined)??!0;if(s!=null&&s.partial){for(const o in e)if((!n||e[o]!==void 0)&&!Zt(t[o],e[o],s))return!1;return!0}let r=0;if(!n)r=Object.keys(t).length;else for(const o in t)t[o]!==void 0&&r++;let i=0;for(const o in e)if((!n||e[o]!==void 0)&&(i++,i>r||!Zt(t[o],e[o],s)))return!1;return r===i}return!1}function _e(t){let e,s;const n=new Promise((r,i)=>{e=r,s=i});return n.status="pending",n.resolve=r=>{n.status="resolved",n.value=r,e(r),t==null||t(r)},n.reject=r=>{n.status="rejected",s(r)},n}function Ut(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}function Zn(t){try{return decodeURI(t)}catch{return t.replaceAll(/%[0-9A-F]{2}/gi,e=>{try{return decodeURI(e)}catch{return e}})}}function tr(t,e){if(!t)return t;const s=/%25|%5C/gi;let n=0,r="",i;for(;(i=s.exec(t))!==null;)r+=Zn(t.slice(n,i.index))+i[0],n=s.lastIndex;return r+Zn(n?t.slice(n):t)}var lo="Invariant failed";function wt(t,e){if(!t)throw new Error(lo)}function ys(t){const e=new Map;let s,n;const r=i=>{i.next&&(i.prev?(i.prev.next=i.next,i.next.prev=i.prev,i.next=void 0,n&&(n.next=i,i.prev=n)):(i.next.prev=void 0,s=i.next,i.next=void 0,n&&(i.prev=n,n.next=i)),n=i)};return{get(i){const o=e.get(i);if(o)return r(o),o.value},set(i,o){if(e.size>=t&&s){const u=s;e.delete(u.key),u.next&&(s=u.next,u.next.prev=void 0),u===n&&(n=void 0)}const a=e.get(i);if(a)a.value=o,r(a);else{const u={key:i,value:o,prev:n};n&&(n.next=u),n=u,s||(s=u),e.set(i,u)}},clear(){e.clear(),s=void 0,n=void 0}}}const xe=0,re=1,ie=2,Qe=3,ho=/^([^{]*)\{\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,fo=/^([^{]*)\{-\$([a-zA-Z_$][a-zA-Z0-9_$]*)\}([^}]*)$/,mo=/^([^{]*)\{\$\}([^}]*)$/;function Rn(t,e,s=new Uint16Array(6)){const n=t.indexOf("/",e),r=n===-1?t.length:n,i=t.substring(e,r);if(!i||!i.includes("$"))return s[0]=xe,s[1]=e,s[2]=e,s[3]=r,s[4]=r,s[5]=r,s;if(i==="$"){const h=t.length;return s[0]=ie,s[1]=e,s[2]=e,s[3]=h,s[4]=h,s[5]=h,s}if(i.charCodeAt(0)===36)return s[0]=re,s[1]=e,s[2]=e+1,s[3]=r,s[4]=r,s[5]=r,s;const o=i.match(mo);if(o){const m=o[1].length;return s[0]=ie,s[1]=e+m,s[2]=e+m+1,s[3]=e+m+2,s[4]=e+m+3,s[5]=t.length,s}const a=i.match(fo);if(a){const h=a[1],m=a[2],c=a[3],f=h.length;return s[0]=Qe,s[1]=e+f,s[2]=e+f+3,s[3]=e+f+3+m.length,s[4]=r-c.length,s[5]=r,s}const u=i.match(ho);if(u){const h=u[1],m=u[2],c=u[3],f=h.length;return s[0]=re,s[1]=e+f,s[2]=e+f+2,s[3]=e+f+2+m.length,s[4]=r-c.length,s[5]=r,s}return s[0]=xe,s[1]=e,s[2]=e,s[3]=r,s[4]=r,s[5]=r,s}function ws(t,e,s,n,r,i,o){var u,h,m,c,f;o==null||o(s);let a=n;{const d=s.fullPath??s.from,p=d.length,g=((u=s.options)==null?void 0:u.caseSensitive)??t;for(;a<p;){const y=Rn(d,a,e);let v;const P=a,R=y[5];switch(a=R+1,i++,y[0]){case xe:{const C=d.substring(y[2],y[3]);if(g){const w=(h=r.static)==null?void 0:h.get(C);if(w)v=w;else{r.static??(r.static=new Map);const x=$e(s.fullPath??s.from);x.parent=r,x.depth=i,v=x,r.static.set(C,x)}}else{const w=C.toLowerCase(),x=(m=r.staticInsensitive)==null?void 0:m.get(w);if(x)v=x;else{r.staticInsensitive??(r.staticInsensitive=new Map);const M=$e(s.fullPath??s.from);M.parent=r,M.depth=i,v=M,r.staticInsensitive.set(w,M)}}break}case re:{const C=d.substring(P,y[1]),w=d.substring(y[4],R),x=g&&!!(C||w),M=C?x?C:C.toLowerCase():void 0,O=w?x?w:w.toLowerCase():void 0,b=(c=r.dynamic)==null?void 0:c.find(L=>L.caseSensitive===x&&L.prefix===M&&L.suffix===O);if(b)v=b;else{const L=Os(re,s.fullPath??s.from,x,M,O);v=L,L.depth=i,L.parent=r,r.dynamic??(r.dynamic=[]),r.dynamic.push(L)}break}case Qe:{const C=d.substring(P,y[1]),w=d.substring(y[4],R),x=g&&!!(C||w),M=C?x?C:C.toLowerCase():void 0,O=w?x?w:w.toLowerCase():void 0,b=(f=r.optional)==null?void 0:f.find(L=>L.caseSensitive===x&&L.prefix===M&&L.suffix===O);if(b)v=b;else{const L=Os(Qe,s.fullPath??s.from,x,M,O);v=L,L.parent=r,L.depth=i,r.optional??(r.optional=[]),r.optional.push(L)}break}case ie:{const C=d.substring(P,y[1]),w=d.substring(y[4],R),x=g&&!!(C||w),M=C?x?C:C.toLowerCase():void 0,O=w?x?w:w.toLowerCase():void 0,b=Os(ie,s.fullPath??s.from,x,M,O);v=b,b.parent=r,b.depth=i,r.wildcard??(r.wildcard=[]),r.wildcard.push(b)}}r=v}if((s.path||!s.children)&&!s.isRoot){const y=d.endsWith("/");y||(r.notFound=s),(!r.route||!r.isIndex&&y)&&(r.route=s),r.isIndex||(r.isIndex=y)}}if(s.children)for(const d of s.children)ws(t,e,d,a,r,i,o)}function Ts(t,e){if(t.prefix&&e.prefix&&t.prefix!==e.prefix){if(t.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(t.prefix))return 1}if(t.suffix&&e.suffix&&t.suffix!==e.suffix){if(t.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(t.suffix))return 1}return t.prefix&&!e.prefix?-1:!t.prefix&&e.prefix?1:t.suffix&&!e.suffix?-1:!t.suffix&&e.suffix?1:t.caseSensitive&&!e.caseSensitive?-1:!t.caseSensitive&&e.caseSensitive?1:0}function Qt(t){var e,s,n;if(t.static)for(const r of t.static.values())Qt(r);if(t.staticInsensitive)for(const r of t.staticInsensitive.values())Qt(r);if((e=t.dynamic)!=null&&e.length){t.dynamic.sort(Ts);for(const r of t.dynamic)Qt(r)}if((s=t.optional)!=null&&s.length){t.optional.sort(Ts);for(const r of t.optional)Qt(r)}if((n=t.wildcard)!=null&&n.length){t.wildcard.sort(Ts);for(const r of t.wildcard)Qt(r)}}function $e(t){return{kind:xe,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:t,parent:null,isIndex:!1,notFound:null}}function Os(t,e,s,n,r){return{kind:t,depth:0,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,isIndex:!1,notFound:null,caseSensitive:s,prefix:n,suffix:r}}function po(t,e){const s=$e("/"),n=new Uint16Array(6);for(const r of t)ws(!1,n,r,1,s,0);Qt(s),e.masksTree=s,e.flatCache=ys(1e3)}function yo(t,e){t||(t="/");const s=e.flatCache.get(t);if(s)return s;const n=bn(t,e.masksTree);return e.flatCache.set(t,n),n}function go(t,e,s,n,r){t||(t="/"),n||(n="/");const i=e?`case\0${t}`:t;let o=r.singleCache.get(i);if(!o){o=$e("/");const a=new Uint16Array(6);ws(e,a,{from:t},1,o,0),r.singleCache.set(i,o)}return bn(n,o,s)}function vo(t,e,s=!1){const n=s?t:`nofuzz\0${t}`,r=e.matchCache.get(n);if(r!==void 0)return r;t||(t="/");const i=bn(t,e.segmentTree,s);return i&&(i.branch=wo(i.route)),e.matchCache.set(n,i),i}function So(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Ro(t,e=!1,s){const n=$e(t.fullPath),r=new Uint16Array(6),i={},o={};let a=0;return ws(e,r,t,1,n,0,h=>{if(s==null||s(h,a),wt(!(h.id in i),`Duplicate routes found with id: ${String(h.id)}`),i[h.id]=h,a!==0&&h.path){const m=So(h.fullPath);(!o[m]||h.fullPath.endsWith("/"))&&(o[m]=h)}a++}),Qt(n),{processedTree:{segmentTree:n,singleCache:ys(1e3),matchCache:ys(1e3),flatCache:null,masksTree:null},routesById:i,routesByPath:o}}function bn(t,e,s=!1){const n=t.split("/"),r=_o(t,n,e,s);if(!r)return null;const i=bo(t,n,r),o="**"in r;return o&&(i["**"]=r["**"]),{route:o?r.node.notFound??r.node.route:r.node.route,params:i}}function bo(t,e,s){var o,a,u,h,m,c;const n=Po(s.node);let r=null;const i={};for(let f=0,d=0,p=0;d<n.length;f++,d++,p++){const g=n[d],y=e[f],v=p;if(y&&(p+=y.length),g.kind===re){r??(r=s.node.fullPath.split("/"));const P=r[d],R=((o=g.prefix)==null?void 0:o.length)??0;if(P.charCodeAt(R)===123){const C=((a=g.suffix)==null?void 0:a.length)??0,w=P.substring(R+2,P.length-C-1),x=y.substring(R,y.length-C);i[w]=decodeURIComponent(x)}else{const C=P.substring(1);i[C]=decodeURIComponent(y)}}else if(g.kind===Qe){if(s.skipped&1<<d){f--;continue}r??(r=s.node.fullPath.split("/"));const P=r[d],R=((u=g.prefix)==null?void 0:u.length)??0,S=((h=g.suffix)==null?void 0:h.length)??0,C=P.substring(R+3,P.length-S-1),w=g.suffix||g.prefix?y.substring(R,y.length-S):y;w&&(i[C]=decodeURIComponent(w))}else if(g.kind===ie){const P=g,R=t.substring(v+(((m=P.prefix)==null?void 0:m.length)??0),t.length-(((c=P.suffix)==null?void 0:c.length)??0)),S=decodeURIComponent(R);i["*"]=S,i._splat=S;break}}return i}function wo(t){const e=[t];for(;t.parentRoute;)t=t.parentRoute,e.push(t);return e.reverse(),e}function Po(t){const e=Array(t.depth+1);do e[t.depth]=t,t=t.parent;while(t);return e}function _o(t,e,s,n){const r=!ms(e),i=r&&t!=="/",o=e.length-(r?1:0),a=[{node:s,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let u=null,h=null,m=null;for(;a.length;){const c=a.pop();let{node:f,index:d,skipped:p,depth:g,statics:y,dynamics:v,optionals:P}=c;n&&f.notFound&&ks(h,c)&&(h=c);const R=d===o;if(R){if(f.route&&(!i||f.isIndex)&&(ks(m,c)&&(m=c),y===o))return m;if(!f.optional&&!f.wildcard)continue}const S=R?void 0:e[d];let C;if(f.wildcard&&ks(u,c))for(const w of f.wildcard){const{prefix:x,suffix:M}=w;if(!(x&&(R||!(w.caseSensitive?S:C??(C=S.toLowerCase())).startsWith(x)))){if(M){if(R)continue;const O=e.slice(d).join("/").slice(-M.length);if((w.caseSensitive?O:O.toLowerCase())!==M)continue}u={node:w,index:d,skipped:p,depth:g,statics:y,dynamics:v,optionals:P};break}}if(f.optional){const w=p|1<<g,x=g+1;for(let M=f.optional.length-1;M>=0;M--){const O=f.optional[M];a.push({node:O,index:d,skipped:w,depth:x,statics:y,dynamics:v,optionals:P})}if(!R)for(let M=f.optional.length-1;M>=0;M--){const O=f.optional[M],{prefix:b,suffix:L}=O;if(b||L){const D=O.caseSensitive?S:C??(C=S.toLowerCase());if(b&&!D.startsWith(b)||L&&!D.endsWith(L))continue}a.push({node:O,index:d+1,skipped:p,depth:x,statics:y,dynamics:v,optionals:P+1})}}if(!R&&f.dynamic&&S)for(let w=f.dynamic.length-1;w>=0;w--){const x=f.dynamic[w],{prefix:M,suffix:O}=x;if(M||O){const b=x.caseSensitive?S:C??(C=S.toLowerCase());if(M&&!b.startsWith(M)||O&&!b.endsWith(O))continue}a.push({node:x,index:d+1,skipped:p,depth:g+1,statics:y,dynamics:v+1,optionals:P})}if(!R&&f.staticInsensitive){const w=f.staticInsensitive.get(C??(C=S.toLowerCase()));w&&a.push({node:w,index:d+1,skipped:p,depth:g+1,statics:y+1,dynamics:v,optionals:P})}if(!R&&f.static){const w=f.static.get(S);w&&a.push({node:w,index:d+1,skipped:p,depth:g+1,statics:y+1,dynamics:v,optionals:P})}}if(m)return m;if(u)return u;if(n&&h){let c=h.index;for(let d=0;d<h.index;d++)c+=e[d].length;const f=c===t.length?"/":t.slice(c);return{node:h.node,skipped:h.skipped,"**":decodeURIComponent(f)}}return null}function ks(t,e){return t?e.statics>t.statics||e.statics===t.statics&&(e.dynamics>t.dynamics||e.dynamics===t.dynamics&&e.optionals>t.optionals):!0}function as(t){return wn(t.filter(e=>e!==void 0).join("/"))}function wn(t){return t.replace(/\/{2,}/g,"/")}function zr(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function te(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function cs(t){return te(zr(t))}function gs(t,e){return t!=null&&t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function xo(t,e,s){return gs(t,s)===gs(e,s)}function Co({base:t,to:e,trailingSlash:s="never",cache:n}){const r=e.startsWith("/"),i=!r&&e===".";let o;if(n){o=r?e:i?t:t+"\0"+e;const c=n.get(o);if(c)return c}let a;if(i)a=t.split("/");else if(r)a=e.split("/");else{for(a=t.split("/");a.length>1&&ms(a)==="";)a.pop();const c=e.split("/");for(let f=0,d=c.length;f<d;f++){const p=c[f];p===""?f?f===d-1&&a.push(p):a=[p]:p===".."?a.pop():p==="."||a.push(p)}}a.length>1&&(ms(a)===""?s==="never"&&a.pop():s==="always"&&a.push(""));let u,h="";for(let c=0;c<a.length;c++){c>0&&(h+="/");const f=a[c];if(!f)continue;u=Rn(f,0,u);const d=u[0];if(d===xe){h+=f;continue}const p=u[5],g=f.substring(0,u[1]),y=f.substring(u[4],p),v=f.substring(u[2],u[3]);d===re?h+=g||y?`${g}{$${v}}${y}`:`$${v}`:d===ie?h+=g||y?`${g}{$}${y}`:"$":h+=`${g}{-$${v}}${y}`}h=wn(h);const m=h||"/";return o&&n&&n.set(o,m),m}function Fs(t,e,s){const n=e[t];return typeof n!="string"?n:t==="_splat"?encodeURI(n):Mo(n,s)}function Ds({path:t,params:e,decodeCharMap:s}){let n=!1;const r={};if(!t||t==="/")return{interpolatedPath:"/",usedParams:r,isMissingParams:n};if(!t.includes("$"))return{interpolatedPath:t,usedParams:r,isMissingParams:n};const i=t.length;let o=0,a,u="";for(;o<i;){const m=o;a=Rn(t,m,a);const c=a[5];if(o=c+1,m===c)continue;const f=a[0];if(f===xe){u+="/"+t.substring(m,c);continue}if(f===ie){const d=e._splat;r._splat=d,r["*"]=d;const p=t.substring(m,a[1]),g=t.substring(a[4],c);if(!d){n=!0,(p||g)&&(u+="/"+p+g);continue}const y=Fs("_splat",e,s);u+="/"+p+y+g;continue}if(f===re){const d=t.substring(a[2],a[3]);!n&&!(d in e)&&(n=!0),r[d]=e[d];const p=t.substring(m,a[1]),g=t.substring(a[4],c),y=Fs(d,e,s)??"undefined";u+="/"+p+y+g;continue}if(f===Qe){const d=t.substring(a[2],a[3]),p=t.substring(m,a[1]),g=t.substring(a[4],c),y=e[d];if(y==null){(p||g)&&(u+="/"+p+g);continue}r[d]=y;const v=Fs(d,e,s)??"";u+="/"+p+v+g;continue}}return t.endsWith("/")&&(u+="/"),{usedParams:r,interpolatedPath:u||"/",isMissingParams:n}}function Mo(t,e){let s=encodeURIComponent(t);if(e)for(const[n,r]of e)s=s.replaceAll(n,r);return s}function at(t){return!!(t!=null&&t.isNotFound)}function Lo(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const vs="tsr-scroll-restoration-v1_3",Eo=(t,e)=>{let s;return(...n)=>{s||(s=setTimeout(()=>{t(...n),s=null},e))}};function Io(){const t=Lo();if(!t)return null;const e=t.getItem(vs);let s=e?JSON.parse(e):{};return{state:s,set:n=>(s=Xt(n,s)||s,t.setItem(vs,JSON.stringify(s)))}}const ns=Io(),un=t=>t.state.__TSR_key||t.href;function To(t){const e=[];let s;for(;s=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(s.children,t)+1})`),t=s;return`${e.reverse().join(" > ")}`.toLowerCase()}let Ss=!1;function qr({storageKey:t,key:e,behavior:s,shouldScrollRestoration:n,scrollToTopSelectors:r,location:i}){var h,m;let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(c){console.error(c);return}const a=e||((h=window.history.state)==null?void 0:h.__TSR_key),u=o[a];Ss=!0;t:{if(n&&u&&Object.keys(u).length>0){for(const d in u){const p=u[d];if(d==="window")window.scrollTo({top:p.scrollY,left:p.scrollX,behavior:s});else if(d){const g=document.querySelector(d);g&&(g.scrollLeft=p.scrollX,g.scrollTop=p.scrollY)}}break t}const c=(i??window.location).hash.split("#",2)[1];if(c){const d=((m=window.history.state)==null?void 0:m.__hashScrollIntoViewOptions)??!0;if(d){const p=document.getElementById(c);p&&p.scrollIntoView(d)}break t}const f={top:0,left:0,behavior:s};if(window.scrollTo(f),r)for(const d of r){if(d==="window")continue;const p=typeof d=="function"?d():document.querySelector(d);p&&p.scrollTo(f)}}Ss=!1}function Oo(t,e){if(!ns&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!ns))return;t.isScrollRestorationSetup=!0,Ss=!1;const n=t.options.getScrollRestorationKey||un;window.history.scrollRestoration="manual";const r=i=>{if(Ss||!t.isScrollRestoring)return;let o="";if(i.target===document||i.target===window)o="window";else{const u=i.target.getAttribute("data-scroll-restoration-id");u?o=`[data-scroll-restoration-id="${u}"]`:o=To(i.target)}const a=n(t.state.location);ns.set(u=>{const h=u[a]||(u[a]={}),m=h[o]||(h[o]={});if(o==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(o){const c=document.querySelector(o);c&&(m.scrollX=c.scrollLeft||0,m.scrollY=c.scrollTop||0)}return u})};typeof document<"u"&&document.addEventListener("scroll",Eo(r,100),!0),t.subscribe("onRendered",i=>{const o=n(i.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(qr({storageKey:vs,key:o,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&ns.set(a=>(a[o]||(a[o]={}),a)))})}function ko(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const s=document.getElementById(t.state.location.hash);s&&s.scrollIntoView(e)}}}function Fo(t,e=String){const s=new URLSearchParams;for(const n in t){const r=t[n];r!==void 0&&s.set(n,e(r))}return s.toString()}function As(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function Do(t){const e=new URLSearchParams(t),s={};for(const[n,r]of e.entries()){const i=s[n];i==null?s[n]=As(r):Array.isArray(i)?i.push(As(r)):s[n]=[i,As(r)]}return s}const Ao=Bo(JSON.parse),jo=Uo(JSON.stringify,JSON.parse);function Bo(t){return e=>{e[0]==="?"&&(e=e.substring(1));const s=Do(e);for(const n in s){const r=s[n];if(typeof r=="string")try{s[n]=t(r)}catch{}}return s}}function Uo(t,e){const s=typeof e=="function";function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(s&&typeof r=="string")try{return e(r),t(r)}catch{}return r}return r=>{const i=Fo(r,n);return i?`?${i}`:""}}const X="__root__";function No(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const s=new Response(null,{status:t.statusCode,headers:e});if(s.options=t,t.throw)throw s;return s}function ft(t){return t instanceof Response&&!!t.options}const us=t=>{var e;if(!t.rendered)return t.rendered=!0,(e=t.onReady)==null?void 0:e.call(t)},Ps=(t,e)=>!!(t.preload&&!t.router.state.matches.some(s=>s.id===e)),Hr=(t,e)=>{var r;const s=t.router.routesById[e.routeId??""]??t.router.routeTree;!s.options.notFoundComponent&&((r=t.router.options)!=null&&r.defaultNotFoundComponent)&&(s.options.notFoundComponent=t.router.options.defaultNotFoundComponent),wt(s.options.notFoundComponent);const n=t.matches.find(i=>i.routeId===s.id);wt(n,"Could not find match for route: "+s.id),t.updateMatch(n.id,i=>({...i,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&s.parentRoute&&(e.routeId=s.parentRoute.id,Hr(t,e))},At=(t,e,s)=>{var n,r,i;if(!(!ft(s)&&!at(s))){if(ft(s)&&s.redirectHandled&&!s.options.reloadDocument)throw s;if(e){(n=e._nonReactive.beforeLoadPromise)==null||n.resolve(),(r=e._nonReactive.loaderPromise)==null||r.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const o=ft(s)?"redirected":"notFound";e._nonReactive.error=s,t.updateMatch(e.id,a=>({...a,status:o,isFetching:!1,error:s})),at(s)&&!s.routeId&&(s.routeId=e.routeId),(i=e._nonReactive.loadPromise)==null||i.resolve()}throw ft(s)?(t.rendered=!0,s.options._fromLocation=t.location,s.redirectHandled=!0,s=t.router.resolveRedirect(s),s):(Hr(t,s),s)}},Vr=(t,e)=>{const s=t.router.getMatch(e);return!!(!t.router.isServer&&s._nonReactive.dehydrated||t.router.isServer&&s.ssr===!1)},Ie=(t,e,s,n)=>{var a,u;const{id:r,routeId:i}=t.matches[e],o=t.router.looseRoutesById[i];if(s instanceof Promise)throw s;s.routerCode=n,t.firstBadMatchIndex??(t.firstBadMatchIndex=e),At(t,t.router.getMatch(r),s);try{(u=(a=o.options).onError)==null||u.call(a,s)}catch(h){s=h,At(t,t.router.getMatch(r),s)}t.updateMatch(r,h=>{var m,c;return(m=h._nonReactive.beforeLoadPromise)==null||m.resolve(),h._nonReactive.beforeLoadPromise=void 0,(c=h._nonReactive.loadPromise)==null||c.resolve(),{...h,error:s,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},Qo=(t,e,s,n)=>{var d;const r=t.router.getMatch(e),i=(d=t.matches[s-1])==null?void 0:d.id,o=i?t.router.getMatch(i):void 0;if(t.router.isShell()){r.ssr=n.id===X;return}if((o==null?void 0:o.ssr)===!1){r.ssr=!1;return}const a=p=>p===!0&&(o==null?void 0:o.ssr)==="data-only"?"data-only":p,u=t.router.options.defaultSsr??!0;if(n.options.ssr===void 0){r.ssr=a(u);return}if(typeof n.options.ssr!="function"){r.ssr=a(n.options.ssr);return}const{search:h,params:m}=r,c={search:rs(h,r.searchError),params:rs(m,r.paramsError),location:t.location,matches:t.matches.map(p=>({index:p.index,pathname:p.pathname,fullPath:p.fullPath,staticData:p.staticData,id:p.id,routeId:p.routeId,search:rs(p.search,p.searchError),params:rs(p.params,p.paramsError),ssr:p.ssr}))},f=n.options.ssr(c);if(Ut(f))return f.then(p=>{r.ssr=a(p??u)});r.ssr=a(f??u)},Wr=(t,e,s,n)=>{var o;if(n._nonReactive.pendingTimeout!==void 0)return;const r=s.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Ps(t,e)&&(s.options.loader||s.options.beforeLoad||Yr(s))&&typeof r=="number"&&r!==1/0&&(s.options.pendingComponent??((o=t.router.options)==null?void 0:o.defaultPendingComponent)))){const a=setTimeout(()=>{us(t)},r);n._nonReactive.pendingTimeout=a}},$o=(t,e,s)=>{const n=t.router.getMatch(e);if(!n._nonReactive.beforeLoadPromise&&!n._nonReactive.loaderPromise)return;Wr(t,e,s,n);const r=()=>{const i=t.router.getMatch(e);i.preload&&(i.status==="redirected"||i.status==="notFound")&&At(t,i,i.error)};return n._nonReactive.beforeLoadPromise?n._nonReactive.beforeLoadPromise.then(r):r()},Ko=(t,e,s,n)=>{var x;const r=t.router.getMatch(e),i=r._nonReactive.loadPromise;r._nonReactive.loadPromise=_e(()=>{i==null||i.resolve()});const{paramsError:o,searchError:a}=r;o&&Ie(t,s,o,"PARSE_PARAMS"),a&&Ie(t,s,a,"VALIDATE_SEARCH"),Wr(t,e,n,r);const u=new AbortController,h=(x=t.matches[s-1])==null?void 0:x.id,m=h?t.router.getMatch(h):void 0,f={...(m==null?void 0:m.context)??t.router.options.context??void 0,...r.__routeContext};let d=!1;const p=()=>{d||(d=!0,t.updateMatch(e,M=>({...M,isFetching:"beforeLoad",fetchCount:M.fetchCount+1,abortController:u,context:f})))},g=()=>{var M;(M=r._nonReactive.beforeLoadPromise)==null||M.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,O=>({...O,isFetching:!1}))};if(!n.options.beforeLoad){Ae(()=>{p(),g()});return}r._nonReactive.beforeLoadPromise=_e();const{search:y,params:v,cause:P}=r,R=Ps(t,e),S={search:y,abortController:u,params:v,preload:R,context:f,location:t.location,navigate:M=>t.router.navigate({...M,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:R?"preload":P,matches:t.matches,...t.router.options.additionalContext},C=M=>{if(M===void 0){Ae(()=>{p(),g()});return}(ft(M)||at(M))&&(p(),Ie(t,s,M,"BEFORE_LOAD")),Ae(()=>{p(),t.updateMatch(e,O=>({...O,__beforeLoadContext:M,context:{...O.context,...M}})),g()})};let w;try{if(w=n.options.beforeLoad(S),Ut(w))return p(),w.catch(M=>{Ie(t,s,M,"BEFORE_LOAD")}).then(C)}catch(M){p(),Ie(t,s,M,"BEFORE_LOAD")}C(w)},zo=(t,e)=>{const{id:s,routeId:n}=t.matches[e],r=t.router.looseRoutesById[n],i=()=>{if(t.router.isServer){const u=Qo(t,s,e,r);if(Ut(u))return u.then(a)}return a()},o=()=>Ko(t,s,e,r),a=()=>{if(Vr(t,s))return;const u=$o(t,s,r);return Ut(u)?u.then(o):o()};return i()},je=(t,e,s)=>{var i,o,a,u,h,m;const n=t.router.getMatch(e);if(!n||!s.options.head&&!s.options.scripts&&!s.options.headers)return;const r={matches:t.matches,match:n,params:n.params,loaderData:n.loaderData};return Promise.all([(o=(i=s.options).head)==null?void 0:o.call(i,r),(u=(a=s.options).scripts)==null?void 0:u.call(a,r),(m=(h=s.options).headers)==null?void 0:m.call(h,r)]).then(([c,f,d])=>{const p=c==null?void 0:c.meta,g=c==null?void 0:c.links,y=c==null?void 0:c.scripts,v=c==null?void 0:c.styles;return{meta:p,links:g,headScripts:y,headers:d,scripts:f,styles:v}})},Gr=(t,e,s,n)=>{const r=t.matchPromises[s-1],{params:i,loaderDeps:o,abortController:a,cause:u}=t.router.getMatch(e);let h=t.router.options.context??{};for(let c=0;c<=s;c++){const f=t.matches[c];if(!f)continue;const d=t.router.getMatch(f.id);d&&(h={...h,...d.__routeContext??{},...d.__beforeLoadContext??{}})}const m=Ps(t,e);return{params:i,deps:o,preload:!!m,parentMatchPromise:r,abortController:a,context:h,location:t.location,navigate:c=>t.router.navigate({...c,_fromLocation:t.location}),cause:m?"preload":u,route:n,...t.router.options.additionalContext}},er=async(t,e,s,n)=>{var r,i,o,a,u,h;try{const m=t.router.getMatch(e);try{(!t.router.isServer||m.ssr===!0)&&Jr(n);const c=(i=(r=n.options).loader)==null?void 0:i.call(r,Gr(t,e,s,n)),f=n.options.loader&&Ut(c);if(!!(f||n._lazyPromise||n._componentsPromise||n.options.head||n.options.scripts||n.options.headers||m._nonReactive.minPendingPromise)&&t.updateMatch(e,v=>({...v,isFetching:"loader"})),n.options.loader){const v=f?await c:c;At(t,t.router.getMatch(e),v),v!==void 0&&t.updateMatch(e,P=>({...P,loaderData:v}))}n._lazyPromise&&await n._lazyPromise;const p=je(t,e,n),g=p?await p:void 0,y=m._nonReactive.minPendingPromise;y&&await y,n._componentsPromise&&await n._componentsPromise,t.updateMatch(e,v=>({...v,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...g}))}catch(c){let f=c;const d=m._nonReactive.minPendingPromise;d&&await d,at(c)&&await((a=(o=n.options.notFoundComponent)==null?void 0:o.preload)==null?void 0:a.call(o)),At(t,t.router.getMatch(e),c);try{(h=(u=n.options).onError)==null||h.call(u,c)}catch(y){f=y,At(t,t.router.getMatch(e),y)}const p=je(t,e,n),g=p?await p:void 0;t.updateMatch(e,y=>({...y,error:f,status:"error",isFetching:!1,...g}))}}catch(m){const c=t.router.getMatch(e);if(c){const f=je(t,e,n);if(f){const d=await f;t.updateMatch(e,p=>({...p,...d}))}c._nonReactive.loaderPromise=void 0}At(t,c,m)}},qo=async(t,e)=>{var h,m;const{id:s,routeId:n}=t.matches[e];let r=!1,i=!1;const o=t.router.looseRoutesById[n];if(Vr(t,s)){if(t.router.isServer){const c=je(t,s,o);if(c){const f=await c;t.updateMatch(s,d=>({...d,...f}))}return t.router.getMatch(s)}}else{const c=t.router.getMatch(s);if(c._nonReactive.loaderPromise){if(c.status==="success"&&!t.sync&&!c.preload)return c;await c._nonReactive.loaderPromise;const f=t.router.getMatch(s),d=f._nonReactive.error||f.error;d&&At(t,f,d)}else{const f=Date.now()-c.updatedAt,d=Ps(t,s),p=d?o.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:o.options.staleTime??t.router.options.defaultStaleTime??0,g=o.options.shouldReload,y=typeof g=="function"?g(Gr(t,s,e,o)):g,v=!!d&&!t.router.state.matches.some(C=>C.id===s),P=t.router.getMatch(s);P._nonReactive.loaderPromise=_e(),v!==P.preload&&t.updateMatch(s,C=>({...C,preload:v}));const{status:R,invalid:S}=P;if(r=R==="success"&&(S||(y??f>p)),!(d&&o.options.preload===!1))if(r&&!t.sync)i=!0,(async()=>{var C,w;try{await er(t,s,e,o);const x=t.router.getMatch(s);(C=x._nonReactive.loaderPromise)==null||C.resolve(),(w=x._nonReactive.loadPromise)==null||w.resolve(),x._nonReactive.loaderPromise=void 0}catch(x){ft(x)&&await t.router.navigate(x.options)}})();else if(R!=="success"||r&&t.sync)await er(t,s,e,o);else{const C=je(t,s,o);if(C){const w=await C;t.updateMatch(s,x=>({...x,...w}))}}}}const a=t.router.getMatch(s);i||((h=a._nonReactive.loaderPromise)==null||h.resolve(),(m=a._nonReactive.loadPromise)==null||m.resolve()),clearTimeout(a._nonReactive.pendingTimeout),a._nonReactive.pendingTimeout=void 0,i||(a._nonReactive.loaderPromise=void 0),a._nonReactive.dehydrated=void 0;const u=i?a.isFetching:!1;return u!==a.isFetching||a.invalid!==!1?(t.updateMatch(s,c=>({...c,isFetching:u,invalid:!1})),t.router.getMatch(s)):a};async function sr(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(s=>s._forcePending)&&us(e);try{for(let r=0;r<e.matches.length;r++){const i=zo(e,r);Ut(i)&&await i}const s=e.firstBadMatchIndex??e.matches.length;for(let r=0;r<s;r++)e.matchPromises.push(qo(e,r));await Promise.all(e.matchPromises);const n=us(e);Ut(n)&&await n}catch(s){if(at(s)&&!e.preload){const n=us(e);throw Ut(n)&&await n,s}if(ft(s))throw s}return e.matches}async function Jr(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:s,...n}=e.options;Object.assign(t.options,n),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{var n;const s=[];for(const r of Xr){const i=(n=t.options[r])==null?void 0:n.preload;i&&s.push(i())}if(s.length)return Promise.all(s).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function rs(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function Yr(t){var e;for(const s of Xr)if((e=t.options[s])!=null&&e.preload)return!0;return!1}const Xr=["component","errorComponent","pendingComponent","notFoundComponent"];function Ho(t){return{input:({url:e})=>{for(const s of t)e=Zr(s,e);return e},output:({url:e})=>{for(let s=t.length-1;s>=0;s--)e=ti(t[s],e);return e}}}function Vo(t){const e=cs(t.basepath),s=`/${e}`,n=`${s}/`,r=t.caseSensitive?s:s.toLowerCase(),i=t.caseSensitive?n:n.toLowerCase();return{input:({url:o})=>{const a=t.caseSensitive?o.pathname:o.pathname.toLowerCase();return a===r?o.pathname="/":a.startsWith(i)&&(o.pathname=o.pathname.slice(s.length)),o},output:({url:o})=>(o.pathname=as(["/",e,o.pathname]),o)}}function Zr(t,e){var n;const s=(n=t==null?void 0:t.input)==null?void 0:n.call(t,{url:e});if(s){if(typeof s=="string")return new URL(s);if(s instanceof URL)return s}return e}function ti(t,e){var n;const s=(n=t==null?void 0:t.output)==null?void 0:n.call(t,{url:e});if(s){if(typeof s=="string")return new URL(s);if(s instanceof URL)return s}return e}function ee(t){const e=t.resolvedLocation,s=t.location,n=(e==null?void 0:e.pathname)!==s.pathname,r=(e==null?void 0:e.href)!==s.href,i=(e==null?void 0:e.hash)!==s.hash;return{fromLocation:e,toLocation:s,pathChanged:n,hrefChanged:r,hashChanged:i}}class Wo{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=s=>s(),this.update=s=>{var f;s.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const n=this.options,r=this.basepath??(n==null?void 0:n.basepath)??"/",i=this.basepath===void 0,o=n==null?void 0:n.rewrite;this.options={...n,...s},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(d=>[encodeURIComponent(d),d])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=ao())),this.origin=this.options.origin,this.origin||(!this.isServer&&(window!=null&&window.origin)&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new io(Jo(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(d=>!["redirected"].includes(d.status))}}}),Oo(this));let a=!1;const u=this.options.basepath??"/",h=this.options.rewrite;if(i||r!==u||o!==h){this.basepath=u;const d=[];cs(u)!==""&&d.push(Vo({basepath:u})),h&&d.push(h),this.rewrite=d.length===0?void 0:d.length===1?d[0]:Ho(d),this.history&&this.updateLatestLocation(),a=!0}a&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((f=window.CSS)==null?void 0:f.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:s,routesByPath:n,processedTree:r}=Ro(this.routeTree,this.options.caseSensitive,(o,a)=>{o.init({originalIndex:a})});this.options.routeMasks&&po(this.options.routeMasks,r),this.routesById=s,this.routesByPath=n,this.processedTree=r;const i=this.options.notFoundRoute;i&&(i.init({originalIndex:99999999999}),this.routesById[i.id]=i)},this.subscribe=(s,n)=>{const r={eventType:s,fn:n};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=s=>{this.subscribers.forEach(n=>{n.eventType===s.type&&n.fn(s)})},this.parseLocation=(s,n)=>{const r=({href:u,state:h})=>{const m=new URL(u,this.origin),c=Zr(this.rewrite,m),f=this.options.parseSearch(c.search),d=this.options.stringifySearch(f);c.search=d;const p=c.href.replace(c.origin,""),{pathname:g,hash:y}=c;return{href:p,publicHref:u,url:c.href,pathname:tr(g),searchStr:d,search:tt(n==null?void 0:n.search,f),hash:y.split("#").reverse()[0]??"",state:tt(n==null?void 0:n.state,h)}},i=r(s),{__tempLocation:o,__tempKey:a}=i.state;if(o&&(!a||a===this.tempLocationKey)){const u=r(o);return u.state.key=i.state.key,u.state.__TSR_key=i.state.__TSR_key,delete u.state.__tempLocation,{...u,maskedLocation:i}}return i},this.resolvePathCache=ys(1e3),this.resolvePathWithBase=(s,n)=>Co({base:s,to:wn(n),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(s,n,r)=>typeof s=="string"?this.matchRoutesInternal({pathname:s,search:n},r):this.matchRoutesInternal(s,n),this.getMatchedRoutes=s=>Yo({pathname:s,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=s=>{const n=this.getMatch(s);n&&(n.abortController.abort(),clearTimeout(n._nonReactive.pendingTimeout),n._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const s=this.state.matches.filter(i=>i.status==="pending"),n=this.state.matches.filter(i=>i.isFetching==="loader");new Set([...this.state.pendingMatches??[],...s,...n]).forEach(i=>{this.cancelMatch(i.id)})},this.buildLocation=s=>{const n=(i={})=>{var b,L;const o=i._fromLocation||this.pendingBuiltLocation||this.latestLocation,a=this.matchRoutes(o,{_buildLocation:!0}),u=ms(a);i.from;const h=i.unsafeRelative==="path"?o.pathname:i.from??u.fullPath,m=this.resolvePathWithBase(h,"."),c=u.search,f={...u.params},d=i.to?this.resolvePathWithBase(m,`${i.to}`):this.resolvePathWithBase(m,"."),p=i.params===!1||i.params===null?{}:(i.params??!0)===!0?f:Object.assign(f,Xt(i.params,f)),g=Ds({path:d,params:p}).interpolatedPath,y=this.matchRoutes(g,void 0,{_buildLocation:!0}).map(D=>this.looseRoutesById[D.routeId]);if(Object.keys(p).length>0)for(const D of y){const B=((b=D.options.params)==null?void 0:b.stringify)??D.options.stringifyParams;B&&Object.assign(p,B(p))}const v=s.leaveParams?d:tr(Ds({path:d,params:p,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath);let P=c;if(s._includeValidateSearch&&((L=this.options.search)!=null&&L.strict)){const D={};y.forEach(B=>{if(B.options.validateSearch)try{Object.assign(D,ln(B.options.validateSearch,{...D,...P}))}catch{}}),P=D}P=Xo({search:P,dest:i,destRoutes:y,_includeValidateSearch:s._includeValidateSearch}),P=tt(c,P);const R=this.options.stringifySearch(P),S=i.hash===!0?o.hash:i.hash?Xt(i.hash,o.hash):void 0,C=S?`#${S}`:"";let w=i.state===!0?o.state:i.state?Xt(i.state,o.state):{};w=tt(o.state,w);const x=`${v}${R}${C}`,M=new URL(x,this.origin),O=ti(this.rewrite,M);return{publicHref:O.pathname+O.search+O.hash,href:x,url:O.href,pathname:v,search:P,searchStr:R,state:w,hash:S??"",unmaskOnReload:i.unmaskOnReload}},r=(i={},o)=>{const a=n(i);let u=o?n(o):void 0;if(!u){const h={};if(this.options.routeMasks){const m=yo(a.pathname,this.processedTree);if(m){Object.assign(h,m.params);const{from:c,...f}=m.route;o={from:s.from,...f,params:h},u=n(o)}}}return u&&(a.maskedLocation=u),a};return s.mask?r(s,{from:s.from,...s.mask}):r(s)},this.commitLocation=({viewTransition:s,ignoreBlocker:n,...r})=>{const i=()=>{const u=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];u.forEach(m=>{r.state[m]=this.latestLocation.state[m]});const h=Zt(r.state,this.latestLocation.state);return u.forEach(m=>{delete r.state[m]}),h},o=te(this.latestLocation.href)===te(r.href),a=this.commitLocationPromise;if(this.commitLocationPromise=_e(()=>{a==null||a.resolve()}),o&&i())this.load();else{let{maskedLocation:u,hashScrollIntoView:h,...m}=r;u&&(m={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=s,this.history[r.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:n})}return this.resetNextScroll=r.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:s,resetScroll:n,hashScrollIntoView:r,viewTransition:i,ignoreBlocker:o,href:a,...u}={})=>{if(a){const c=this.history.location.state.__TSR_index,f=fs(a,{__TSR_index:s?c:c+1});u.to=f.pathname,u.search=this.options.parseSearch(f.search),u.hash=f.hash.slice(1)}const h=this.buildLocation({...u,_includeValidateSearch:!0});this.pendingBuiltLocation=h;const m=this.commitLocation({...h,viewTransition:i,replace:s,resetScroll:n,hashScrollIntoView:r,ignoreBlocker:o});return Promise.resolve().then(()=>{this.pendingBuiltLocation===h&&(this.pendingBuiltLocation=void 0)}),m},this.navigate=({to:s,reloadDocument:n,href:r,...i})=>{if(!n&&r)try{new URL(`${r}`),n=!0}catch{}return n?(r||(r=this.buildLocation({to:s,...i}).url),i.replace?window.location.replace(r):window.location.href=r,Promise.resolve()):this.buildAndCommitLocation({...i,href:r,to:s,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const n=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),r=i=>{try{return encodeURI(decodeURI(i))}catch{return i}};if(cs(r(this.latestLocation.href))!==cs(r(n.href))){let i=n.url;throw this.origin&&i.startsWith(this.origin)&&(i=i.replace(this.origin,"")||"/"),No({href:i})}}const s=this.matchRoutes(this.latestLocation);this.__store.setState(n=>({...n,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:s,cachedMatches:n.cachedMatches.filter(r=>!s.some(i=>i.id===r.id))}))},this.load=async s=>{let n,r,i;for(i=new Promise(a=>{this.startTransition(async()=>{var u;try{this.beforeLoad();const h=this.latestLocation,m=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ee({resolvedLocation:m,location:h})}),this.emit({type:"onBeforeLoad",...ee({resolvedLocation:m,location:h})}),await sr({router:this,sync:s==null?void 0:s.sync,matches:this.state.pendingMatches,location:h,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let c=[],f=[],d=[];Ae(()=>{this.__store.setState(p=>{const g=p.matches,y=p.pendingMatches||p.matches;return c=g.filter(v=>!y.some(P=>P.id===v.id)),f=y.filter(v=>!g.some(P=>P.id===v.id)),d=y.filter(v=>g.some(P=>P.id===v.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:y,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...c.filter(v=>v.status!=="error")]}}),this.clearExpiredCache()}),[[c,"onLeave"],[f,"onEnter"],[d,"onStay"]].forEach(([p,g])=>{p.forEach(y=>{var v,P;(P=(v=this.looseRoutesById[y.routeId].options)[g])==null||P.call(v,y)})})})})}})}catch(h){ft(h)?(n=h,this.isServer||this.navigate({...n.options,replace:!0,ignoreBlocker:!0})):at(h)&&(r=h),this.__store.setState(m=>({...m,statusCode:n?n.status:r?404:m.matches.some(c=>c.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&((u=this.commitLocationPromise)==null||u.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise;let o;this.hasNotFoundMatch()?o=404:this.__store.state.matches.some(a=>a.status==="error")&&(o=500),o!==void 0&&this.__store.setState(a=>({...a,statusCode:o}))},this.startViewTransition=s=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let r;if(typeof n=="object"&&this.isViewTransitionTypesSupported){const i=this.latestLocation,o=this.state.resolvedLocation,a=typeof n.types=="function"?n.types(ee({resolvedLocation:o,location:i})):n.types;if(a===!1){s();return}r={update:s,types:a}}else r=s;document.startViewTransition(r)}else s()},this.updateMatch=(s,n)=>{this.startTransition(()=>{var i;const r=(i=this.state.pendingMatches)!=null&&i.some(o=>o.id===s)?"pendingMatches":this.state.matches.some(o=>o.id===s)?"matches":this.state.cachedMatches.some(o=>o.id===s)?"cachedMatches":"";r&&this.__store.setState(o=>{var a;return{...o,[r]:(a=o[r])==null?void 0:a.map(u=>u.id===s?n(u):u)}})})},this.getMatch=s=>{var r;const n=i=>i.id===s;return this.state.cachedMatches.find(n)??((r=this.state.pendingMatches)==null?void 0:r.find(n))??this.state.matches.find(n)},this.invalidate=s=>{const n=r=>{var i;return((i=s==null?void 0:s.filter)==null?void 0:i.call(s,r))??!0?{...r,invalid:!0,...s!=null&&s.forcePending||r.status==="error"?{status:"pending",error:void 0}:void 0}:r};return this.__store.setState(r=>{var i;return{...r,matches:r.matches.map(n),cachedMatches:r.cachedMatches.map(n),pendingMatches:(i=r.pendingMatches)==null?void 0:i.map(n)}}),this.shouldViewTransition=!1,this.load({sync:s==null?void 0:s.sync})},this.resolveRedirect=s=>{if(!s.options.href){const n=this.buildLocation(s.options);let r=n.url;this.origin&&r.startsWith(this.origin)&&(r=r.replace(this.origin,"")||"/"),s.options.href=n.href,s.headers.set("Location",r)}return s.headers.get("Location")||s.headers.set("Location",s.options.href),s},this.clearCache=s=>{const n=s==null?void 0:s.filter;n!==void 0?this.__store.setState(r=>({...r,cachedMatches:r.cachedMatches.filter(i=>!n(i))})):this.__store.setState(r=>({...r,cachedMatches:[]}))},this.clearExpiredCache=()=>{const s=n=>{const r=this.looseRoutesById[n.routeId];if(!r.options.loader)return!0;const i=(n.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return n.status==="error"?!0:Date.now()-n.updatedAt>=i};this.clearCache({filter:s})},this.loadRouteChunk=Jr,this.preloadRoute=async s=>{const n=this.buildLocation(s);let r=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:s});const i=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...i,...this.state.cachedMatches.map(a=>a.id)]);Ae(()=>{r.forEach(a=>{o.has(a.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,a]}))})});try{return r=await sr({router:this,matches:r,location:n,preload:!0,updateMatch:(a,u)=>{i.has(a)?r=r.map(h=>h.id===a?u(h):h):this.updateMatch(a,u)}}),r}catch(a){if(ft(a))return a.options.reloadDocument?void 0:await this.preloadRoute({...a.options,_fromLocation:n});at(a)||console.error(a);return}},this.matchRoute=(s,n)=>{const r={...s,to:s.to?this.resolvePathWithBase(s.from||"",s.to):void 0,params:s.params||{},leaveParams:!0},i=this.buildLocation(r);if(n!=null&&n.pending&&this.state.status!=="pending")return!1;const a=((n==null?void 0:n.pending)===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,u=go(i.pathname,(n==null?void 0:n.caseSensitive)??!1,(n==null?void 0:n.fuzzy)??!1,a.pathname,this.processedTree);return!u||s.params&&!Zt(u.params,s.params,{partial:!0})?!1:(n==null?void 0:n.includeSearch)??!0?Zt(a.search,i.search,{partial:!0})?u.params:!1:u.params},this.hasNotFoundMatch=()=>this.__store.state.matches.some(s=>s.status==="notFound"||s.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??jo,parseSearch:e.parseSearch??Ao}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,s){const n=this.getMatchedRoutes(e.pathname),{foundRoute:r,routeParams:i}=n;let{matchedRoutes:o}=n,a=!1;(r?r.path!=="/"&&i["**"]:te(e.pathname))&&(this.options.notFoundRoute?o=[...o,this.options.notFoundRoute]:a=!0);const u=(()=>{if(a){if(this.options.notFoundMode!=="root")for(let c=o.length-1;c>=0;c--){const f=o[c];if(f.children)return f.id}return X}})(),h=[],m=c=>(c==null?void 0:c.id)?c.context??this.options.context??void 0:this.options.context??void 0;return o.forEach((c,f)=>{var B,ct,Me;const d=h[f-1],[p,g,y]=(()=>{const W=(d==null?void 0:d.search)??e.search,Pt=(d==null?void 0:d._strictSearch)??void 0;try{const ut=ln(c.options.validateSearch,{...W})??void 0;return[{...W,...ut},{...Pt,...ut},void 0]}catch(ut){let Le=ut;if(ut instanceof Rs||(Le=new Rs(ut.message,{cause:ut})),s!=null&&s.throwOnError)throw Le;return[W,{},Le]}})(),v=((ct=(B=c.options).loaderDeps)==null?void 0:ct.call(B,{search:p}))??"",P=v?JSON.stringify(v):"",{interpolatedPath:R,usedParams:S}=Ds({path:c.fullPath,params:i,decodeCharMap:this.pathParamsDecodeCharMap}),C=c.id+R+P,w=this.getMatch(C),x=this.state.matches.find(W=>W.routeId===c.id),M=(w==null?void 0:w._strictParams)??S;let O;if(!w){const W=((Me=c.options.params)==null?void 0:Me.parse)??c.options.parseParams;if(W)try{Object.assign(M,W(M))}catch(Pt){if(O=new Go(Pt.message,{cause:Pt}),s!=null&&s.throwOnError)throw O}}Object.assign(i,M);const b=x?"stay":"enter";let L;if(w)L={...w,cause:b,params:x?tt(x.params,i):i,_strictParams:M,search:tt(x?x.search:w.search,p),_strictSearch:g};else{const W=c.options.loader||c.options.beforeLoad||c.lazyFn||Yr(c)?"pending":"success";L={id:C,index:f,routeId:c.id,params:x?tt(x.params,i):i,_strictParams:M,pathname:R,updatedAt:Date.now(),search:x?tt(x.search,p):p,_strictSearch:g,searchError:void 0,status:W,isFetching:!1,error:void 0,paramsError:O,__routeContext:void 0,_nonReactive:{loadPromise:_e()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:b,loaderDeps:x?tt(x.loaderDeps,v):v,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:c.options.staticData||{},fullPath:c.fullPath}}s!=null&&s.preload||(L.globalNotFound=u===c.id),L.searchError=y;const D=m(d);L.context={...D,...L.__routeContext,...L.__beforeLoadContext},h.push(L)}),h.forEach((c,f)=>{const d=this.looseRoutesById[c.routeId];if(!this.getMatch(c.id)&&(s==null?void 0:s._buildLocation)!==!0){const g=h[f-1],y=m(g);if(d.options.context){const v={deps:c.loaderDeps,params:c.params,context:y??{},location:e,navigate:P=>this.navigate({...P,_fromLocation:e}),buildLocation:this.buildLocation,cause:c.cause,abortController:c.abortController,preload:!!c.preload,matches:h};c.__routeContext=d.options.context(v)??void 0}c.context={...y,...c.__routeContext,...c.__beforeLoadContext}}}),h}}class Rs extends Error{}class Go extends Error{}function Jo(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function ln(t,e){if(t==null)return{};if("~standard"in t){const s=t["~standard"].validate(e);if(s instanceof Promise)throw new Rs("Async validation not supported");if(s.issues)throw new Rs(JSON.stringify(s.issues,void 0,2),{cause:s});return s.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function Yo({pathname:t,routesById:e,processedTree:s}){const n={},r=te(t);let i;const o=vo(r,s,!0);return o&&(i=o.route,Object.assign(n,o.params)),{matchedRoutes:(o==null?void 0:o.branch)||[e[X]],routeParams:n,foundRoute:i}}function Xo({search:t,dest:e,destRoutes:s,_includeValidateSearch:n}){const r=s.reduce((a,u)=>{var m;const h=[];if("search"in u.options)(m=u.options.search)!=null&&m.middlewares&&h.push(...u.options.search.middlewares);else if(u.options.preSearchFilters||u.options.postSearchFilters){const c=({search:f,next:d})=>{let p=f;"preSearchFilters"in u.options&&u.options.preSearchFilters&&(p=u.options.preSearchFilters.reduce((y,v)=>v(y),f));const g=d(p);return"postSearchFilters"in u.options&&u.options.postSearchFilters?u.options.postSearchFilters.reduce((y,v)=>v(y),g):g};h.push(c)}if(n&&u.options.validateSearch){const c=({search:f,next:d})=>{const p=d(f);try{return{...p,...ln(u.options.validateSearch,p)??void 0}}catch{return p}};h.push(c)}return a.concat(h)},[])??[],i=({search:a})=>e.search?e.search===!0?a:Xt(e.search,a):{};r.push(i);const o=(a,u)=>{if(a>=r.length)return u;const h=r[a];return h({search:u,next:c=>o(a+1,c)})};return o(0,t)}const Zo="Error preloading route! ";class ei{constructor(e){if(this.init=s=>{var h,m;this.originalIndex=s.originalIndex;const n=this.options,r=!(n!=null&&n.path)&&!(n!=null&&n.id);this.parentRoute=(m=(h=this.options).getParentRoute)==null?void 0:m.call(h),r?this._path=X:this.parentRoute||wt(!1);let i=r?X:n==null?void 0:n.path;i&&i!=="/"&&(i=zr(i));const o=(n==null?void 0:n.id)||i;let a=r?X:as([this.parentRoute.id===X?"":this.parentRoute.id,o]);i===X&&(i="/"),a!==X&&(a=as(["/",a]));const u=a===X?"/":as([this.parentRoute.fullPath,i]);this._path=i,this._id=a,this._fullPath=u,this._to=u},this.addChildren=s=>this._addFileChildren(s),this._addFileChildren=s=>(Array.isArray(s)&&(this.children=s),typeof s=="object"&&s!==null&&(this.children=Object.values(s)),this),this._addFileTypes=()=>this,this.updateLoader=s=>(Object.assign(this.options,s),this),this.update=s=>(Object.assign(this.options,s),this),this.lazy=s=>(this.lazyFn=s,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class ta extends ei{constructor(e){super(e)}}function Pn(t){const e=t.errorComponent??_s;return T.jsx(ea,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:s,reset:n})=>s?I.createElement(e,{error:s,reset:n}):t.children})}class ea extends I.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,s){s.error&&s.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,s){this.props.onCatch&&this.props.onCatch(e,s)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function _s({error:t}){const[e,s]=I.useState(!1);return T.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[T.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),T.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(n=>!n),children:e?"Hide Error":"Show Error"})]}),T.jsx("div",{style:{height:".25rem"}}),e?T.jsx("div",{children:T.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?T.jsx("code",{children:t.message}):null})}):null]})}function sa({children:t,fallback:e=null}){return na()?T.jsx(Be.Fragment,{children:t}):T.jsx(Be.Fragment,{children:e})}function na(){return Be.useSyncExternalStore(ra,()=>!0,()=>!1)}function ra(){return()=>{}}var si={exports:{}},ni={},ri={exports:{}},ii={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=I;function ia(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oa=typeof Object.is=="function"?Object.is:ia,aa=Ce.useState,ca=Ce.useEffect,ua=Ce.useLayoutEffect,la=Ce.useDebugValue;function ha(t,e){var s=e(),n=aa({inst:{value:s,getSnapshot:e}}),r=n[0].inst,i=n[1];return ua(function(){r.value=s,r.getSnapshot=e,js(r)&&i({inst:r})},[t,s,e]),ca(function(){return js(r)&&i({inst:r}),t(function(){js(r)&&i({inst:r})})},[t]),la(s),s}function js(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!oa(t,s)}catch{return!0}}function da(t,e){return e()}var fa=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?da:ha;ii.useSyncExternalStore=Ce.useSyncExternalStore!==void 0?Ce.useSyncExternalStore:fa;ri.exports=ii;var ma=ri.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=I,pa=ma;function ya(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ga=typeof Object.is=="function"?Object.is:ya,va=pa.useSyncExternalStore,Sa=xs.useRef,Ra=xs.useEffect,ba=xs.useMemo,wa=xs.useDebugValue;ni.useSyncExternalStoreWithSelector=function(t,e,s,n,r){var i=Sa(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ba(function(){function u(d){if(!h){if(h=!0,m=d,d=n(d),r!==void 0&&o.hasValue){var p=o.value;if(r(p,d))return c=p}return c=d}if(p=c,ga(m,d))return p;var g=n(d);return r!==void 0&&r(p,g)?(m=d,p):(m=d,c=g)}var h=!1,m,c,f=s===void 0?null:s;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,s,n,r]);var a=va(t,i[0],i[1]);return Ra(function(){o.hasValue=!0,o.value=a},[a]),wa(a),a};si.exports=ni;var Pa=si.exports;function _a(t,e=n=>n,s={}){const n=s.equal??xa;return Pa.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,n)}function xa(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,r]of t)if(!e.has(n)||!Object.is(r,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const s=nr(t);if(s.length!==nr(e).length)return!1;for(let n=0;n<s.length;n++)if(!Object.prototype.hasOwnProperty.call(e,s[n])||!Object.is(t[s[n]],e[s[n]]))return!1;return!0}function nr(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const Bs=I.createContext(null);function oi(){return typeof document>"u"?Bs:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Bs,Bs)}function Z(t){const e=I.useContext(oi());return t==null||t.warn,e}function V(t){const e=Z({warn:(t==null?void 0:t.router)===void 0}),s=(t==null?void 0:t.router)||e,n=I.useRef(void 0);return _a(s.__store,r=>{if(t!=null&&t.select){if(t.structuralSharing??s.options.defaultStructuralSharing){const i=tt(n.current,t.select(r));return n.current=i,i}return t.select(r)}return r})}const Cs=I.createContext(void 0),Ca=I.createContext(void 0);function mt(t){const e=I.useContext(t.from?Ca:Cs);return V({select:n=>{const r=n.matches.find(i=>t.from?t.from===i.routeId:i.id===e);if(wt(!((t.shouldThrow??!0)&&!r),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),r!==void 0)return t.select?t.select(r):r},structuralSharing:t.structuralSharing})}function _n(t){return mt({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function xn(t){const{select:e,...s}=t;return mt({...s,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Cn(t){return mt({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const s=t.strict===!1?e.params:e._strictParams;return t.select?t.select(s):s}})}function Mn(t){return mt({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ln(t){const e=Z();return I.useCallback(s=>e.navigate({...s,from:s.from??(t==null?void 0:t.from)}),[t==null?void 0:t.from,e])}const is=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Us(t){const e=I.useRef({value:t,prev:null}),s=e.current.value;return t!==s&&(e.current={value:t,prev:s}),e.current.prev}function Ma(t,e,s={},n={}){I.useEffect(()=>{if(!t.current||n.disabled||typeof IntersectionObserver!="function")return;const r=new IntersectionObserver(([i])=>{e(i)},s);return r.observe(t.current),()=>{r.disconnect()}},[e,s,n.disabled,t])}function La(t){const e=I.useRef(null);return I.useImperativeHandle(t,()=>e.current,[]),e}function Ea(t,e){const s=Z(),[n,r]=I.useState(!1),i=I.useRef(!1),o=La(e),{activeProps:a,inactiveProps:u,activeOptions:h,to:m,preload:c,preloadDelay:f,hashScrollIntoView:d,replace:p,startTransition:g,resetScroll:y,viewTransition:v,children:P,target:R,disabled:S,style:C,className:w,onClick:x,onFocus:M,onMouseEnter:O,onMouseLeave:b,onTouchStart:L,ignoreBlocker:D,params:B,search:ct,hash:Me,state:W,mask:Pt,reloadDocument:ut,unsafeRelative:Le,from:Ja,_fromLocation:Ya,...En}=t,li=V({select:j=>j.location.search,structuralSharing:!0}),In=t.from,Ee=I.useMemo(()=>({...t,from:In}),[s,li,In,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),pt=I.useMemo(()=>s.buildLocation({...Ee}),[s,Ee]),_t=I.useMemo(()=>{if(S)return;let j=pt.maskedLocation?pt.maskedLocation.url:pt.url,K=!1;return s.origin&&(j.startsWith(s.origin)?j=s.history.createHref(j.replace(s.origin,""))||"/":K=!0),{href:j,external:K}},[S,pt.maskedLocation,pt.url,s.origin,s.history]),Ye=I.useMemo(()=>{if(_t!=null&&_t.external)return _t.href;try{return new URL(m),m}catch{}},[m,_t]),ae=t.reloadDocument||Ye?!1:c??s.options.defaultPreload,Ms=f??s.options.defaultPreloadDelay??0,Ls=V({select:j=>{if(Ye)return!1;if(h!=null&&h.exact){if(!xo(j.location.pathname,pt.pathname,s.basepath))return!1}else{const K=gs(j.location.pathname,s.basepath),rt=gs(pt.pathname,s.basepath);if(!(K.startsWith(rt)&&(K.length===rt.length||K[rt.length]==="/")))return!1}return((h==null?void 0:h.includeSearch)??!0)&&!Zt(j.location.search,pt.search,{partial:!(h!=null&&h.exact),ignoreUndefined:!(h!=null&&h.explicitUndefined)})?!1:h!=null&&h.includeHash?j.location.hash===pt.hash:!0}}),Nt=I.useCallback(()=>{s.preloadRoute({...Ee}).catch(j=>{console.warn(j),console.warn(Zo)})},[s,Ee]),hi=I.useCallback(j=>{j!=null&&j.isIntersecting&&Nt()},[Nt]);Ma(o,hi,Fa,{disabled:!!S||ae!=="viewport"}),I.useEffect(()=>{i.current||!S&&ae==="render"&&(Nt(),i.current=!0)},[S,Nt,ae]);const di=j=>{const K=j.currentTarget.getAttribute("target"),rt=R!==void 0?R:K;if(!S&&!Da(j)&&!j.defaultPrevented&&(!rt||rt==="_self")&&j.button===0){j.preventDefault(),yi.flushSync(()=>{r(!0)});const Fn=s.subscribe("onResolved",()=>{Fn(),r(!1)});s.navigate({...Ee,replace:p,resetScroll:y,hashScrollIntoView:d,startTransition:g,viewTransition:v,ignoreBlocker:D})}};if(Ye)return{...En,ref:o,href:Ye,...P&&{children:P},...R&&{target:R},...S&&{disabled:S},...C&&{style:C},...w&&{className:w},...x&&{onClick:x},...M&&{onFocus:M},...O&&{onMouseEnter:O},...b&&{onMouseLeave:b},...L&&{onTouchStart:L}};const Tn=j=>{S||ae&&Nt()},fi=Tn,mi=j=>{if(!(S||!ae))if(!Ms)Nt();else{const K=j.target;if(Te.has(K))return;const rt=setTimeout(()=>{Te.delete(K),Nt()},Ms);Te.set(K,rt)}},pi=j=>{if(S||!ae||!Ms)return;const K=j.target,rt=Te.get(K);rt&&(clearTimeout(rt),Te.delete(K))},Xe=Ls?Xt(a,{})??Ia:Ns,Ze=Ls?Ns:Xt(u,{})??Ns,On=[w,Xe.className,Ze.className].filter(Boolean).join(" "),kn=(C||Xe.style||Ze.style)&&{...C,...Xe.style,...Ze.style};return{...En,...Xe,...Ze,href:_t==null?void 0:_t.href,ref:o,onClick:Oe([x,di]),onFocus:Oe([M,Tn]),onMouseEnter:Oe([O,mi]),onMouseLeave:Oe([b,pi]),onTouchStart:Oe([L,fi]),disabled:!!S,target:R,...kn&&{style:kn},...On&&{className:On},...S&&Ta,...Ls&&Oa,...n&&ka}}const Ns={},Ia={className:"active"},Ta={role:"link","aria-disabled":!0},Oa={"data-status":"active","aria-current":"page"},ka={"data-transitioning":"transitioning"},Te=new WeakMap,Fa={rootMargin:"100px"},Oe=t=>e=>{for(const s of t)if(s){if(e.defaultPrevented)return;s(e)}},ai=I.forwardRef((t,e)=>{const{_asChild:s,...n}=t,{type:r,ref:i,...o}=Ea(n,e),a=typeof n.children=="function"?n.children({isActive:o["data-status"]==="active"}):n.children;return s===void 0&&delete o.disabled,I.createElement(s||"a",{...o,ref:i},a)});function Da(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class Aa extends ei{constructor(e){super(e),this.useMatch=s=>mt({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>mt({...s,from:this.id,select:n=>s!=null&&s.select?s.select(n.context):n.context}),this.useSearch=s=>Mn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Cn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>xn({...s,from:this.id}),this.useLoaderData=s=>_n({...s,from:this.id}),this.useNavigate=()=>Ln({from:this.fullPath}),this.Link=Be.forwardRef((s,n)=>T.jsx(ai,{ref:n,from:this.fullPath,...s})),this.$$typeof=Symbol.for("react.memo")}}function ja(t){return new Aa(t)}class Ba extends ta{constructor(e){super(e),this.useMatch=s=>mt({select:s==null?void 0:s.select,from:this.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>mt({...s,from:this.id,select:n=>s!=null&&s.select?s.select(n.context):n.context}),this.useSearch=s=>Mn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useParams=s=>Cn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.id}),this.useLoaderDeps=s=>xn({...s,from:this.id}),this.useLoaderData=s=>_n({...s,from:this.id}),this.useNavigate=()=>Ln({from:this.fullPath}),this.Link=Be.forwardRef((s,n)=>T.jsx(ai,{ref:n,from:this.fullPath,...s})),this.$$typeof=Symbol.for("react.memo")}}function cc(t){return new Ba(t)}function rr(t){return typeof t=="object"?new ir(t,{silent:!0}).createRoute(t):new ir(t,{silent:!0}).createRoute}class ir{constructor(e,s){this.path=e,this.createRoute=n=>{this.silent;const r=ja(n);return r.isRoot=!1,r},this.silent=s==null?void 0:s.silent}}class or{constructor(e){this.useMatch=s=>mt({select:s==null?void 0:s.select,from:this.options.id,structuralSharing:s==null?void 0:s.structuralSharing}),this.useRouteContext=s=>mt({from:this.options.id,select:n=>s!=null&&s.select?s.select(n.context):n.context}),this.useSearch=s=>Mn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useParams=s=>Cn({select:s==null?void 0:s.select,structuralSharing:s==null?void 0:s.structuralSharing,from:this.options.id}),this.useLoaderDeps=s=>xn({...s,from:this.options.id}),this.useLoaderData=s=>_n({...s,from:this.options.id}),this.useNavigate=()=>{const s=Z();return Ln({from:s.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function ar(t){return typeof t=="object"?new or(t):e=>new or({id:t,...e})}function Ua(){const t=Z(),e=I.useRef({router:t,mounted:!1}),[s,n]=I.useState(!1),{hasPendingMatches:r,isLoading:i}=V({select:c=>({isLoading:c.isLoading,hasPendingMatches:c.matches.some(f=>f.status==="pending")}),structuralSharing:!0}),o=Us(i),a=i||s||r,u=Us(a),h=i||r,m=Us(h);return t.startTransition=c=>{n(!0),I.startTransition(()=>{c(),n(!1)})},I.useEffect(()=>{const c=t.history.subscribe(t.load),f=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return te(t.latestLocation.href)!==te(f.href)&&t.commitLocation({...f,replace:!0}),()=>{c()}},[t,t.history]),is(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(f){console.error(f)}})()},[t]),is(()=>{o&&!i&&t.emit({type:"onLoad",...ee(t.state)})},[o,t,i]),is(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...ee(t.state)})},[h,m,t]),is(()=>{u&&!a&&(t.emit({type:"onResolved",...ee(t.state)}),t.__store.setState(c=>({...c,status:"idle",resolvedLocation:c.location})),ko(t))},[a,u,t]),null}function Na(t){const e=V({select:s=>`not-found-${s.location.pathname}-${s.status}`});return T.jsx(Pn,{getResetKey:()=>e,onCatch:(s,n)=>{var r;if(at(s))(r=t.onCatch)==null||r.call(t,s,n);else throw s},errorComponent:({error:s})=>{var n;if(at(s))return(n=t.fallback)==null?void 0:n.call(t,s);throw s},children:t.children})}function Qa(){return T.jsx("p",{children:"Not Found"})}function ce(t){return T.jsx(T.Fragment,{children:t.children})}function ci(t,e,s){return e.options.notFoundComponent?T.jsx(e.options.notFoundComponent,{data:s}):t.options.defaultNotFoundComponent?T.jsx(t.options.defaultNotFoundComponent,{data:s}):T.jsx(Qa,{})}function $a({children:t}){var s;const e=Z();return e.isServer?T.jsx("script",{nonce:(s=e.options.ssr)==null?void 0:s.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function Ka(){const t=Z();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const s=(t.options.getScrollRestorationKey||un)(t.latestLocation),n=s!==un(t.latestLocation)?s:void 0,r={storageKey:vs,shouldScrollRestoration:!0};return n&&(r.key=n),T.jsx($a,{children:`(${qr.toString()})(${JSON.stringify(r)})`})}const ui=I.memo(function({matchId:e}){var v,P;const s=Z(),n=V({select:R=>{const S=R.matches.find(C=>C.id===e);return wt(S),{routeId:S.routeId,ssr:S.ssr,_displayPending:S._displayPending}},structuralSharing:!0}),r=s.routesById[n.routeId],i=r.options.pendingComponent??s.options.defaultPendingComponent,o=i?T.jsx(i,{}):null,a=r.options.errorComponent??s.options.defaultErrorComponent,u=r.options.onCatch??s.options.defaultOnCatch,h=r.isRoot?r.options.notFoundComponent??((v=s.options.notFoundRoute)==null?void 0:v.options.component):r.options.notFoundComponent,m=n.ssr===!1||n.ssr==="data-only",c=(!r.isRoot||r.options.wrapInSuspense||m)&&(r.options.wrapInSuspense??i??(((P=r.options.errorComponent)==null?void 0:P.preload)||m))?I.Suspense:ce,f=a?Pn:ce,d=h?Na:ce,p=V({select:R=>R.loadedAt}),g=V({select:R=>{var C;const S=R.matches.findIndex(w=>w.id===e);return(C=R.matches[S-1])==null?void 0:C.routeId}}),y=r.isRoot?r.options.shellComponent??ce:ce;return T.jsxs(y,{children:[T.jsx(Cs.Provider,{value:e,children:T.jsx(c,{fallback:o,children:T.jsx(f,{getResetKey:()=>p,errorComponent:a||_s,onCatch:(R,S)=>{if(at(R))throw R;u==null||u(R,S)},children:T.jsx(d,{fallback:R=>{if(!h||R.routeId&&R.routeId!==n.routeId||!R.routeId&&!r.isRoot)throw R;return I.createElement(h,R)},children:m||n._displayPending?T.jsx(sa,{fallback:o,children:T.jsx(cr,{matchId:e})}):T.jsx(cr,{matchId:e})})})})}),g===X&&s.options.scrollRestoration?T.jsxs(T.Fragment,{children:[T.jsx(za,{}),T.jsx(Ka,{})]}):null]})});function za(){const t=Z(),e=I.useRef(void 0);return T.jsx("script",{suppressHydrationWarning:!0,ref:s=>{s&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ee(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const cr=I.memo(function({matchId:e}){var u,h,m,c;const s=Z(),{match:n,key:r,routeId:i}=V({select:f=>{const d=f.matches.find(P=>P.id===e),p=d.routeId,g=s.routesById[p].options.remountDeps??s.options.defaultRemountDeps,y=g==null?void 0:g({routeId:p,loaderDeps:d.loaderDeps,params:d._strictParams,search:d._strictSearch});return{key:y?JSON.stringify(y):void 0,routeId:p,match:{id:d.id,status:d.status,error:d.error,_forcePending:d._forcePending,_displayPending:d._displayPending}}},structuralSharing:!0}),o=s.routesById[i],a=I.useMemo(()=>{const f=o.options.component??s.options.defaultComponent;return f?T.jsx(f,{},r):T.jsx(qa,{})},[r,o.options.component,s.options.defaultComponent]);if(n._displayPending)throw(u=s.getMatch(n.id))==null?void 0:u._nonReactive.displayPendingPromise;if(n._forcePending)throw(h=s.getMatch(n.id))==null?void 0:h._nonReactive.minPendingPromise;if(n.status==="pending"){const f=o.options.pendingMinMs??s.options.defaultPendingMinMs;if(f){const d=s.getMatch(n.id);if(d&&!d._nonReactive.minPendingPromise&&!s.isServer){const p=_e();d._nonReactive.minPendingPromise=p,setTimeout(()=>{p.resolve(),d._nonReactive.minPendingPromise=void 0},f)}}throw(m=s.getMatch(n.id))==null?void 0:m._nonReactive.loadPromise}if(n.status==="notFound")return wt(at(n.error)),ci(s,o,n.error);if(n.status==="redirected")throw wt(ft(n.error)),(c=s.getMatch(n.id))==null?void 0:c._nonReactive.loadPromise;if(n.status==="error"){if(s.isServer){const f=(o.options.errorComponent??s.options.defaultErrorComponent)||_s;return T.jsx(f,{error:n.error,reset:void 0,info:{componentStack:""}})}throw n.error}return a}),qa=I.memo(function(){const e=Z(),s=I.useContext(Cs),n=V({select:h=>{var m;return(m=h.matches.find(c=>c.id===s))==null?void 0:m.routeId}}),r=e.routesById[n],i=V({select:h=>{const c=h.matches.find(f=>f.id===s);return wt(c),c.globalNotFound}}),o=V({select:h=>{var f;const m=h.matches,c=m.findIndex(d=>d.id===s);return(f=m[c+1])==null?void 0:f.id}}),a=e.options.defaultPendingComponent?T.jsx(e.options.defaultPendingComponent,{}):null;if(i)return ci(e,r,void 0);if(!o)return null;const u=T.jsx(ui,{matchId:o});return n===X?T.jsx(I.Suspense,{fallback:a,children:u}):u});function Ha(){const t=Z(),s=t.routesById[X].options.pendingComponent??t.options.defaultPendingComponent,n=s?T.jsx(s,{}):null,r=t.isServer||typeof document<"u"&&t.ssr?ce:I.Suspense,i=T.jsxs(r,{fallback:n,children:[!t.isServer&&T.jsx(Ua,{}),T.jsx(Va,{})]});return t.options.InnerWrap?T.jsx(t.options.InnerWrap,{children:i}):i}function Va(){const t=Z(),e=V({select:r=>{var i;return(i=r.matches[0])==null?void 0:i.id}}),s=V({select:r=>r.loadedAt}),n=e?T.jsx(ui,{matchId:e}):null;return T.jsx(Cs.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?n:T.jsx(Pn,{getResetKey:()=>s,errorComponent:_s,onCatch:r=>{r.message||r.toString()},children:n})})}const uc=t=>new Wa(t);class Wa extends Wo{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=rr,globalThis.createLazyFileRoute=ar):typeof window<"u"&&(window.createFileRoute=rr,window.createLazyFileRoute=ar);function Ga({router:t,children:e,...s}){Object.keys(s).length>0&&t.update({...t.options,...s,context:{...t.options.context,...s.context}});const n=oi(),r=T.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?T.jsx(t.options.Wrap,{children:r}):r}function lc({router:t,...e}){return T.jsx(Ga,{router:t,...e,children:T.jsx(Ha,{})})}function hc(t){return V({select:e=>e.location})}export{rc as I,ai as L,qa as O,nc as Q,lc as R,sc as a,hc as b,vn as c,tc as d,Ln as e,cc as f,rr as g,ec as h,wt as i,T as j,ac as k,uc as l,ar as m,Mn as n,ic as o,$t as t,oc as u};

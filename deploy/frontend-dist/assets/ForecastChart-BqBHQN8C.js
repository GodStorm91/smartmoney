import{j as e}from"./vendor-tanstack-DOuiVnRb.js";import{p as $,a4 as E,ac as _,Y as B}from"./index-COcbc7mT.js";import{u as L}from"./vendor-i18n-CtQU9zWU.js";import{R as K,d as z,C as R,X as T,Y as h,T as M,b as Y,i as w,B as j,f as C,a as J}from"./vendor-recharts-BfEtinVu.js";import"./vendor-react-B9eo89kj.js";import"./vendor-icons-Boynwk5e.js";import"./vendor-date-fteVm545.js";function N(o){const[n,r]=o.split("-");return new Date(parseInt(n),parseInt(r)-1).toLocaleDateString("en-US",{month:"short"})}function g(o,n){if(o===0)return"";const r=Math.abs(o);return n==="VND"?r>=1e6?`${(o/1e6).toFixed(1)}M`:r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString():n==="JPY"?r>=1e4?`${(o/1e4).toFixed(1)}ä¸‡`:r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString():r>=1e6?`${(o/1e6).toFixed(1)}M`:r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString()}function U({data:o}){var p;const{currency:n}=$(),{data:r}=E(),{t:s}=L("common"),{resolvedTheme:y}=_(),c=y==="dark",k=c?"#45475a":"#E5E7EB",x=c?"#a6adc8":"#6B7280",F=c?"#1e1e2e":"#fff",S=c?"#45475a":"#E5E7EB",d=c?"#cdd6f4":"#374151",b="#4CAF50",A="#F44336",D="#81C784",I="#E57373",m="#2196F3",l=o.map(t=>({...t,monthLabel:N(t.month)})),u=l.findIndex(t=>!t.is_actual);return e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(z,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(R,{strokeDasharray:"3 3",stroke:k}),e.jsx(T,{dataKey:"monthLabel",stroke:x,style:{fontSize:"12px",fontFamily:"Noto Sans JP, sans-serif"}}),e.jsx(h,{yAxisId:"left",stroke:x,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>g(t,n)}),e.jsx(h,{yAxisId:"right",orientation:"right",stroke:m,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>g(t,n)}),e.jsx(M,{contentStyle:{backgroundColor:F,border:`1px solid ${S}`,borderRadius:"8px",fontSize:"14px",color:d},formatter:(t,i)=>[B(t,n,(r==null?void 0:r.rates)||{},!1),i],labelFormatter:(t,i)=>{if(i&&i[0]){const f=i[0].payload;return`${f.month} ${f.is_actual?`(${s("forecast.actual")})`:`(${s("forecast.projected")})`}`}return""}}),e.jsx(Y,{wrapperStyle:{fontSize:"14px",fontFamily:"Noto Sans JP, sans-serif",color:d}}),u>0&&e.jsx(w,{x:(p=l[u])==null?void 0:p.monthLabel,stroke:c?"#6c7086":"#9CA3AF",strokeDasharray:"5 5",label:{value:s("forecast.projected"),position:"top",fill:x,fontSize:11}}),e.jsx(j,{yAxisId:"left",dataKey:"income",name:s("chart.income"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:0,animationDuration:800,children:l.map((t,i)=>e.jsx(C,{fill:t.is_actual?b:D,fillOpacity:t.is_actual?1:.7},`income-${i}`))}),e.jsx(j,{yAxisId:"left",dataKey:"expense",name:s("chart.expense"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:200,animationDuration:800,children:l.map((t,i)=>e.jsx(C,{fill:t.is_actual?A:I,fillOpacity:t.is_actual?1:.7},`expense-${i}`))}),e.jsx(J,{yAxisId:"right",type:"monotone",dataKey:"balance",name:s("forecast.balance"),stroke:m,strokeWidth:2,dot:t=>{const{cx:i,cy:f,payload:a}=t;return i===void 0||f===void 0?e.jsx("circle",{cx:0,cy:0,r:0,fill:"transparent"}):e.jsx("circle",{cx:i,cy:f,r:a!=null&&a.is_actual?4:5,fill:m,stroke:a!=null&&a.is_actual?m:"#fff",strokeWidth:a!=null&&a.is_actual?0:2,strokeDasharray:a!=null&&a.is_actual?void 0:"2 2"})},activeDot:{r:6},isAnimationActive:!0,animationBegin:400,animationDuration:1e3,strokeDasharray:void 0})]})})}export{U as ForecastChart};

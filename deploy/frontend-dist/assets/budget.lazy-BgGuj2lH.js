import{a as $e,u as X,a2 as te,r as i,j as e,C as H,B as Y,I as he,X as we,aC as ge,$ as me,O as re,P as ne,L as ke,a8 as le,af as be,W as Ce,A as k,ag as se,aD as Se,a3 as Pe,d as ue,ay as Te,V as Fe,aE as Ae,x as de,y as Ee,g as ie,H as je,v as Be,aF as Le,aG as Je,an as Ue,aH as qe,e as Ve,q as Ye,c as ze}from"./index-CeIjqT8j.js";import{d as pe}from"./useCategories-De2iPPdj.js";import{E as Me}from"./external-link-BW6ihPEf.js";import{C as He}from"./chevron-up-DlFncXxd.js";import{C as Re}from"./chevron-down-NxYWKU8k.js";import{u as We}from"./useXPGain-DwfXP-ew.js";import{D as Ke}from"./download-DVB9cqDE.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ge=$e("history",Oe);function xe(t,s=0){if(!t&&t!==0)return"";const l=typeof t=="string"?parseFloat(t):t;return isNaN(l)?"":new Intl.NumberFormat("en-US",{minimumFractionDigits:s,maximumFractionDigits:s}).format(l)}function Qe(t){if(!t)return 0;const s=t.replace(/,/g,""),l=parseFloat(s);return isNaN(l)?0:l}function Xe(t){return{JPY:"¥",USD:"$",VND:"₫",EUR:"€",GBP:"£"}[t]||t}function Ze(t){return["VND"].includes(t)?"suffix":"prefix"}function Ie(t){return{JPY:0,VND:0,KRW:0,USD:2,EUR:2,GBP:2}[t]??0}function et({onGenerate:t,isLoading:s,error:l,suggestions:a}){const{t:n}=X("common"),{currency:j}=te(),[h,m]=i.useState(""),[b,C]=i.useState(!1),x=Xe(j),N=Ze(j),u=Ie(j);i.useEffect(()=>{if(a!=null&&a.previous_income&&!b&&!h){const v=a.previous_income/Math.pow(10,u);m(xe(v,u)),C(!0)}},[a,b,h,u]);const S=v=>{const w=v.target.value.replace(/[^\d.]/g,"");if(w){const d=parseFloat(w);isNaN(d)||m(xe(d,u))}else m("")},F=v=>{v.preventDefault();const o=Qe(h),w=Math.round(o*Math.pow(10,u));w>0&&(t(w),m(""))},p=()=>{a!=null&&a.previous_income&&t(a.previous_income)},P=v=>{const[o,w]=v.split("-");return new Date(parseInt(o),parseInt(w)-1).toLocaleDateString(void 0,{month:"long",year:"numeric"})};return e.jsxs("div",{className:"space-y-4",children:[(a==null?void 0:a.has_previous)&&a.previous_month&&e.jsx(H,{className:"p-6 border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:n("budget.previousBudgetFound",{month:P(a.previous_month)})}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 mb-3",children:n("budget.cloneDescription")}),e.jsx(Y,{onClick:p,loading:s,className:"w-full sm:w-auto",children:n("budget.clonePreviousMonth")})]})]})}),(a==null?void 0:a.has_previous)&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200 dark:border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-3 bg-gray-50 dark:bg-gray-900 text-gray-500 dark:text-gray-400",children:n("budget.orCreateNew")})})]}),e.jsxs(H,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:n("budget.generateTitle")}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:n("budget.generateDescription")}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:n("budget.monthlyIncome")}),e.jsxs("div",{className:"relative",children:[N==="prefix"&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm font-medium",children:x})}),e.jsx(he,{type:"text",inputMode:"decimal",value:h,onChange:S,placeholder:xe(5e5,u),required:!0,disabled:s,className:N==="prefix"?"pl-8":"pr-10"}),N==="suffix"&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-500 sm:text-sm font-medium",children:x})})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[n("budget.incomeHint"),(a==null?void 0:a.previous_income)&&e.jsxs("span",{className:"ml-2 text-blue-600 dark:text-blue-400",children:["(",n("budget.previousIncome"),": ",x,xe(a.previous_income/Math.pow(10,u),u),")"]})]})]}),e.jsx(Y,{type:"submit",loading:s,disabled:!h,className:"w-full",children:n("budget.generateButton")}),l&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:n("budget.generateError")})]})]})]})}function tt({onSubmit:t,onCancel:s,isLoading:l}){const{t:a}=X("common"),[n,j]=i.useState(""),h=m=>{m.preventDefault(),n.trim()&&(t(n.trim()),j(""))};return e.jsxs(H,{className:"p-6 border-blue-200 bg-blue-50",children:[e.jsx("h4",{className:"font-semibold mb-3",children:a("budget.feedbackTitle")}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx("textarea",{value:n,onChange:m=>j(m.target.value),placeholder:a("budget.feedbackPlaceholder"),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 min-h-[100px]",disabled:l,required:!0}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Y,{type:"submit",disabled:l||!n.trim(),children:a(l?"budget.regenerating":"budget.submitFeedback")}),e.jsx(Y,{type:"button",variant:"outline",onClick:s,children:a("cancel")})]})]})]})}function at({budget:t,onClose:s,onAdd:l}){const{t:a}=X("common"),{data:n}=pe(),[j,h]=i.useState(""),[m,b]=i.useState(""),[C,x]=i.useState(""),N=i.useMemo(()=>{if(!n)return[];const o=new Set(t.allocations.map(d=>d.category)),w=[];return n.expense.forEach(d=>{o.has(d.name)||w.push(d.name),d.children.forEach(M=>{o.has(M.name)||w.push(M.name)})}),w.sort()},[n,t.allocations]),u=i.useMemo(()=>{const o=t.allocations.reduce((w,d)=>w+d.amount,0);return t.monthly_income-(t.savings_target||0)-o},[t]),S=j==="__custom__",F=S?m:j,p=F.trim().length>0&&parseInt(C)>0,P=o=>{o.preventDefault(),p&&l(F,parseInt(C))},v=Math.floor(u/(N.length+1));return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(H,{className:"w-full max-w-md animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:a("budget.addCategory")}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:P,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a("budget.category")}),e.jsxs("select",{value:j,onChange:o=>{h(o.target.value),o.target.value!=="__custom__"&&b("")},className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("option",{value:"",children:a("budget.selectCategory")}),N.map(o=>e.jsx("option",{value:o,children:o},o)),e.jsx("option",{value:"__custom__",children:a("budget.customCategory")})]})]}),S&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a("budget.categoryName")}),e.jsx(he,{value:m,onChange:o=>b(o.target.value),placeholder:a("budget.categoryPlaceholder")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:a("budget.amount")}),e.jsx(he,{type:"number",value:C,onChange:o=>x(o.target.value),placeholder:ge(0),min:1}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a("budget.remainingBudget"),": ",ge(u)]})]}),v>0&&e.jsx("button",{type:"button",onClick:()=>x(String(v)),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:a("budget.suggestAmount",{amount:ge(v)})}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Y,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:a("cancel")}),e.jsxs(Y,{type:"submit",disabled:!p,className:"flex-1",children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),a("budget.add")]})]})]})]})})}function st(t,s,l){if(s==="JPY")return t;const a=l[s];return!a||a===0?t:Math.round(t/a)}function rt({category:t,month:s,onViewAll:l,className:a}){const{t:n}=X("common"),{currency:j}=te(),{isPrivacyMode:h}=re(),{data:m}=ne(),{data:b}=pe(),[C,x]=i.useState([]),[N,u]=i.useState(!1),[S,F]=i.useState(null),p=d=>le(d,j,(m==null?void 0:m.rates)||{},!0,h),P=i.useMemo(()=>{const d=new Map;return b&&(b.expense.forEach(M=>{const D=M.children.map(T=>T.name);d.set(M.name,D)}),b.income.forEach(M=>{const D=M.children.map(T=>T.name);d.set(M.name,D)})),d},[b]),v=i.useMemo(()=>{const d=P.get(t)||[];return[t,...d]},[t,P]);i.useEffect(()=>{let d=!0;async function M(){u(!0),F(null);try{const[D,T]=s.split("-").map(Number),_=new Date(D,T,0).getDate(),G=`${D}-${String(T).padStart(2,"0")}-01`,R=`${D}-${String(T).padStart(2,"0")}-${String(_).padStart(2,"0")}`,y=(await be({categories:v,start_date:G,end_date:R,type:"expense"})).filter(J=>!J.is_transfer),L=(m==null?void 0:m.rates)||{},f=y.map(J=>({...J,amountJpy:st(Math.abs(J.amount),J.currency||"JPY",L)})).sort((J,z)=>z.amountJpy-J.amountJpy);x(f.slice(0,5).map(({amountJpy:J,...z})=>z))}catch(D){d&&(F("Failed to load transactions"),console.error("Error loading transactions:",D))}finally{d&&u(!1)}}return M(),()=>{d=!1}},[t,s,v]);const o=d=>{const M=new Date(d),D=new Date,T=new Date(D);return T.setDate(T.getDate()-1),M.toDateString()===D.toDateString()?n("today"):M.toDateString()===T.toDateString()?n("previous"):Ce(d,"MMM d")},w=d=>d.length>20?d.substring(0,18)+"...":d;return N?e.jsx("div",{className:`py-4 px-4 ${a||""}`,children:e.jsxs("div",{className:"flex items-center justify-center py-4",children:[e.jsx(ke,{className:"w-5 h-5 animate-spin text-gray-400"}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:n("loading")})]})}):S?e.jsx("div",{className:`py-4 px-4 ${a||""}`,children:e.jsx("p",{className:"text-sm text-red-500 text-center",children:S})}):C.length===0?e.jsxs("div",{className:`py-4 px-4 ${a||""}`,children:[e.jsx("p",{className:"text-sm text-gray-500 text-center mb-2",children:n("transactions.noData")}),e.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Category: ",t]}),e.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Month: ",s]})]}):e.jsxs("div",{className:`py-4 px-4 space-y-2 ${a||""}`,children:[C.map(d=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-16 flex-shrink-0",children:o(d.date)}),e.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 truncate flex-1",children:w(d.description)})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 ml-4 flex-shrink-0",children:p(d.amount)})]},d.id)),l&&C.length>0&&e.jsxs(Y,{variant:"ghost",size:"sm",onClick:l,className:"w-full mt-3 flex items-center justify-center gap-1 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:[e.jsx("span",{children:n("dashboard.viewAllCategories")}),e.jsx(Me,{className:"w-3 h-3"})]})]})}function nt({allocation:t,trackingItem:s,totalBudget:l,month:a,isExpanded:n,onToggleExpand:j,onOpenDetail:h,className:m}){const{t:b}=X("common"),{currency:C}=te(),{isPrivacyMode:x}=re(),{data:N}=ne(),u=w=>le(w,C,(N==null?void 0:N.rates)||{},!0,x),S=(s==null?void 0:s.spent)||0,F=(s==null?void 0:s.budgeted)||t.amount,p=F-S,P=l>0?t.amount/l*100:0,v=F>0?S/F*100:0,o=s&&(s.status==="red"||s.status==="orange");return e.jsxs(H,{className:k("overflow-hidden",n&&"border-blue-300 dark:border-blue-700",m),children:[e.jsxs("button",{onClick:()=>j(t.category),className:"w-full p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:t.category}),o&&e.jsx(se,{className:"w-4 h-4 text-amber-500 flex-shrink-0"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 whitespace-nowrap",children:u(t.amount)}),n?e.jsx(He,{className:"w-5 h-5 text-gray-400"}):e.jsx(Re,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:k("h-full rounded-full transition-all duration-500",P>100?"bg-red-500":P>90?"bg-amber-500":"bg-blue-500"),style:{width:`${Math.min(100,P)}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:[P.toFixed(0),"%"]})]})]}),s&&e.jsxs("div",{className:"px-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:b("budget.spentOfBudgeted",{budgeted:u(F)})}),e.jsx("span",{className:k("font-medium",p>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:p>=0?u(p):`-${u(Math.abs(p))}`})]}),e.jsx("div",{className:"mt-1.5 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:k("h-full rounded-full transition-all duration-500",s.status==="red"?"bg-red-500":s.status==="orange"?"bg-orange-500":s.status==="yellow"?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,v)}%`}})})]}),e.jsx("div",{className:"hidden lg:flex px-4 pb-3",children:e.jsxs("button",{onClick:()=>h(t.category),className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:b("viewDetails")})]})}),e.jsx("div",{className:k("lg:hidden transition-all duration-300 ease-out",n?"max-h-[500px] opacity-100":"max-h-0 opacity-0 overflow-hidden"),children:e.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700",children:e.jsx(rt,{category:t.category,month:a,onViewAll:()=>h(t.category)})})})]})}function Ne(t,s,l){if(s==="JPY")return t;const a=l[s];return!a||a===0?t:Math.round(t/a)}function lt({category:t,month:s,trackingItem:l,isOpen:a,onClose:n,className:j}){const{t:h}=X("common"),m=Pe(),{currency:b}=te(),{isPrivacyMode:C}=re(),{data:x}=ne(),{data:N}=pe(),[u,S]=i.useState([]),[F,p]=i.useState(!1),[P,v]=i.useState(null),[o,w]=i.useState(null),d=y=>le(y,b,(x==null?void 0:x.rates)||{},!0,C),M=i.useMemo(()=>{const y=new Map;return N&&(N.expense.forEach(L=>{const A=L.children.map(f=>f.name);y.set(L.name,A)}),N.income.forEach(L=>{const A=L.children.map(f=>f.name);y.set(L.name,A)})),y},[N]),D=i.useMemo(()=>{const y=M.get(t)||[];return[t,...y]},[t,M]);i.useEffect(()=>{if(!a)return;let y=!0;async function L(){p(!0),v(null);try{const[A,f]=s.split("-").map(Number),J=new Date(A,f,0).getDate(),z=`${A}-${String(f).padStart(2,"0")}-01`,Q=`${A}-${String(f).padStart(2,"0")}-${String(J).padStart(2,"0")}`,K=await be({categories:D,start_date:z,end_date:Q,type:"expense"});if(y){const ae=(x==null?void 0:x.rates)||{},c=K.filter(U=>!U.is_transfer).map(U=>({...U,amountJpy:Ne(Math.abs(U.amount),U.currency||"JPY",ae)})).sort((U,E)=>E.amountJpy-U.amountJpy);S(c.slice(0,10).map(({amountJpy:U,...E})=>E))}}catch{y&&v("Failed to load transactions")}finally{y&&p(!1)}}return L(),()=>{y=!1}},[t,s,a,D]),i.useEffect(()=>{if(!a)return;let y=!0;async function L(){try{const[A,f]=s.split("-").map(Number);let J=A,z=f-1;z<1&&(z=12,J-=1);const[Q,K]=[J,z],ae=new Date(Q,K,0).getDate(),ce=`${Q}-${String(K).padStart(2,"0")}-01`,c=`${Q}-${String(K).padStart(2,"0")}-${String(ae).padStart(2,"0")}`,U=await be({categories:D,start_date:ce,end_date:c,type:"expense"});if(y){const E=(x==null?void 0:x.rates)||{},I=U.filter(q=>!q.is_transfer).reduce((q,ee)=>{const ye=Ne(Math.abs(ee.amount),ee.currency||"JPY",E);return q+ye},0);w(I)}}catch{}}return L(),()=>{y=!1}},[t,s,a,D]);const T=y=>Ce(y,"MMM d"),_=()=>{n(),m({to:"/transactions",search:{categories:t,month:s}})},G=()=>{n()},R=(l==null?void 0:l.spent)||0,$=o?Math.round((R-o)/o*100):null;return a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/50 z-40 lg:hidden",onClick:n}),e.jsxs("div",{className:k("fixed right-0 top-0 h-full w-full sm:w-96 bg-white dark:bg-gray-900 shadow-xl z-50","flex flex-col transform transition-transform duration-300 ease-out",a?"translate-x-0":"translate-x-full",j),children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(we,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h("budget.savingsTarget")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d((l==null?void 0:l.budgeted)||0)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h("dashboard.expenses")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d(R)})]})]}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:k("h-full rounded-full transition-all duration-500",(l==null?void 0:l.status)==="red"?"bg-red-500":(l==null?void 0:l.status)==="orange"?"bg-orange-500":(l==null?void 0:l.status)==="yellow"?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,(l==null?void 0:l.percentage)||0)}%`}})}),$!==null&&e.jsxs("div",{className:k("flex items-center gap-2 text-sm",$>0?"text-red-600 dark:text-red-400":$<0?"text-green-600 dark:text-green-400":"text-gray-500"),children:[$>0?e.jsx(ue,{className:"w-4 h-4"}):$<0?e.jsx(Te,{className:"w-4 h-4"}):null,e.jsxs("span",{children:[$>0?"+":"",$,"% vs last month (",d(o||0),")"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:h("dashboard.recentTransactions")}),F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ke,{className:"w-6 h-6 animate-spin text-gray-400"})}):P?e.jsxs("div",{className:"flex items-center gap-2 text-red-500 py-4",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:P})]}):u.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:h("transactions.noData")}):e.jsxs("div",{className:"space-y-3",children:[u.map(y=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",children:y.description}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:T(y.date)})]}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 ml-4",children:d(y.amount)})]},y.id)),u.length>=10&&e.jsxs(Y,{variant:"ghost",size:"sm",onClick:_,className:"w-full flex items-center justify-center gap-1 mt-2",children:[e.jsx("span",{children:h("dashboard.viewAllCategories")}),e.jsx(Me,{className:"w-3 h-3"})]})]})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[e.jsxs(Y,{onClick:G,className:"w-full flex items-center justify-center gap-2",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{children:h("transaction.addTransaction")})]}),e.jsx(Y,{variant:"outline",onClick:_,className:"w-full",children:e.jsx("span",{children:h("transactions.viewAll")})})]})]})]}):null}function dt({spent:t,projected:s,budget:l,className:a}){const n=Math.min(100,t/l*100),j=Math.min(100,s/l*100),h=Math.max(0,j-n),m=()=>j>100?"bg-red-500":j>90?"bg-amber-500":"bg-green-500";return e.jsxs("div",{className:k("relative h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",a),children:[e.jsx("div",{className:"absolute left-0 top-0 h-full bg-blue-500 transition-all duration-500",style:{width:`${n}%`}}),h>0&&e.jsx("div",{className:k("absolute top-0 h-full border-l-2 border-white/50",m(),"transition-all duration-500"),style:{width:`${h}%`}}),e.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-gray-400 dark:bg-gray-500",style:{left:"100%"}})]})}function ct({totalBudget:t,totalSpent:s,month:l,className:a}){const{t:n}=X("common"),{currency:j}=te(),{isPrivacyMode:h}=re(),{data:m}=ne(),b=v=>le(v,j,(m==null?void 0:m.rates)||{},!1,h),{daysRemaining:C,dailyRate:x,projectedTotal:N,projectedPercent:u,status:S}=i.useMemo(()=>{const[v,o]=l.split("-").map(Number),w=new Date(v,o,0).getDate(),M=new Date().getDate(),D=Math.max(1,M),T=Math.max(0,w-M),_=s/D,G=s+_*T,R=t>0?G/t*100:0;let $;return R>100?$="danger":R>90?$="warning":$="good",{daysRemaining:T,dailyRate:_,projectedTotal:G,projectedPercent:R,status:$}},[l,s,t]),p=(()=>{switch(S){case"danger":return{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",icon:se,label:n("budget.projection.status.overBudget"),message:n("budget.projection.overBy",{amount:b(N-t)})};case"warning":return{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-400",icon:se,label:n("budget.projection.status.atRisk"),message:n("budget.projection.atPace",{amount:b(N)})};default:return{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",icon:Ae,label:n("budget.projection.status.onTrack"),message:n("budget.projection.underBy",{amount:b(t-N)})}}})(),P=p.icon;return t<=0?null:e.jsxs(H,{className:k("overflow-hidden",a),children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n("budget.projection.title")})]}),e.jsxs("div",{className:k("flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",p.bg,p.text),children:[e.jsx(P,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:p.label})]})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Fe,{className:"w-4 h-4"}),e.jsx("span",{children:n("budget.projection.daysLeft",{count:C})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:n("budget.projection.spent")}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:b(s)})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:n("budget.projection.dailyRate")}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:[b(x),e.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["/",n("day")]})]})]}),e.jsxs("div",{className:k("text-center p-3 rounded-lg",S==="danger"?"bg-red-50 dark:bg-red-900/20":S==="warning"?"bg-amber-50 dark:bg-amber-900/20":"bg-green-50 dark:bg-green-900/20"),children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:n("budget.projection.projected")}),e.jsx("p",{className:k("text-lg font-bold",S==="danger"?"text-red-700 dark:text-red-400":S==="warning"?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"),children:b(N)})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:n("budget.projection.percentOfBudget",{percent:Math.round(u)})}),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[b(t)," ",n("budget.projection.ofBudget")]})]}),e.jsx(dt,{spent:s,projected:N,budget:t}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-400 dark:text-gray-500 mt-1",children:[e.jsx("span",{children:b(s)}),e.jsx("span",{children:b(t)})]})]}),e.jsxs("div",{className:k("flex items-start gap-2 p-3 rounded-lg text-sm",p.bg),children:[e.jsx(Se,{className:k("w-4 h-4 mt-0.5 flex-shrink-0",p.text)}),e.jsx("p",{className:p.text,children:p.message})]})]})]})}async function ot(t){return(await de.post("/api/budgets/generate",t)).data}async function it(t,s){return(await de.post(`/api/budgets/${t}/regenerate`,s)).data}async function ve(t){return(await de.get(`/api/budgets/${t}`)).data}async function xt(){return(await de.get("/api/budgets/tracking/current")).data}async function mt(){return(await de.get("/api/budgets/suggestions")).data}function ut(){var fe;const{t,i18n:s}=X("common"),l=Ee(),{currency:a}=te(),{isPrivacyMode:n}=re(),{data:j}=ne(),[h,m]=i.useState(!1),[b,C]=i.useState(null),[x,N]=i.useState(()=>{const r=new Date;return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}`}),[u,S]=i.useState([]),[F,p]=i.useState(!1),[P,v]=i.useState(null),[o,w]=i.useState(null),d=i.useCallback(r=>{v(g=>g===r?null:r)},[]),{showBudgetCreatedXP:M}=We(),D=i.useCallback(r=>{w(r)},[]),T=i.useCallback(()=>{w(null)},[]),_=r=>le(r,a,(j==null?void 0:j.rates)||{},!0,n),G=r=>{const[g,B]=r.split("-");return new Date(parseInt(g),parseInt(B)-1).toLocaleDateString(s.language,{month:"long",year:"numeric"})},R=i.useCallback(r=>{N(g=>{const[B,V]=g.split("-").map(Number);let W=B,O=V;return r==="prev"?(O-=1,O<1&&(O=12,W-=1)):(O+=1,O>12&&(O=1,W+=1)),`${W}-${String(O).padStart(2,"0")}`})},[]),{data:$,isLoading:y,error:L}=ie({queryKey:["budget","month",x],queryFn:async()=>{var r;try{return await ve(x)}catch(g){if(((r=g==null?void 0:g.response)==null?void 0:r.status)===404)return null;throw g}},retry:!1}),{data:A}=ie({queryKey:["budget","previous-month",x],queryFn:async()=>{const[r,g]=x.split("-").map(Number);let B=r,V=g-1;V<1&&(V=12,B-=1);const W=`${B}-${String(V).padStart(2,"0")}`;try{return await ve(W)}catch{return null}},enabled:!!$,staleTime:5*60*1e3}),{data:f}=ie({queryKey:["budget","tracking",x],queryFn:async()=>{var r;try{return await xt()}catch(g){if(((r=g==null?void 0:g.response)==null?void 0:r.status)===404)return null;throw g}},retry:!1,enabled:!!$}),{data:J}=ie({queryKey:["budget","suggestions"],queryFn:mt,enabled:!$&&!y}),z=je({mutationFn:r=>ot({monthly_income:r,language:s.language}),onSuccess:r=>{C(r),K("generate",r),M()}}),Q=je({mutationFn:r=>it((b||$).id,{feedback:r,language:s.language}),onSuccess:r=>{C(r),m(!1),K("regenerate",r)}}),K=i.useCallback((r,g)=>{S(B=>[...B.slice(-9),{action:r,data:g}])},[]),ae=i.useCallback(()=>{if(u.length===0)return;const r=u[u.length-1];C(r.data),S(g=>g.slice(0,-1))},[u]),ce=async()=>{await l.refetchQueries({queryKey:["budget"]}),C(null)},c=b||$,U=!!b,E=(c==null?void 0:c.allocations.reduce((r,g)=>r+g.amount,0))||0,oe=((c==null?void 0:c.monthly_income)||0)-((c==null?void 0:c.savings_target)||0),I=oe-E,q=(f==null?void 0:f.total_spent)||0,ee=E>0?q/E*100:0,Z=q>E?{status:"danger",label:t("budget.health.overBudgetStatus"),color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30"}:ee>95?{status:"warning",label:t("budget.health.almostFull"),color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/30"}:ee>85?{status:"caution",label:t("budget.health.warningNearLimit"),color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-100 dark:bg-yellow-900/30"}:{status:"good",label:t("budget.health.onTrack"),color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/30"},De=i.useCallback(()=>{if(!c)return;const r=`${t("budget.title")} - ${c.month}
${t("budget.monthlyIncome")}: ${_(c.monthly_income)}
${t("budget.savingsTarget")}: ${_(c.savings_target||0)}

${t("budget.allocations")}:
${c.allocations.map(W=>`- ${W.category}: ${_(W.amount)}`).join(`
`)}

${t("budget.aiAdvice")}: ${c.advice||"-"}
`,g=new Blob([r],{type:"text/plain"}),B=URL.createObjectURL(g),V=document.createElement("a");V.href=B,V.download=`budget-${c.month}.txt`,V.click(),URL.revokeObjectURL(B)},[c,t]);return y?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Be,{})}):e.jsxs("div",{className:"min-h-screen pb-32",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:()=>R("prev"),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:e.jsx(Le,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:G(x)}),e.jsx("button",{onClick:()=>R("next"),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",disabled:x>=new Date().toISOString().slice(0,7),children:e.jsx(Je,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:t("budget.title")}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t("budget.subtitle")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u.length>0&&e.jsx("button",{onClick:ae,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",title:t("undo"),children:e.jsx(Ge,{className:"w-5 h-5"})}),c&&e.jsx("button",{onClick:De,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",title:t("export"),children:e.jsx(Ke,{className:"w-5 h-5"})})]})]})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 space-y-4",children:[!c&&!L&&e.jsx(et,{onGenerate:r=>z.mutate(r),isLoading:z.isPending,error:z.isError,suggestions:J}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:k("p-4 rounded-xl border",Z.bg,Z.color,"border-current/20"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:k("w-10 h-10 rounded-full flex items-center justify-center",Z.status==="danger"?"bg-red-500":Z.status==="warning"?"bg-amber-500":Z.status==="caution"?"bg-yellow-500":"bg-green-500"),children:Z.status==="danger"?e.jsx(se,{className:"w-5 h-5 text-white"}):e.jsx(ue,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:Z.label}),e.jsx("p",{className:"text-sm opacity-80",children:t("budget.usedOfTotal",{used:_(q),total:_(E)})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(ee),"%"]}),e.jsx("p",{className:"text-xs opacity-70",children:t("budget.budgetUsed")})]})]})}),e.jsx(ct,{totalBudget:oe,totalSpent:q,month:x}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/30 rounded-lg",children:e.jsx(Ue,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t("budget.monthlyIncome")})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:_(c.monthly_income)}),A&&c.monthly_income-A.monthly_income!==0&&e.jsxs("p",{className:k("text-xs mt-1",c.monthly_income>A.monthly_income?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[c.monthly_income>A.monthly_income?"+":"",_(c.monthly_income-A.monthly_income)]})]}),e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-pink-100 dark:bg-pink-900/30 rounded-lg",children:e.jsx(qe,{className:"w-4 h-4 text-pink-600 dark:text-pink-400"})}),e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t("budget.savingsTarget")})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:_(c.savings_target||0)}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t("budget.percentOfIncome",{percent:Math.round((c.savings_target||0)/c.monthly_income*100)})})]}),e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:e.jsx(Ve,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t("budget.remaining")})]}),e.jsxs("p",{className:k("text-xl font-bold",I>=0?"text-blue-600 dark:text-blue-400":"text-red-600 dark:text-red-400"),children:[_(Math.abs(I)),I<0&&"!"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:I>=0?t("budget.availableToSpend"):t("budget.overAllocated")})]})]}),f&&e.jsxs(H,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t("budget.spendingProgress")}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_(q)," / ",_(E)]})]}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:k("h-full rounded-full transition-all duration-500",q>E?"bg-red-500":q>E*.9?"bg-amber-500":q>E*.8?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,q/E*100)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{children:[Math.round(q/E*100),"%"]}),e.jsxs("span",{children:[f.days_remaining," ",t("budget.daysLeft")]})]})]}),f&&f.categories&&f.categories.length>0&&e.jsxs(H,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-3",children:t("budget.spendingByCategory")}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:f.categories.slice(0,10).map((r,g)=>e.jsxs("div",{className:"flex-shrink-0 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg min-w-[120px]",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:r.category}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:_(r.spent)}),e.jsx("div",{className:"mt-1 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:k("h-full rounded-full",r.status==="red"?"bg-red-500":r.status==="orange"?"bg-orange-500":r.status==="yellow"?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(100,r.percentage)}%`}})})]},g))})]}),U&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Y,{variant:"outline",onClick:()=>m(!h),className:"flex-1",children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),t("budget.regenerate")]}),e.jsxs(Y,{onClick:ce,className:"flex-1",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),t("budget.save")]})]}),h&&e.jsx(tt,{onSubmit:r=>Q.mutate(r),onCancel:()=>m(!1),isLoading:Q.isPending}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("budget.allocations")}),U&&e.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),t("budget.addCategory")]})]}),c.allocations.map(r=>{var B;const g=(B=f==null?void 0:f.categories)==null?void 0:B.find(V=>V.category===r.category);return e.jsx(nt,{allocation:r,trackingItem:g,totalBudget:oe,month:x,isExpanded:P===r.category,onToggleExpand:d,onOpenDetail:D,className:U?"border-dashed border-blue-300 dark:border-blue-700":""},r.category)}),c.advice&&e.jsx(H,{className:"p-4 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-amber-200 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 rounded-lg",children:e.jsx(ue,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-200 mb-1",children:t("budget.aiAdvice")}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:c.advice})]})]})})]}),L&&e.jsx(H,{className:"p-6 border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20",children:e.jsx("p",{className:"text-red-600 dark:text-red-400",children:L instanceof Error?L.message:t("budget.generateError")})}),F&&c&&e.jsx(at,{budget:c,onClose:()=>p(!1),onAdd:(r,g)=>{const B=[...c.allocations,{category:r,amount:g}],V=B.reduce((O,_e)=>O+_e.amount,0),W=Math.max(0,c.monthly_income-V);C({...c,allocations:B,savings_target:W}),p(!1),K("add-category",c)}})]}),c&&U&&e.jsx("div",{className:"fixed bottom-20 right-4 sm:hidden",children:e.jsx(Y,{size:"lg",className:"rounded-full shadow-lg",onClick:()=>p(!0),children:e.jsx(me,{className:"w-6 h-6"})})}),e.jsx(lt,{category:o||"",month:x,trackingItem:o?(fe=f==null?void 0:f.categories)==null?void 0:fe.find(r=>r.category===o):void 0,isOpen:!!o,onClose:T})]})}function gt({className:t}){return e.jsx("svg",{className:t,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}const vt=ze("/budget")({component:ut});export{vt as Route};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gamification-service-A2lGt1YU.js","assets/vendor-query-B0NEAgzV.js","assets/vendor-react-Cwh1aMWO.js","assets/vendor-router-DONIM_LE.js","assets/vendor-charts-BwEA5mzu.js","assets/vendor-i18n-CNDlYvyf.js","assets/TrendLineChart-BSw_Z91Z.js","assets/ZoomableChart-Dmt_lPgt.js","assets/IncomeExpenseBarChart-Dmq1ZIYG.js","assets/CategoryBarChart-3SeiRIgJ.js","assets/minus-FWrj25id.js","assets/CategoryPieChart-BUGu43sG.js","assets/CashFlowSummary-Di3qOs_8.js","assets/ForecastChart-Dkevh_Ed.js","assets/SpendingCalendar-BR9JoFRX.js","assets/subMonths-CTyB0oZK.js","assets/dollar-sign-BI0-NnZZ.js","assets/profile.lazy-BnifUekw.js","assets/heic-converter-Bc3HTNzP.js","assets/crown-RAnA9Pxz.js","assets/gamification.lazy-BpV982iv.js","assets/ResponsiveModal-CEswOpZY.js","assets/zoom-out-DfvFx5Al.js","assets/funnel-DAhVA7AK.js","assets/upload.lazy-D3YknoIv.js","assets/transactions.lazy-BvuaStCL.js","assets/Select-VOr_uKjK.js","assets/TransactionEditModal-L2mtNrSk.js","assets/BudgetInsightWidget-DWu6Mges.js","assets/useCategories-CcWulFHo.js","assets/download-BM16G5XZ.js","assets/useDebouncedValue-CnS9xxHm.js","assets/RecurringOptions-B90hBlcx.js","assets/useXPGain-CWScU3DM.js","assets/tag-WPaal5cj.js","assets/pencil-BmgcPZfM.js","assets/settings.lazy-2DdgeNcZ.js","assets/crypto-DmJ5gCGB.js","assets/RecurringTransactionsList-BAPUeFV8.js","assets/Switch-Du0tPjWK.js","assets/mail-CjZANIxp.js","assets/zap-CvGhK5pC.js","assets/map-pin-CpjHPoPC.js","assets/benchmark-service-C-mfJvVq.js","assets/report.lazy-Cud8-YCp.js","assets/relocation.lazy-CwzQDJIv.js","assets/lightbulb-BmCJTyV-.js","assets/recurring.lazy-DI-AqK28.js","assets/proxy.lazy-CyndIK2w.js","assets/clock-Dmlr2YUd.js","assets/goals.lazy-pjJyam5M.js","assets/budget.lazy-CdK5xgIj.js","assets/ai-categorization-service-nsgEVAt3.js","assets/square-Caf2__BF.js","assets/benchmark.lazy-CuM8JE53.js","assets/analytics.lazy-DINH395T.js","assets/accounts.lazy-BaFpH67O.js"])))=>i.map(i=>d[i]);
var tf=Object.defineProperty;var rf=(e,t,r)=>t in e?tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vr=(e,t,r)=>rf(e,typeof t!="symbol"?t+"":t,r);import{j as a,L as Ye,u as an,a as Tt,c as nf,O as Gi,b as Ze,d as af,R as sf}from"./vendor-router-DONIM_LE.js";import{a as Ft,r as y,c as _r,g as xl,R as Qr,b as zo,d as of}from"./vendor-react-Cwh1aMWO.js";import{h as cf,d as lf,Q as uf,I as df,u as We,a as ff,t as Xi,b as wt,c as Lt}from"./vendor-query-B0NEAgzV.js";import{c as hf,R as mf,A as pf,C as gf,X as yf,Y as bf,T as xf,a as vf}from"./vendor-charts-BwEA5mzu.js";import{u as _e,i as Rr,a as wf}from"./vendor-i18n-CNDlYvyf.js";function kf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var vo={},Qi=Ft;vo.createRoot=Qi.createRoot,vo.hydrateRoot=Qi.hydrateRoot;var jf=["added","removed","updated"];function Ji(e){return jf.includes(e)}async function Nf({queryClient:e,persister:t,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:o}){try{const i=await t.restoreClient();if(i)if(i.timestamp){const l=Date.now()-i.timestamp>r,u=i.buster!==n;if(l||u)return t.removeClient();cf(e,i.clientState,o)}else return t.removeClient()}catch(i){throw await t.removeClient(),i}}async function Zi({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){const o={buster:r,timestamp:Date.now(),clientState:lf(e,n)};await t.persistClient(o)}function Sf(e){const t=e.queryClient.getQueryCache().subscribe(n=>{Ji(n.type)&&Zi(e)}),r=e.queryClient.getMutationCache().subscribe(n=>{Ji(n.type)&&Zi(e)});return()=>{t(),r()}}var _f=({children:e,persistOptions:t,onSuccess:r,onError:n,...o})=>{const[i,l]=y.useState(!0),u=y.useRef({persistOptions:t,onSuccess:r,onError:n}),p=y.useRef(!1);return y.useEffect(()=>{u.current={persistOptions:t,onSuccess:r,onError:n}}),y.useEffect(()=>{const h={...u.current.persistOptions,queryClient:o.client};return p.current||(p.current=!0,Nf(h).then(()=>{var g,x;return(x=(g=u.current).onSuccess)==null?void 0:x.call(g)}).catch(()=>{var g,x;return(x=(g=u.current).onError)==null?void 0:x.call(g)}).finally(()=>{l(!1)})),i?void 0:Sf(h)},[o.client,i]),a.jsx(uf,{...o,children:a.jsx(df,{value:i,children:e})})};function vl(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cf}=Object.prototype,{getPrototypeOf:Ho}=Object,{iterator:Za,toStringTag:wl}=Symbol,es=(e=>t=>{const r=Cf.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kt=e=>(e=e.toLowerCase(),t=>es(t)===e),ts=e=>t=>typeof t===e,{isArray:sn}=Array,rn=ts("undefined");function Bn(e){return e!==null&&!rn(e)&&e.constructor!==null&&!rn(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kl=kt("ArrayBuffer");function Ef(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kl(e.buffer),t}const Pf=ts("string"),ct=ts("function"),jl=ts("number"),Kn=e=>e!==null&&typeof e=="object",Tf=e=>e===!0||e===!1,Ma=e=>{if(es(e)!=="object")return!1;const t=Ho(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wl in e)&&!(Za in e)},Af=e=>{if(!Kn(e)||Bn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Of=kt("Date"),Rf=kt("File"),Mf=kt("Blob"),Df=kt("FileList"),If=e=>Kn(e)&&ct(e.pipe),Ff=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=es(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},Lf=kt("URLSearchParams"),[qf,$f,Bf,Kf]=["ReadableStream","Request","Response","Headers"].map(kt),Wf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),sn(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Bn(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let u;for(n=0;n<l;n++)u=i[n],t.call(null,e[u],u,e)}}function Nl(e,t){if(Bn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sl=e=>!rn(e)&&e!==jr;function wo(){const{caseless:e,skipUndefined:t}=Sl(this)&&this||{},r={},n=(o,i)=>{const l=e&&Nl(r,i)||i;Ma(r[l])&&Ma(o)?r[l]=wo(r[l],o):Ma(o)?r[l]=wo({},o):sn(o)?r[l]=o.slice():(!t||!rn(o))&&(r[l]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Wn(arguments[o],n);return r}const Uf=(e,t,r,{allOwnKeys:n}={})=>(Wn(t,(o,i)=>{r&&ct(o)?e[i]=vl(o,r):e[i]=o},{allOwnKeys:n}),e),zf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hf=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Vf=(e,t,r,n)=>{let o,i,l;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)l=o[i],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Ho(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Yf=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Gf=e=>{if(!e)return null;if(sn(e))return e;let t=e.length;if(!jl(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Xf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ho(Uint8Array)),Qf=(e,t)=>{const n=(e&&e[Za]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Jf=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Zf=kt("HTMLFormElement"),eh=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),ec=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),th=kt("RegExp"),_l=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Wn(r,(o,i)=>{let l;(l=t(o,i,e))!==!1&&(n[i]=l||o)}),Object.defineProperties(e,n)},rh=e=>{_l(e,(t,r)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ct(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nh=(e,t)=>{const r={},n=o=>{o.forEach(i=>{r[i]=!0})};return sn(e)?n(e):n(String(e).split(t)),r},ah=()=>{},sh=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function oh(e){return!!(e&&ct(e.append)&&e[wl]==="FormData"&&e[Za])}const ih=e=>{const t=new Array(10),r=(n,o)=>{if(Kn(n)){if(t.indexOf(n)>=0)return;if(Bn(n))return n;if(!("toJSON"in n)){t[o]=n;const i=sn(n)?[]:{};return Wn(n,(l,u)=>{const p=r(l,o+1);!rn(p)&&(i[u]=p)}),t[o]=void 0,i}}return n};return r(e,0)},ch=kt("AsyncFunction"),lh=e=>e&&(Kn(e)||ct(e))&&ct(e.then)&&ct(e.catch),Cl=((e,t)=>e?setImmediate:t?((r,n)=>(jr.addEventListener("message",({source:o,data:i})=>{o===jr&&i===r&&n.length&&n.shift()()},!1),o=>{n.push(o),jr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ct(jr.postMessage)),uh=typeof queueMicrotask<"u"?queueMicrotask.bind(jr):typeof process<"u"&&process.nextTick||Cl,dh=e=>e!=null&&ct(e[Za]),$={isArray:sn,isArrayBuffer:kl,isBuffer:Bn,isFormData:Ff,isArrayBufferView:Ef,isString:Pf,isNumber:jl,isBoolean:Tf,isObject:Kn,isPlainObject:Ma,isEmptyObject:Af,isReadableStream:qf,isRequest:$f,isResponse:Bf,isHeaders:Kf,isUndefined:rn,isDate:Of,isFile:Rf,isBlob:Mf,isRegExp:th,isFunction:ct,isStream:If,isURLSearchParams:Lf,isTypedArray:Xf,isFileList:Df,forEach:Wn,merge:wo,extend:Uf,trim:Wf,stripBOM:zf,inherits:Hf,toFlatObject:Vf,kindOf:es,kindOfTest:kt,endsWith:Yf,toArray:Gf,forEachEntry:Qf,matchAll:Jf,isHTMLForm:Zf,hasOwnProperty:ec,hasOwnProp:ec,reduceDescriptors:_l,freezeMethods:rh,toObjectSet:nh,toCamelCase:eh,noop:ah,toFiniteNumber:sh,findKey:Nl,global:jr,isContextDefined:Sl,isSpecCompliantForm:oh,toJSONObject:ih,isAsyncFn:ch,isThenable:lh,setImmediate:Cl,asap:uh,isIterable:dh};function Se(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const El=Se.prototype,Pl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pl[e]={value:e}});Object.defineProperties(Se,Pl);Object.defineProperty(El,"isAxiosError",{value:!0});Se.from=(e,t,r,n,o,i)=>{const l=Object.create(El);$.toFlatObject(e,l,function(g){return g!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",p=t==null&&e?e.code:t;return Se.call(l,u,p,r,n,o),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const fh=null;function ko(e){return $.isPlainObject(e)||$.isArray(e)}function Tl(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function tc(e,t,r){return e?e.concat(t).map(function(o,i){return o=Tl(o),!r&&i?"["+o+"]":o}).join(r?".":""):t}function hh(e){return $.isArray(e)&&!e.some(ko)}const mh=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function rs(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,O){return!$.isUndefined(O[j])});const n=r.metaTokens,o=r.visitor||g,i=r.dots,l=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function h(k){if(k===null)return"";if($.isDate(k))return k.toISOString();if($.isBoolean(k))return k.toString();if(!p&&$.isBlob(k))throw new Se("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(k)||$.isTypedArray(k)?p&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,j,O){let W=k;if(k&&!O&&typeof k=="object"){if($.endsWith(j,"{}"))j=n?j:j.slice(0,-2),k=JSON.stringify(k);else if($.isArray(k)&&hh(k)||($.isFileList(k)||$.endsWith(j,"[]"))&&(W=$.toArray(k)))return j=Tl(j),W.forEach(function(B,q){!($.isUndefined(B)||B===null)&&t.append(l===!0?tc([j],q,i):l===null?j:j+"[]",h(B))}),!1}return ko(k)?!0:(t.append(tc(O,j,i),h(k)),!1)}const x=[],N=Object.assign(mh,{defaultVisitor:g,convertValue:h,isVisitable:ko});function E(k,j){if(!$.isUndefined(k)){if(x.indexOf(k)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(k),$.forEach(k,function(W,U){(!($.isUndefined(W)||W===null)&&o.call(t,W,$.isString(U)?U.trim():U,j,N))===!0&&E(W,j?j.concat(U):[U])}),x.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return E(e),t}function rc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Vo(e,t){this._pairs=[],e&&rs(e,this,t)}const Al=Vo.prototype;Al.append=function(t,r){this._pairs.push([t,r])};Al.toString=function(t){const r=t?function(n){return t.call(this,n,rc)}:rc;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function ph(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ol(e,t,r){if(!t)return e;const n=r&&r.encode||ph;$.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let i;if(o?i=o(t,r):i=$.isURLSearchParams(t)?t.toString():new Vo(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class nc{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Rl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gh=typeof URLSearchParams<"u"?URLSearchParams:Vo,yh=typeof FormData<"u"?FormData:null,bh=typeof Blob<"u"?Blob:null,xh={isBrowser:!0,classes:{URLSearchParams:gh,FormData:yh,Blob:bh},protocols:["http","https","file","blob","url","data"]},Yo=typeof window<"u"&&typeof document<"u",jo=typeof navigator=="object"&&navigator||void 0,vh=Yo&&(!jo||["ReactNative","NativeScript","NS"].indexOf(jo.product)<0),wh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kh=Yo&&window.location.href||"http://localhost",jh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Yo,hasStandardBrowserEnv:vh,hasStandardBrowserWebWorkerEnv:wh,navigator:jo,origin:kh},Symbol.toStringTag,{value:"Module"})),nt={...jh,...xh};function Nh(e,t){return rs(e,new nt.classes.URLSearchParams,{visitor:function(r,n,o,i){return nt.isNode&&$.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Sh(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _h(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}function Ml(e){function t(r,n,o,i){let l=r[i++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),p=i>=r.length;return l=!l&&$.isArray(o)?o.length:l,p?($.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!u):((!o[l]||!$.isObject(o[l]))&&(o[l]=[]),t(r,n,o[l],i)&&$.isArray(o[l])&&(o[l]=_h(o[l])),!u)}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,(n,o)=>{t(Sh(n),o,r,0)}),r}return null}function Ch(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Un={transitional:Rl,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return o?JSON.stringify(Ml(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nh(t,this.formSerializer).toString();if((u=$.isFileList(t))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return rs(u?{"files[]":t}:t,p&&new p,this.formSerializer)}}return i||o?(r.setContentType("application/json",!1),Ch(t)):t}],transformResponse:[function(t){const r=this.transitional||Un.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Se.from(u,Se.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{Un.headers[e]={}});const Eh=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ph=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||t[r]&&Eh[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ac=Symbol("internals");function _n(e){return e&&String(e).trim().toLowerCase()}function Da(e){return e===!1||e==null?e:$.isArray(e)?e.map(Da):String(e)}function Th(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Ah=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xs(e,t,r,n,o){if($.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!$.isString(t)){if($.isString(n))return t.indexOf(n)!==-1;if($.isRegExp(n))return n.test(t)}}function Oh(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Rh(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,i,l){return this[n].call(this,t,o,i,l)},configurable:!0})})}let lt=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function i(u,p,h){const g=_n(p);if(!g)throw new Error("header name must be a non-empty string");const x=$.findKey(o,g);(!x||o[x]===void 0||h===!0||h===void 0&&o[x]!==!1)&&(o[x||p]=Da(u))}const l=(u,p)=>$.forEach(u,(h,g)=>i(h,g,p));if($.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if($.isString(t)&&(t=t.trim())&&!Ah(t))l(Ph(t),r);else if($.isObject(t)&&$.isIterable(t)){let u={},p,h;for(const g of t){if(!$.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[h=g[0]]=(p=u[h])?$.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}l(u,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=_n(t),t){const n=$.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return Th(o);if($.isFunction(r))return r.call(this,o,n);if($.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_n(t),t){const n=$.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Xs(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function i(l){if(l=_n(l),l){const u=$.findKey(n,l);u&&(!r||Xs(n,n[u],u,r))&&(delete n[u],o=!0)}}return $.isArray(t)?t.forEach(i):i(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const i=r[n];(!t||Xs(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const r=this,n={};return $.forEach(this,(o,i)=>{const l=$.findKey(n,i);if(l){r[l]=Da(o),delete r[i];return}const u=t?Oh(i):String(i).trim();u!==i&&delete r[i],r[u]=Da(o),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&$.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[ac]=this[ac]={accessors:{}}).accessors,o=this.prototype;function i(l){const u=_n(l);n[u]||(Rh(o,l),n[u]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(lt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});$.freezeMethods(lt);function Qs(e,t){const r=this||Un,n=t||r,o=lt.from(n.headers);let i=n.data;return $.forEach(e,function(u){i=u.call(r,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Dl(e){return!!(e&&e.__CANCEL__)}function on(e,t,r){Se.call(this,e??"canceled",Se.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(on,Se,{__CANCEL__:!0});function Il(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Se("Request failed with status code "+r.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Mh(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Dh(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,i=0,l;return t=t!==void 0?t:1e3,function(p){const h=Date.now(),g=n[i];l||(l=h),r[o]=p,n[o]=h;let x=i,N=0;for(;x!==o;)N+=r[x++],x=x%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),h-l<t)return;const E=g&&h-g;return E?Math.round(N*1e3/E):void 0}}function Ih(e,t){let r=0,n=1e3/t,o,i;const l=(h,g=Date.now())=>{r=g,o=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const g=Date.now(),x=g-r;x>=n?l(h,g):(o=h,i||(i=setTimeout(()=>{i=null,l(o)},n-x)))},()=>o&&l(o)]}const Ka=(e,t,r=3)=>{let n=0;const o=Dh(50,250);return Ih(i=>{const l=i.loaded,u=i.lengthComputable?i.total:void 0,p=l-n,h=o(p),g=l<=u;n=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:p,rate:h||void 0,estimated:h&&u&&g?(u-l)/h:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(x)},r)},sc=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},oc=e=>(...t)=>$.asap(()=>e(...t)),Fh=nt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,nt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,Lh=nt.hasStandardBrowserEnv?{write(e,t,r,n,o,i,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];$.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),$.isString(n)&&u.push(`path=${n}`),$.isString(o)&&u.push(`domain=${o}`),i===!0&&u.push("secure"),$.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function qh(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $h(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Fl(e,t,r){let n=!qh(t);return e&&(n||r==!1)?$h(e,t):t}const ic=e=>e instanceof lt?{...e}:e;function Er(e,t){t=t||{};const r={};function n(h,g,x,N){return $.isPlainObject(h)&&$.isPlainObject(g)?$.merge.call({caseless:N},h,g):$.isPlainObject(g)?$.merge({},g):$.isArray(g)?g.slice():g}function o(h,g,x,N){if($.isUndefined(g)){if(!$.isUndefined(h))return n(void 0,h,x,N)}else return n(h,g,x,N)}function i(h,g){if(!$.isUndefined(g))return n(void 0,g)}function l(h,g){if($.isUndefined(g)){if(!$.isUndefined(h))return n(void 0,h)}else return n(void 0,g)}function u(h,g,x){if(x in t)return n(h,g);if(x in e)return n(void 0,h)}const p={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,g,x)=>o(ic(h),ic(g),x,!0)};return $.forEach(Object.keys({...e,...t}),function(g){const x=p[g]||o,N=x(e[g],t[g],g);$.isUndefined(N)&&x!==u||(r[g]=N)}),r}const Ll=e=>{const t=Er({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:u}=t;if(t.headers=l=lt.from(l),t.url=Ol(Fl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),$.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if($.isFunction(r.getHeaders)){const p=r.getHeaders(),h=["content-type","content-length"];Object.entries(p).forEach(([g,x])=>{h.includes(g.toLowerCase())&&l.set(g,x)})}}if(nt.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(t)),n||n!==!1&&Fh(t.url))){const p=o&&i&&Lh.read(i);p&&l.set(o,p)}return t},Bh=typeof XMLHttpRequest<"u",Kh=Bh&&function(e){return new Promise(function(r,n){const o=Ll(e);let i=o.data;const l=lt.from(o.headers).normalize();let{responseType:u,onUploadProgress:p,onDownloadProgress:h}=o,g,x,N,E,k;function j(){E&&E(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let O=new XMLHttpRequest;O.open(o.method.toUpperCase(),o.url,!0),O.timeout=o.timeout;function W(){if(!O)return;const B=lt.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),ee={data:!u||u==="text"||u==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:B,config:e,request:O};Il(function(J){r(J),j()},function(J){n(J),j()},ee),O=null}"onloadend"in O?O.onloadend=W:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(W)},O.onabort=function(){O&&(n(new Se("Request aborted",Se.ECONNABORTED,e,O)),O=null)},O.onerror=function(q){const ee=q&&q.message?q.message:"Network Error",X=new Se(ee,Se.ERR_NETWORK,e,O);X.event=q||null,n(X),O=null},O.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||Rl;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),n(new Se(q,ee.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,O)),O=null},i===void 0&&l.setContentType(null),"setRequestHeader"in O&&$.forEach(l.toJSON(),function(q,ee){O.setRequestHeader(ee,q)}),$.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),u&&u!=="json"&&(O.responseType=o.responseType),h&&([N,k]=Ka(h,!0),O.addEventListener("progress",N)),p&&O.upload&&([x,E]=Ka(p),O.upload.addEventListener("progress",x),O.upload.addEventListener("loadend",E)),(o.cancelToken||o.signal)&&(g=B=>{O&&(n(!B||B.type?new on(null,e,O):B),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const U=Mh(o.url);if(U&&nt.protocols.indexOf(U)===-1){n(new Se("Unsupported protocol "+U+":",Se.ERR_BAD_REQUEST,e));return}O.send(i||null)})},Wh=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const i=function(h){if(!o){o=!0,u();const g=h instanceof Error?h:this.reason;n.abort(g instanceof Se?g:new on(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,i(new Se(`timeout ${t} of ms exceeded`,Se.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:p}=n;return p.unsubscribe=()=>$.asap(u),p}},Uh=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},zh=async function*(e,t){for await(const r of Hh(e))yield*Uh(r,t)},Hh=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},cc=(e,t,r,n)=>{const o=zh(e,t);let i=0,l,u=p=>{l||(l=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:h,value:g}=await o.next();if(h){u(),p.close();return}let x=g.byteLength;if(r){let N=i+=x;r(N)}p.enqueue(new Uint8Array(g))}catch(h){throw u(h),h}},cancel(p){return u(p),o.return()}},{highWaterMark:2})},lc=64*1024,{isFunction:Na}=$,Vh=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:uc,TextEncoder:dc}=$.global,fc=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Yh=e=>{e=$.merge.call({skipUndefined:!0},Vh,e);const{fetch:t,Request:r,Response:n}=e,o=t?Na(t):typeof fetch=="function",i=Na(r),l=Na(n);if(!o)return!1;const u=o&&Na(uc),p=o&&(typeof dc=="function"?(k=>j=>k.encode(j))(new dc):async k=>new Uint8Array(await new r(k).arrayBuffer())),h=i&&u&&fc(()=>{let k=!1;const j=new r(nt.origin,{body:new uc,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!j}),g=l&&u&&fc(()=>$.isReadableStream(new n("").body)),x={stream:g&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!x[k]&&(x[k]=(j,O)=>{let W=j&&j[k];if(W)return W.call(j);throw new Se(`Response type '${k}' is not supported`,Se.ERR_NOT_SUPPORT,O)})});const N=async k=>{if(k==null)return 0;if($.isBlob(k))return k.size;if($.isSpecCompliantForm(k))return(await new r(nt.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if($.isArrayBufferView(k)||$.isArrayBuffer(k))return k.byteLength;if($.isURLSearchParams(k)&&(k=k+""),$.isString(k))return(await p(k)).byteLength},E=async(k,j)=>{const O=$.toFiniteNumber(k.getContentLength());return O??N(j)};return async k=>{let{url:j,method:O,data:W,signal:U,cancelToken:B,timeout:q,onDownloadProgress:ee,onUploadProgress:X,responseType:J,headers:xe,withCredentials:we="same-origin",fetchOptions:Re}=Ll(k),he=t||fetch;J=J?(J+"").toLowerCase():"text";let ue=Wh([U,B&&B.toAbortSignal()],q),Ae=null;const Me=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let F;try{if(X&&h&&O!=="get"&&O!=="head"&&(F=await E(xe,W))!==0){let Ee=new r(j,{method:"POST",body:W,duplex:"half"}),G;if($.isFormData(W)&&(G=Ee.headers.get("content-type"))&&xe.setContentType(G),Ee.body){const[H,ge]=sc(F,Ka(oc(X)));W=cc(Ee.body,lc,H,ge)}}$.isString(we)||(we=we?"include":"omit");const z=i&&"credentials"in r.prototype,Y={...Re,signal:ue,method:O.toUpperCase(),headers:xe.normalize().toJSON(),body:W,duplex:"half",credentials:z?we:void 0};Ae=i&&new r(j,Y);let de=await(i?he(Ae,Re):he(j,Y));const ce=g&&(J==="stream"||J==="response");if(g&&(ee||ce&&Me)){const Ee={};["status","statusText","headers"].forEach(ye=>{Ee[ye]=de[ye]});const G=$.toFiniteNumber(de.headers.get("content-length")),[H,ge]=ee&&sc(G,Ka(oc(ee),!0))||[];de=new n(cc(de.body,lc,H,()=>{ge&&ge(),Me&&Me()}),Ee)}J=J||"text";let pe=await x[$.findKey(x,J)||"text"](de,k);return!ce&&Me&&Me(),await new Promise((Ee,G)=>{Il(Ee,G,{data:pe,headers:lt.from(de.headers),status:de.status,statusText:de.statusText,config:k,request:Ae})})}catch(z){throw Me&&Me(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,k,Ae),{cause:z.cause||z}):Se.from(z,z&&z.code,k,Ae)}}},Gh=new Map,ql=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:o}=t,i=[n,o,r];let l=i.length,u=l,p,h,g=Gh;for(;u--;)p=i[u],h=g.get(p),h===void 0&&g.set(p,h=u?new Map:Yh(t)),g=h;return h};ql();const Go={http:fh,xhr:Kh,fetch:{get:ql}};$.forEach(Go,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hc=e=>`- ${e}`,Xh=e=>$.isFunction(e)||e===null||e===!1;function Qh(e,t){e=$.isArray(e)?e:[e];const{length:r}=e;let n,o;const i={};for(let l=0;l<r;l++){n=e[l];let u;if(o=n,!Xh(n)&&(o=Go[(u=String(n)).toLowerCase()],o===void 0))throw new Se(`Unknown adapter '${u}'`);if(o&&($.isFunction(o)||(o=o.get(t))))break;i[u||"#"+l]=o}if(!o){const l=Object.entries(i).map(([p,h])=>`adapter ${p} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(hc).join(`
`):" "+hc(l[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o}const $l={getAdapter:Qh,adapters:Go};function Js(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function mc(e){return Js(e),e.headers=lt.from(e.headers),e.data=Qs.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$l.getAdapter(e.adapter||Un.adapter,e)(e).then(function(n){return Js(e),n.data=Qs.call(e,e.transformResponse,n),n.headers=lt.from(n.headers),n},function(n){return Dl(n)||(Js(e),n&&n.response&&(n.response.data=Qs.call(e,e.transformResponse,n.response),n.response.headers=lt.from(n.response.headers))),Promise.reject(n)})}const Bl="1.13.2",ns={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ns[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pc={};ns.transitional=function(t,r,n){function o(i,l){return"[Axios v"+Bl+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,u)=>{if(t===!1)throw new Se(o(l," has been removed"+(r?" in "+r:"")),Se.ERR_DEPRECATED);return r&&!pc[l]&&(pc[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,u):!0}};ns.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Jh(e,t,r){if(typeof e!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],l=t[i];if(l){const u=e[i],p=u===void 0||l(u,i,e);if(p!==!0)throw new Se("option "+i+" must be "+p,Se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Se("Unknown option "+i,Se.ERR_BAD_OPTION)}}const Ia={assertOptions:Jh,validators:ns},Ct=Ia.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new nc,response:new nc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Er(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:i}=r;n!==void 0&&Ia.assertOptions(n,{silentJSONParsing:Ct.transitional(Ct.boolean),forcedJSONParsing:Ct.transitional(Ct.boolean),clarifyTimeoutError:Ct.transitional(Ct.boolean)},!1),o!=null&&($.isFunction(o)?r.paramsSerializer={serialize:o}:Ia.assertOptions(o,{encode:Ct.function,serialize:Ct.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ia.assertOptions(r,{baseUrl:Ct.spelling("baseURL"),withXsrfToken:Ct.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&$.merge(i.common,i[r.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],k=>{delete i[k]}),r.headers=lt.concat(l,i);const u=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(p=p&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const h=[];this.interceptors.response.forEach(function(j){h.push(j.fulfilled,j.rejected)});let g,x=0,N;if(!p){const k=[mc.bind(this),void 0];for(k.unshift(...u),k.push(...h),N=k.length,g=Promise.resolve(r);x<N;)g=g.then(k[x++],k[x++]);return g}N=u.length;let E=r;for(;x<N;){const k=u[x++],j=u[x++];try{E=k(E)}catch(O){j.call(this,O);break}}try{g=mc.call(this,E)}catch(k){return Promise.reject(k)}for(x=0,N=h.length;x<N;)g=g.then(h[x++],h[x++]);return g}getUri(t){t=Er(this.defaults,t);const r=Fl(t.baseURL,t.url,t.allowAbsoluteUrls);return Ol(r,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(r,n){return this.request(Er(n||{},{method:t,url:r,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,u){return this.request(Er(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Cr.prototype[t]=r(),Cr.prototype[t+"Form"]=r(!0)});let Zh=class Kl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const l=new Promise(u=>{n.subscribe(u),i=u}).then(o);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,u){n.reason||(n.reason=new on(i,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Kl(function(o){t=o}),cancel:t}}};function em(e){return function(r){return e.apply(null,r)}}function tm(e){return $.isObject(e)&&e.isAxiosError===!0}const No={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(No).forEach(([e,t])=>{No[t]=e});function Wl(e){const t=new Cr(e),r=vl(Cr.prototype.request,t);return $.extend(r,Cr.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return Wl(Er(e,o))},r}const Ue=Wl(Un);Ue.Axios=Cr;Ue.CanceledError=on;Ue.CancelToken=Zh;Ue.isCancel=Dl;Ue.VERSION=Bl;Ue.toFormData=rs;Ue.AxiosError=Se;Ue.Cancel=Ue.CanceledError;Ue.all=function(t){return Promise.all(t)};Ue.spread=em;Ue.isAxiosError=tm;Ue.mergeConfig=Er;Ue.AxiosHeaders=lt;Ue.formToJSON=e=>Ml($.isHTMLForm(e)?new FormData(e):e);Ue.getAdapter=$l.getAdapter;Ue.HttpStatusCode=No;Ue.default=Ue;const{Axios:Tj,AxiosError:Aj,CanceledError:Oj,isCancel:Rj,CancelToken:Mj,VERSION:Dj,all:Ij,Cancel:Fj,isAxiosError:Lj,spread:qj,toFormData:$j,AxiosHeaders:Bj,HttpStatusCode:Kj,formToJSON:Wj,getAdapter:Uj,mergeConfig:zj}=Ue,rm="",re=Ue.create({baseURL:rm,timeout:6e4,headers:{"Content-Type":"application/json"},maxRedirects:0});async function gc(e,t){const r=await fetch(e,{method:"GET",headers:{...t&&{Authorization:t}}});if(!r.ok){const n=await r.json().catch(()=>({detail:"Request failed"})),o=new Error(n.detail||"Request failed");throw o.response={status:r.status,statusText:r.statusText,data:n},o}return r.json()}re.interceptors.response.use(e=>{if(e.status===307||e.status===301){const t=e.headers.location;if(t){const r=e.config,n=typeof r.headers.Authorization=="string"?r.headers.Authorization:void 0;if(n)return gc(t,n)}}return e},e=>{var t,r,n;if(((t=e.response)==null?void 0:t.status)===307||((r=e.response)==null?void 0:r.status)===301){const o=e.response.headers.location;if(o&&e.config){const i=typeof e.config.headers.Authorization=="string"?e.config.headers.Authorization:void 0;if(i)return gc(o,i)}}return console.error("API Error:",((n=e.response)==null?void 0:n.data)||e.message),Promise.reject(e)});const Ul=y.createContext(void 0),wr="smartmoney_access_token",Cn="smartmoney_refresh_token";function nm({children:e}){const[t,r]=y.useState(null),[n,o]=y.useState(!0),i=y.useCallback(()=>{localStorage.removeItem(wr),localStorage.removeItem(Cn),r(null),o(!1)},[]),l=y.useCallback(async()=>{const p=localStorage.getItem(Cn);if(!p)return!1;try{const g=await Ue.post("/api/auth/refresh",{refresh_token:p}),{access_token:x,refresh_token:N}=g.data;localStorage.setItem(wr,x),localStorage.setItem(Cn,N);const E=await re.get("/api/auth/me",{headers:{Authorization:`Bearer ${x}`}});return r(E.data),!0}catch{return localStorage.removeItem(wr),localStorage.removeItem(Cn),!1}},[]);y.useEffect(()=>{const p=re.interceptors.request.use(g=>{const x=localStorage.getItem(wr);return x?(g.headers.Authorization=`Bearer ${x}`,console.log("[AuthInterceptor] Added auth header to request:",g.url)):console.log("[AuthInterceptor] No token found for:",g.url),g},g=>Promise.reject(g)),h=re.interceptors.response.use(g=>g,async g=>{var E,k;const x=g.config,N=(E=x==null?void 0:x.url)==null?void 0:E.includes("/api/auth/");if(((k=g.response)==null?void 0:k.status)===401&&!x._retry&&!N)if(x._retry=!0,await l()){const O=localStorage.getItem(wr);return x.headers.Authorization=`Bearer ${O}`,re(x)}else i();return Promise.reject(g)});return()=>{re.interceptors.request.eject(p),re.interceptors.response.eject(h)}},[l,i]),y.useEffect(()=>{(async()=>{if(localStorage.getItem(wr))try{const g=await re.get("/api/auth/me");r(g.data)}catch{await l()||r(null)}o(!1)})()},[l]);const u=async(p,h)=>{const g=new URLSearchParams;g.append("username",p),g.append("password",h);const x=await re.post("/api/auth/login",g,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:N,refresh_token:E}=x.data;localStorage.setItem(wr,N),localStorage.setItem(Cn,E);const k=await re.get("/api/auth/me",{headers:{Authorization:`Bearer ${N}`}});r(k.data)};return a.jsx(Ul.Provider,{value:{user:t,isLoading:n,isAuthenticated:!!t,login:u,logout:i,refreshToken:l},children:e})}function zn(){const e=y.useContext(Ul);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}async function am(){return(await re.get("/api/settings")).data}async function Hj(e){return(await re.put("/api/settings",e)).data}const zl=y.createContext(void 0);function sm({children:e}){const{data:t,isLoading:r}=We({queryKey:["settings"],queryFn:am}),n={settings:t,isLoading:r,currency:(t==null?void 0:t.currency)||"JPY",baseDate:(t==null?void 0:t.base_date)||25};return a.jsx(zl.Provider,{value:n,children:e})}function cn(){const e=y.useContext(zl);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const Hl=y.createContext(void 0),yc="smartmoney_privacy_mode";function om({children:e}){const[t,r]=y.useState(()=>localStorage.getItem(yc)==="true");y.useEffect(()=>{localStorage.setItem(yc,String(t))},[t]);const n=()=>{r(o=>!o)};return a.jsx(Hl.Provider,{value:{isPrivacyMode:t,togglePrivacyMode:n},children:e})}function Mr(){const e=y.useContext(Hl);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e}const Vl="smartmoney-theme",So="smartmoney-accent",_o="smartmoney-color-theme",Co="smartmoney-tier",Xo=[{id:"green",label:"Emerald",preview:"#4CAF50"},{id:"blue",label:"Ocean",preview:"#3B82F6"},{id:"purple",label:"Royal",preview:"#8B5CF6"},{id:"orange",label:"Sunset",preview:"#F97316"},{id:"rose",label:"Rose",preview:"#F43F5E"},{id:"teal",label:"Teal",preview:"#14B8A6"}],Yl=[{id:"default",mode:"light",preview:{base:"#f9fafb",surface:"#ffffff",text:"#111827",primary:"#4CAF50"}},{id:"catppuccin-latte",mode:"light",preview:{base:"#eff1f5",surface:"#ccd0da",text:"#4c4f69",primary:"#7c3aed"}},{id:"catppuccin-frappe",mode:"dark",preview:{base:"#303446",surface:"#414559",text:"#c6d0f5",primary:"#babbf1"}},{id:"catppuccin-macchiato",mode:"dark",preview:{base:"#24273a",surface:"#363a4f",text:"#cad3f5",primary:"#91d7e3"}},{id:"catppuccin-mocha",mode:"dark",preview:{base:"#1e1e2e",surface:"#313244",text:"#cdd6f4",primary:"#cba6f7"}},{id:"dracula",mode:"dark",preview:{base:"#282a36",surface:"#44475a",text:"#f8f8f2",primary:"#bd93f9"}},{id:"dracula-light",mode:"light",preview:{base:"#fffbeb",surface:"#dedccf",text:"#1f1f1f",primary:"#644ac9"}}],Gl=Yl.map(e=>e.id);function bc(){return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function xc(){if(typeof window<"u"){const e=localStorage.getItem(Vl);if(e==="light"||e==="dark"||e==="system")return e}return"system"}function im(){if(typeof window<"u"){const e=localStorage.getItem(So);if(Xo.some(t=>t.id===e))return e}return"green"}function cm(){if(typeof window<"u"){const e=localStorage.getItem(_o);if(e&&Gl.includes(e))return e}return"default"}function lm(){if(typeof window<"u"){const e=localStorage.getItem(Co);if(e==="pro"||e==="lite")return e}return"pro"}function um(e,t,r){var o;const n=((o=Xo.find(i=>i.id===t))==null?void 0:o.preview)||"#4CAF50";return{theme_name:e,accent_color:n,other_preferences:{tier:r}}}function dm(e){var o,i;const t=Gl.includes(e.theme_name)?e.theme_name:"default",r=((o=Xo.find(l=>l.preview.toLowerCase()===e.accent_color.toLowerCase()))==null?void 0:o.id)||"green",n=((i=e.other_preferences)==null?void 0:i.tier)==="lite"?"lite":"pro";return{colorTheme:t,accentColor:r,tier:n}}const Xl=y.createContext(void 0);function fm({children:e}){const[t,r]=y.useState(()=>xc()),[n,o]=y.useState(()=>{const q=xc();return q==="system"?bc():q}),[i,l]=y.useState(()=>im()),[u,p]=y.useState(()=>cm()),[h,g]=y.useState(()=>lm()),[x,N]=y.useState(!1),[E,k]=y.useState(!1);y.useEffect(()=>{const q=localStorage.getItem("smartmoney_access_token");k(!!q)},[]),y.useEffect(()=>{if(!E)return;(async()=>{N(!0);try{const ee=await re.get("/api/user/theme-settings"),{colorTheme:X,accentColor:J,tier:xe}=dm(ee.data);p(X),l(J),g(xe),localStorage.setItem(_o,X),localStorage.setItem(So,J),localStorage.setItem(Co,xe)}catch(ee){console.error("Failed to fetch theme settings from backend:",ee)}finally{N(!1)}})()},[E]),y.useEffect(()=>{if(!E||x)return;const ee=setTimeout(async()=>{try{const X=um(u,i,h);await re.put("/api/user/theme-settings",X)}catch(X){console.error("Failed to sync theme settings to backend:",X)}},500);return()=>clearTimeout(ee)},[u,i,h,E,x]),y.useEffect(()=>{const q=()=>{const ee=document.documentElement;if(u!=="default"){const X=Yl.find(xe=>xe.id===u),J=(X==null?void 0:X.mode)??"dark";o(J),ee.classList.remove("light","dark"),ee.classList.add(J)}else{const X=t==="system"?bc():t;o(X),ee.classList.remove("light","dark"),ee.classList.add(X)}};if(q(),u==="default"&&t==="system"){const ee=window.matchMedia("(prefers-color-scheme: dark)"),X=()=>q();return ee.addEventListener("change",X),()=>ee.removeEventListener("change",X)}},[t,u]),y.useEffect(()=>{const q=document.documentElement;u==="default"?q.removeAttribute("data-theme"):q.setAttribute("data-theme",u)},[u]),y.useEffect(()=>{const q=document.documentElement;i==="green"?q.removeAttribute("data-accent"):q.setAttribute("data-accent",i)},[i]);const j=q=>{r(q),localStorage.setItem(Vl,q)},O=()=>{j(n==="dark"?"light":"dark")},W=q=>{l(q),localStorage.setItem(So,q)},U=q=>{p(q),localStorage.setItem(_o,q)},B=q=>{g(q),localStorage.setItem(Co,q)};return a.jsx(Xl.Provider,{value:{theme:t,resolvedTheme:n,accentColor:i,colorTheme:u,tier:h,setTheme:j,toggleTheme:O,setAccentColor:W,setColorTheme:U,setTier:B},children:e})}function as(){const e=y.useContext(Xl);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var Ql={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(_r,function(){var r=function(s,c){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(d[m]=f[m])})(s,c)},n=function(){return(n=Object.assign||function(s){for(var c,d=1,f=arguments.length;d<f;d++)for(var m in c=arguments[d])Object.prototype.hasOwnProperty.call(c,m)&&(s[m]=c[m]);return s}).apply(this,arguments)};function o(s,c,d){for(var f,m=0,b=c.length;m<b;m++)!f&&m in c||((f=f||Array.prototype.slice.call(c,0,m))[m]=c[m]);return s.concat(f||Array.prototype.slice.call(c))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_r,l=Object.keys,u=Array.isArray;function p(s,c){return typeof c!="object"||l(c).forEach(function(d){s[d]=c[d]}),s}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var h=Object.getPrototypeOf,g={}.hasOwnProperty;function x(s,c){return g.call(s,c)}function N(s,c){typeof c=="function"&&(c=c(h(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(c).forEach(function(d){k(s,d,c[d])})}var E=Object.defineProperty;function k(s,c,d,f){E(s,c,p(d&&x(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},f))}function j(s){return{from:function(c){return s.prototype=Object.create(c.prototype),k(s.prototype,"constructor",s),{extend:N.bind(null,s.prototype)}}}}var O=Object.getOwnPropertyDescriptor,W=[].slice;function U(s,c,d){return W.call(s,c,d)}function B(s,c){return c(s)}function q(s){if(!s)throw new Error("Assertion Failed")}function ee(s){i.setImmediate?setImmediate(s):setTimeout(s,0)}function X(s,c){if(typeof c=="string"&&x(s,c))return s[c];if(!c)return s;if(typeof c!="string"){for(var d=[],f=0,m=c.length;f<m;++f){var b=X(s,c[f]);d.push(b)}return d}var v=c.indexOf(".");if(v!==-1){var w=s[c.substr(0,v)];return w==null?void 0:X(w,c.substr(v+1))}}function J(s,c,d){if(s&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof c!="string"&&"length"in c){q(typeof d!="string"&&"length"in d);for(var f=0,m=c.length;f<m;++f)J(s,c[f],d[f])}else{var b,v,w=c.indexOf(".");w!==-1?(b=c.substr(0,w),(v=c.substr(w+1))===""?d===void 0?u(s)&&!isNaN(parseInt(b))?s.splice(b,1):delete s[b]:s[b]=d:J(w=!(w=s[b])||!x(s,b)?s[b]={}:w,v,d)):d===void 0?u(s)&&!isNaN(parseInt(c))?s.splice(c,1):delete s[c]:s[c]=d}}function xe(s){var c,d={};for(c in s)x(s,c)&&(d[c]=s[c]);return d}var we=[].concat;function Re(s){return we.apply([],s)}var ur="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Re([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(c){return c+s+"Array"})}))).filter(function(s){return i[s]}),he=new Set(ur.map(function(s){return i[s]})),ue=null;function Ae(s){return ue=new WeakMap,s=function c(d){if(!d||typeof d!="object")return d;var f=ue.get(d);if(f)return f;if(u(d)){f=[],ue.set(d,f);for(var m=0,b=d.length;m<b;++m)f.push(c(d[m]))}else if(he.has(d.constructor))f=d;else{var v,w=h(d);for(v in f=w===Object.prototype?{}:Object.create(w),ue.set(d,f),d)x(d,v)&&(f[v]=c(d[v]))}return f}(s),ue=null,s}var Me={}.toString;function F(s){return Me.call(s).slice(8,-1)}var z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof z=="symbol"?function(s){var c;return s!=null&&(c=s[z])&&c.apply(s)}:function(){return null};function de(s,c){return c=s.indexOf(c),0<=c&&s.splice(c,1),0<=c}var ce={};function pe(s){var c,d,f,m;if(arguments.length===1){if(u(s))return s.slice();if(this===ce&&typeof s=="string")return[s];if(m=Y(s)){for(d=[];!(f=m.next()).done;)d.push(f.value);return d}if(s==null)return[s];if(typeof(c=s.length)!="number")return[s];for(d=new Array(c);c--;)d[c]=s[c];return d}for(c=arguments.length,d=new Array(c);c--;)d[c]=arguments[c];return d}var Ee=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},mn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(mn),G={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function H(s,c){this.name=s,this.message=c}function ge(s,c){return s+". Errors: "+Object.keys(c).map(function(d){return c[d].toString()}).filter(function(d,f,m){return m.indexOf(d)===f}).join(`
`)}function ye(s,c,d,f){this.failures=c,this.failedKeys=f,this.successCount=d,this.message=ge(s,c)}function Z(s,c){this.name="BulkError",this.failures=Object.keys(c).map(function(d){return c[d]}),this.failuresByPos=c,this.message=ge(s,this.failures)}j(H).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(ye).from(H),j(Z).from(H);var De=gt.reduce(function(s,c){return s[c]=c+"Error",s},{}),at=H,fe=gt.reduce(function(s,c){var d=c+"Error";function f(m,b){this.name=d,m?typeof m=="string"?(this.message="".concat(m).concat(b?`
 `+b:""),this.inner=b||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=G[c]||d,this.inner=null)}return j(f).from(at),s[c]=f,s},{});fe.Syntax=SyntaxError,fe.Type=TypeError,fe.Range=RangeError;var cr=mn.reduce(function(s,c){return s[c+"Error"]=fe[c],s},{}),Qn=gt.reduce(function(s,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(s[c+"Error"]=fe[c]),s},{});function Le(){}function fn(s){return s}function Sd(s,c){return s==null||s===fn?c:function(d){return c(s(d))}}function lr(s,c){return function(){s.apply(this,arguments),c.apply(this,arguments)}}function _d(s,c){return s===Le?c:function(){var d=s.apply(this,arguments);d!==void 0&&(arguments[0]=d);var f=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var b=c.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?lr(f,this.onsuccess):f),m&&(this.onerror=this.onerror?lr(m,this.onerror):m),b!==void 0?b:d}}function Cd(s,c){return s===Le?c:function(){s.apply(this,arguments);var d=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?lr(d,this.onsuccess):d),f&&(this.onerror=this.onerror?lr(f,this.onerror):f)}}function Ed(s,c){return s===Le?c:function(d){var f=s.apply(this,arguments);p(d,f);var m=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,d=c.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?lr(m,this.onsuccess):m),b&&(this.onerror=this.onerror?lr(b,this.onerror):b),f===void 0?d===void 0?void 0:d:p(f,d)}}function Pd(s,c){return s===Le?c:function(){return c.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function ps(s,c){return s===Le?c:function(){var d=s.apply(this,arguments);if(d&&typeof d.then=="function"){for(var f=this,m=arguments.length,b=new Array(m);m--;)b[m]=arguments[m];return d.then(function(){return c.apply(f,b)})}return c.apply(this,arguments)}}Qn.ModifyError=ye,Qn.DexieError=H,Qn.BulkError=Z;var Nt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function mi(s){Nt=s}var hn={},pi=100,ur=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,h(s),s];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,h(c),s]}(),mn=ur[0],gt=ur[1],ur=ur[2],gt=gt&&gt.then,dr=mn&&mn.constructor,gs=!!ur,pn=function(s,c){gn.push([s,c]),Jn&&(queueMicrotask(Ad),Jn=!1)},ys=!0,Jn=!0,fr=[],Zn=[],bs=fn,Bt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Le,pgp:!1,env:{},finalize:Le},ve=Bt,gn=[],hr=0,ea=[];function le(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=ve;if(typeof s!="function"){if(s!==hn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&vs(this,this._value))}this._state=null,this._value=null,++c.ref,function d(f,m){try{m(function(b){if(f._state===null){if(b===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&Ir();b&&typeof b.then=="function"?d(f,function(w,_){b instanceof le?b._then(w,_):b.then(w,_)}):(f._state=!0,f._value=b,yi(f)),v&&Fr()}},vs.bind(null,f))}catch(b){vs(f,b)}}(this,s)}var xs={get:function(){var s=ve,c=aa;function d(f,m){var b=this,v=!s.global&&(s!==ve||c!==aa),w=v&&!Wt(),_=new le(function(C,R){ws(b,new gi(xi(f,s,v,w),xi(m,s,v,w),C,R,s))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return d.prototype=hn,d},set:function(s){k(this,"then",s&&s.prototype===hn?xs:{get:function(){return s},set:xs.set})}};function gi(s,c,d,f,m){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof c=="function"?c:null,this.resolve=d,this.reject=f,this.psd=m}function vs(s,c){var d,f;Zn.push(c),s._state===null&&(d=s._lib&&Ir(),c=bs(c),s._state=!1,s._value=c,f=s,fr.some(function(m){return m._value===f._value})||fr.push(f),yi(s),d&&Fr())}function yi(s){var c=s._listeners;s._listeners=[];for(var d=0,f=c.length;d<f;++d)ws(s,c[d]);var m=s._PSD;--m.ref||m.finalize(),hr===0&&(++hr,pn(function(){--hr==0&&ks()},[]))}function ws(s,c){if(s._state!==null){var d=s._state?c.onFulfilled:c.onRejected;if(d===null)return(s._state?c.resolve:c.reject)(s._value);++c.psd.ref,++hr,pn(Td,[d,s,c])}else s._listeners.push(c)}function Td(s,c,d){try{var f,m=c._value;!c._state&&Zn.length&&(Zn=[]),f=Nt&&c._consoleTask?c._consoleTask.run(function(){return s(m)}):s(m),c._state||Zn.indexOf(m)!==-1||function(b){for(var v=fr.length;v;)if(fr[--v]._value===b._value)return fr.splice(v,1)}(c),d.resolve(f)}catch(b){d.reject(b)}finally{--hr==0&&ks(),--d.psd.ref||d.psd.finalize()}}function Ad(){mr(Bt,function(){Ir()&&Fr()})}function Ir(){var s=ys;return Jn=ys=!1,s}function Fr(){var s,c,d;do for(;0<gn.length;)for(s=gn,gn=[],d=s.length,c=0;c<d;++c){var f=s[c];f[0].apply(null,f[1])}while(0<gn.length);Jn=ys=!0}function ks(){var s=fr;fr=[],s.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var c=ea.slice(0),d=c.length;d;)c[--d]()}function ta(s){return new le(hn,!1,s)}function Be(s,c){var d=ve;return function(){var f=Ir(),m=ve;try{return Ut(d,!0),s.apply(this,arguments)}catch(b){c&&c(b)}finally{Ut(m,!1),f&&Fr()}}}N(le.prototype,{then:xs,_then:function(s,c){ws(this,new gi(null,null,s,c,ve))},catch:function(s){if(arguments.length===1)return this.then(null,s);var c=s,d=arguments[1];return typeof c=="function"?this.then(null,function(f){return(f instanceof c?d:ta)(f)}):this.then(null,function(f){return(f&&f.name===c?d:ta)(f)})},finally:function(s){return this.then(function(c){return le.resolve(s()).then(function(){return c})},function(c){return le.resolve(s()).then(function(){return ta(c)})})},timeout:function(s,c){var d=this;return s<1/0?new le(function(f,m){var b=setTimeout(function(){return m(new fe.Timeout(c))},s);d.then(f,m).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Bt.env=bi(),N(le,{all:function(){var s=pe.apply(null,arguments).map(sa);return new le(function(c,d){s.length===0&&c([]);var f=s.length;s.forEach(function(m,b){return le.resolve(m).then(function(v){s[b]=v,--f||c(s)},d)})})},resolve:function(s){return s instanceof le?s:s&&typeof s.then=="function"?new le(function(c,d){s.then(c,d)}):new le(hn,!0,s)},reject:ta,race:function(){var s=pe.apply(null,arguments).map(sa);return new le(function(c,d){s.map(function(f){return le.resolve(f).then(c,d)})})},PSD:{get:function(){return ve},set:function(s){return ve=s}},totalEchoes:{get:function(){return aa}},newPSD:Kt,usePSD:mr,scheduler:{get:function(){return pn},set:function(s){pn=s}},rejectionMapper:{get:function(){return bs},set:function(s){bs=s}},follow:function(s,c){return new le(function(d,f){return Kt(function(m,b){var v=ve;v.unhandleds=[],v.onunhandled=b,v.finalize=lr(function(){var w,_=this;w=function(){_.unhandleds.length===0?m():b(_.unhandleds[0])},ea.push(function C(){w(),ea.splice(ea.indexOf(C),1)}),++hr,pn(function(){--hr==0&&ks()},[])},v.finalize),s()},c,d,f)})}}),dr&&(dr.allSettled&&k(le,"allSettled",function(){var s=pe.apply(null,arguments).map(sa);return new le(function(c){s.length===0&&c([]);var d=s.length,f=new Array(d);s.forEach(function(m,b){return le.resolve(m).then(function(v){return f[b]={status:"fulfilled",value:v}},function(v){return f[b]={status:"rejected",reason:v}}).then(function(){return--d||c(f)})})})}),dr.any&&typeof AggregateError<"u"&&k(le,"any",function(){var s=pe.apply(null,arguments).map(sa);return new le(function(c,d){s.length===0&&d(new AggregateError([]));var f=s.length,m=new Array(f);s.forEach(function(b,v){return le.resolve(b).then(function(w){return c(w)},function(w){m[v]=w,--f||d(new AggregateError(m))})})})}),dr.withResolvers&&(le.withResolvers=dr.withResolvers));var Xe={awaits:0,echoes:0,id:0},Od=0,ra=[],na=0,aa=0,Rd=0;function Kt(s,c,d,f){var m=ve,b=Object.create(m);return b.parent=m,b.ref=0,b.global=!1,b.id=++Rd,Bt.env,b.env=gs?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject}:{},c&&p(b,c),++m.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},f=mr(b,s,d,f),b.ref===0&&b.finalize(),f}function Lr(){return Xe.id||(Xe.id=++Od),++Xe.awaits,Xe.echoes+=pi,Xe.id}function Wt(){return!!Xe.awaits&&(--Xe.awaits==0&&(Xe.id=0),Xe.echoes=Xe.awaits*pi,!0)}function sa(s){return Xe.echoes&&s&&s.constructor===dr?(Lr(),s.then(function(c){return Wt(),c},function(c){return Wt(),ze(c)})):s}function Md(){var s=ra[ra.length-1];ra.pop(),Ut(s,!1)}function Ut(s,c){var d,f=ve;(c?!Xe.echoes||na++&&s===ve:!na||--na&&s===ve)||queueMicrotask(c?(function(m){++aa,Xe.echoes&&--Xe.echoes!=0||(Xe.echoes=Xe.awaits=Xe.id=0),ra.push(ve),Ut(m,!0)}).bind(null,s):Md),s!==ve&&(ve=s,f===Bt&&(Bt.env=bi()),gs&&(d=Bt.env.Promise,c=s.env,(f.global||s.global)&&(Object.defineProperty(i,"Promise",c.PromiseProp),d.all=c.all,d.race=c.race,d.resolve=c.resolve,d.reject=c.reject,c.allSettled&&(d.allSettled=c.allSettled),c.any&&(d.any=c.any))))}function bi(){var s=i.Promise;return gs?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function mr(s,c,d,f,m){var b=ve;try{return Ut(s,!0),c(d,f,m)}finally{Ut(b,!1)}}function xi(s,c,d,f){return typeof s!="function"?s:function(){var m=ve;d&&Lr(),Ut(c,!0);try{return s.apply(this,arguments)}finally{Ut(m,!1),f&&queueMicrotask(Wt)}}}function js(s){Promise===dr&&Xe.echoes===0?na===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+gt).indexOf("[native code]")===-1&&(Lr=Wt=Le);var ze=le.reject,pr="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vi="String expected.",qr=[],oa="__dbnames",Ns="readonly",Ss="readwrite";function gr(s,c){return s?c?function(){return s.apply(this,arguments)&&c.apply(this,arguments)}:s:c}var wi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ia(s){return typeof s!="string"||/\./.test(s)?function(c){return c}:function(c){return c[s]===void 0&&s in c&&delete(c=Ae(c))[s],c}}function ki(){throw fe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Oe(s,c){try{var d=ji(s),f=ji(c);if(d!==f)return d==="Array"?1:f==="Array"?-1:d==="binary"?1:f==="binary"?-1:d==="string"?1:f==="string"?-1:d==="Date"?1:f!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return c<s?1:s<c?-1:0;case"binary":return function(m,b){for(var v=m.length,w=b.length,_=v<w?v:w,C=0;C<_;++C)if(m[C]!==b[C])return m[C]<b[C]?-1:1;return v===w?0:v<w?-1:1}(Ni(s),Ni(c));case"Array":return function(m,b){for(var v=m.length,w=b.length,_=v<w?v:w,C=0;C<_;++C){var R=Oe(m[C],b[C]);if(R!==0)return R}return v===w?0:v<w?-1:1}(s,c)}}catch{}return NaN}function ji(s){var c=typeof s;return c!="object"?c:ArrayBuffer.isView(s)?"binary":(s=F(s),s==="ArrayBuffer"?"binary":s)}function Ni(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function ca(s,c,d){var f=s.schema.yProps;return f?(c&&0<d.numFailures&&(c=c.filter(function(m,b){return!d.failures[b]})),Promise.all(f.map(function(m){return m=m.updatesTable,c?s.db.table(m).where("k").anyOf(c).delete():s.db.table(m).clear()})).then(function(){return d})):d}var yn=(Si.prototype.execute=function(s){var c=this["@@propmod"];if(c.add!==void 0){var d=c.add;if(u(d))return o(o([],u(s)?s:[],!0),d).sort();if(typeof d=="number")return(Number(s)||0)+d;if(typeof d=="bigint")try{return BigInt(s)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(c.remove!==void 0){var f=c.remove;if(u(f))return u(s)?s.filter(function(m){return!f.includes(m)}).sort():[];if(typeof f=="number")return Number(s)-f;if(typeof f=="bigint")try{return BigInt(s)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return d=(d=c.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof s=="string"&&s.startsWith(d)?c.replacePrefix[1]+s.substring(d.length):s},Si);function Si(s){this["@@propmod"]=s}function _i(s,c){for(var d=l(c),f=d.length,m=!1,b=0;b<f;++b){var v=d[b],w=c[v],_=X(s,v);w instanceof yn?(J(s,v,w.execute(_)),m=!0):_!==w&&(J(s,v,w),m=!0)}return m}var Ci=(qe.prototype._trans=function(s,c,d){var f=this._tx||ve.trans,m=this.name,b=Nt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function v(C,R,S){if(!S.schema[m])throw new fe.NotFound("Table "+m+" not part of transaction");return c(S.idbtrans,S)}var w=Ir();try{var _=f&&f.db._novip===this.db._novip?f===ve.trans?f._promise(s,v,d):Kt(function(){return f._promise(s,v,d)},{trans:f,transless:ve.transless||ve}):function C(R,S,D,P){if(R.idbdb&&(R._state.openComplete||ve.letThrough||R._vip)){var T=R._createTransaction(S,D,R._dbSchema);try{T.create(),R._state.PR1398_maxLoop=3}catch(A){return A.name===De.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return C(R,S,D,P)})):ze(A)}return T._promise(S,function(A,M){return Kt(function(){return ve.trans=T,P(A,M,T)})}).then(function(A){if(S==="readwrite")try{T.idbtrans.commit()}catch{}return S==="readonly"?A:T._completion.then(function(){return A})})}if(R._state.openComplete)return ze(new fe.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return ze(new fe.DatabaseClosed);R.open().catch(Le)}return R._state.dbReadyPromise.then(function(){return C(R,S,D,P)})}(this.db,s,[this.name],v);return b&&(_._consoleTask=b,_=_.catch(function(C){return console.trace(C),ze(C)})),_}finally{w&&Fr()}},qe.prototype.get=function(s,c){var d=this;return s&&s.constructor===Object?this.where(s).first(c):s==null?ze(new fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return d.core.get({trans:f,key:s}).then(function(m){return d.hook.reading.fire(m)})}).then(c)},qe.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(u(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var c=l(s);if(c.length===1)return this.where(c[0]).equals(s[c[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&c.every(function(C){return 0<=w.keyPath.indexOf(C)})){for(var _=0;_<c.length;++_)if(c.indexOf(w.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(w,_){return w.keyPath.length-_.keyPath.length})[0];if(d&&this.db._maxKey!==pr){var b=d.keyPath.slice(0,c.length);return this.where(b).equals(b.map(function(_){return s[_]}))}!d&&Nt&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var f=this.schema.idxByName;function m(w,_){return Oe(w,_)===0}var v=c.reduce(function(S,_){var C=S[0],R=S[1],S=f[_],D=s[_];return[C||S,C||!S?gr(R,S&&S.multi?function(P){return P=X(P,_),u(P)&&P.some(function(T){return m(D,T)})}:function(P){return m(D,X(P,_))}):R]},[null,null]),b=v[0],v=v[1];return b?this.where(b.name).equals(s[b.keyPath]).filter(v):d?this.filter(v):this.where(c).equals("")},qe.prototype.filter=function(s){return this.toCollection().and(s)},qe.prototype.count=function(s){return this.toCollection().count(s)},qe.prototype.offset=function(s){return this.toCollection().offset(s)},qe.prototype.limit=function(s){return this.toCollection().limit(s)},qe.prototype.each=function(s){return this.toCollection().each(s)},qe.prototype.toArray=function(s){return this.toCollection().toArray(s)},qe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qe.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,u(s)?"[".concat(s.join("+"),"]"):s))},qe.prototype.reverse=function(){return this.toCollection().reverse()},qe.prototype.mapToClass=function(s){var c,d=this.db,f=this.name;function m(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof ki&&(function(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function R(){this.constructor=_}r(_,C),_.prototype=C===null?Object.create(C):(R.prototype=C.prototype,new R)}(m,c=s),Object.defineProperty(m.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),m.prototype.table=function(){return f},s=m);for(var b=new Set,v=s.prototype;v;v=h(v))Object.getOwnPropertyNames(v).forEach(function(_){return b.add(_)});function w(_){if(!_)return _;var C,R=Object.create(s.prototype);for(C in _)if(!b.has(C))try{R[C]=_[C]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},qe.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},qe.prototype.add=function(s,c){var d=this,f=this.schema.primKey,m=f.auto,b=f.keyPath,v=s;return b&&m&&(v=ia(b)(s)),this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"add",keys:c!=null?[c]:null,values:[v]})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{J(s,b,w)}catch{}return w})},qe.prototype.upsert=function(s,c){var d=this,f=this.schema.primKey.keyPath;return this._trans("readwrite",function(m){return d.core.get({trans:m,key:s}).then(function(b){var v=b??{};return _i(v,c),f&&J(v,f,s),d.core.mutate({trans:m,type:"put",values:[v],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[c]}}).then(function(w){return w.numFailures?le.reject(w.failures[0]):!!b})})})},qe.prototype.update=function(s,c){return typeof s!="object"||u(s)?this.where(":id").equals(s).modify(c):(s=X(s,this.schema.primKey.keyPath),s===void 0?ze(new fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(c))},qe.prototype.put=function(s,c){var d=this,f=this.schema.primKey,m=f.auto,b=f.keyPath,v=s;return b&&m&&(v=ia(b)(s)),this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"put",values:[v],keys:c!=null?[c]:null})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(b)try{J(s,b,w)}catch{}return w})},qe.prototype.delete=function(s){var c=this;return this._trans("readwrite",function(d){return c.core.mutate({trans:d,type:"delete",keys:[s]}).then(function(f){return ca(c,[s],f)}).then(function(f){return f.numFailures?le.reject(f.failures[0]):void 0})})},qe.prototype.clear=function(){var s=this;return this._trans("readwrite",function(c){return s.core.mutate({trans:c,type:"deleteRange",range:wi}).then(function(d){return ca(s,null,d)})}).then(function(c){return c.numFailures?le.reject(c.failures[0]):void 0})},qe.prototype.bulkGet=function(s){var c=this;return this._trans("readonly",function(d){return c.core.getMany({keys:s,trans:d}).then(function(f){return f.map(function(m){return c.hook.reading.fire(m)})})})},qe.prototype.bulkAdd=function(s,c,d){var f=this,m=Array.isArray(c)?c:void 0,b=(d=d||(m?void 0:c))?d.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,w=C.auto,C=C.keyPath;if(C&&m)throw new fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==s.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var _=s.length,C=C&&w?s.map(ia(C)):s;return f.core.mutate({trans:v,type:"add",keys:m,values:C,wantResults:b}).then(function(T){var S=T.numFailures,D=T.results,P=T.lastResult,T=T.failures;if(S===0)return b?D:P;throw new Z("".concat(f.name,".bulkAdd(): ").concat(S," of ").concat(_," operations failed"),T)})})},qe.prototype.bulkPut=function(s,c,d){var f=this,m=Array.isArray(c)?c:void 0,b=(d=d||(m?void 0:c))?d.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,w=C.auto,C=C.keyPath;if(C&&m)throw new fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==s.length)throw new fe.InvalidArgument("Arguments objects and keys must have the same length");var _=s.length,C=C&&w?s.map(ia(C)):s;return f.core.mutate({trans:v,type:"put",keys:m,values:C,wantResults:b}).then(function(T){var S=T.numFailures,D=T.results,P=T.lastResult,T=T.failures;if(S===0)return b?D:P;throw new Z("".concat(f.name,".bulkPut(): ").concat(S," of ").concat(_," operations failed"),T)})})},qe.prototype.bulkUpdate=function(s){var c=this,d=this.core,f=s.map(function(v){return v.key}),m=s.map(function(v){return v.changes}),b=[];return this._trans("readwrite",function(v){return d.getMany({trans:v,keys:f,cache:"clone"}).then(function(w){var _=[],C=[];s.forEach(function(S,D){var P=S.key,T=S.changes,A=w[D];if(A){for(var M=0,I=Object.keys(T);M<I.length;M++){var L=I[M],K=T[L];if(L===c.schema.primKey.keyPath){if(Oe(K,P)!==0)throw new fe.Constraint("Cannot update primary key in bulkUpdate()")}else J(A,L,K)}b.push(D),_.push(P),C.push(A)}});var R=_.length;return d.mutate({trans:v,type:"put",keys:_,values:C,updates:{keys:f,changeSpecs:m}}).then(function(S){var D=S.numFailures,P=S.failures;if(D===0)return R;for(var T=0,A=Object.keys(P);T<A.length;T++){var M,I=A[T],L=b[Number(I)];L!=null&&(M=P[I],delete P[I],P[L]=M)}throw new Z("".concat(c.name,".bulkUpdate(): ").concat(D," of ").concat(R," operations failed"),P)})})})},qe.prototype.bulkDelete=function(s){var c=this,d=s.length;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"delete",keys:s}).then(function(m){return ca(c,s,m)})}).then(function(v){var m=v.numFailures,b=v.lastResult,v=v.failures;if(m===0)return b;throw new Z("".concat(c.name,".bulkDelete(): ").concat(m," of ").concat(d," operations failed"),v)})},qe);function qe(){}function bn(s){function c(v,w){if(w){for(var _=arguments.length,C=new Array(_-1);--_;)C[_-1]=arguments[_];return d[v].subscribe.apply(null,C),s}if(typeof v=="string")return d[v]}var d={};c.addEventType=b;for(var f=1,m=arguments.length;f<m;++f)b(arguments[f]);return c;function b(v,w,_){if(typeof v!="object"){var C;w=w||Pd;var R={subscribers:[],fire:_=_||Le,subscribe:function(S){R.subscribers.indexOf(S)===-1&&(R.subscribers.push(S),R.fire=w(R.fire,S))},unsubscribe:function(S){R.subscribers=R.subscribers.filter(function(D){return D!==S}),R.fire=R.subscribers.reduce(w,_)}};return d[v]=c[v]=R}l(C=v).forEach(function(S){var D=C[S];if(u(D))b(S,C[S][0],C[S][1]);else{if(D!=="asap")throw new fe.InvalidArgument("Invalid event config");var P=b(S,fn,function(){for(var T=arguments.length,A=new Array(T);T--;)A[T]=arguments[T];P.subscribers.forEach(function(M){ee(function(){M.apply(null,A)})})})}})}}function xn(s,c){return j(c).from({prototype:s}),c}function $r(s,c){return!(s.filter||s.algorithm||s.or)&&(c?s.justLimit:!s.replayFilter)}function _s(s,c){s.filter=gr(s.filter,c)}function Cs(s,c,d){var f=s.replayFilter;s.replayFilter=f?function(){return gr(f(),c())}:c,s.justLimit=d&&!f}function la(s,c){if(s.isPrimKey)return c.primaryKey;var d=c.getIndexByKeyPath(s.index);if(!d)throw new fe.Schema("KeyPath "+s.index+" on object store "+c.name+" is not indexed");return d}function Ei(s,c,d){var f=la(s,c.schema);return c.openCursor({trans:d,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:f,range:s.range}})}function ua(s,c,d,f){var m=s.replayFilter?gr(s.filter,s.replayFilter()):s.filter;if(s.or){var b={},v=function(w,_,C){var R,S;m&&!m(_,C,function(D){return _.stop(D)},function(D){return _.fail(D)})||((S=""+(R=_.primaryKey))=="[object ArrayBuffer]"&&(S=""+new Uint8Array(R)),x(b,S)||(b[S]=!0,c(w,_,C)))};return Promise.all([s.or._iterate(v,d),Pi(Ei(s,f,d),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}return Pi(Ei(s,f,d),gr(s.algorithm,m),c,!s.keysOnly&&s.valueMapper)}function Pi(s,c,d,f){var m=Be(f?function(b,v,w){return d(f(b),v,w)}:d);return s.then(function(b){if(b)return b.start(function(){var v=function(){return b.continue()};c&&!c(b,function(w){return v=w},function(w){b.stop(w),v=Le},function(w){b.fail(w),v=Le})||m(b.value,b,function(w){return v=w}),v()})})}var Dd=(Ie.prototype._read=function(s,c){var d=this._ctx;return d.error?d.table._trans(null,ze.bind(null,d.error)):d.table._trans("readonly",s).then(c)},Ie.prototype._write=function(s){var c=this._ctx;return c.error?c.table._trans(null,ze.bind(null,c.error)):c.table._trans("readwrite",s,"locked")},Ie.prototype._addAlgorithm=function(s){var c=this._ctx;c.algorithm=gr(c.algorithm,s)},Ie.prototype._iterate=function(s,c){return ua(this._ctx,s,c,this._ctx.table.core)},Ie.prototype.clone=function(s){var c=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return s&&p(d,s),c._ctx=d,c},Ie.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ie.prototype.each=function(s){var c=this._ctx;return this._read(function(d){return ua(c,s,d,c.table.core)})},Ie.prototype.count=function(s){var c=this;return this._read(function(d){var f=c._ctx,m=f.table.core;if($r(f,!0))return m.count({trans:d,query:{index:la(f,m.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var b=0;return ua(f,function(){return++b,!1},d,m).then(function(){return b})}).then(s)},Ie.prototype.sortBy=function(s,c){var d=s.split(".").reverse(),f=d[0],m=d.length-1;function b(_,C){return C?b(_[d[C]],C-1):_[f]}var v=this._ctx.dir==="next"?1:-1;function w(_,C){return Oe(b(_,m),b(C,m))*v}return this.toArray(function(_){return _.sort(w)}).then(c)},Ie.prototype.toArray=function(s){var c=this;return this._read(function(d){var f=c._ctx;if(f.dir==="next"&&$r(f,!0)&&0<f.limit){var m=f.valueMapper,b=la(f,f.table.core.schema);return f.table.core.query({trans:d,limit:f.limit,values:!0,query:{index:b,range:f.range}}).then(function(w){return w=w.result,m?w.map(m):w})}var v=[];return ua(f,function(w){return v.push(w)},d,f.table.core).then(function(){return v})},s)},Ie.prototype.offset=function(s){var c=this._ctx;return s<=0||(c.offset+=s,$r(c)?Cs(c,function(){var d=s;return function(f,m){return d===0||(d===1?--d:m(function(){f.advance(d),d=0}),!1)}}):Cs(c,function(){var d=s;return function(){return--d<0}})),this},Ie.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),Cs(this._ctx,function(){var c=s;return function(d,f,m){return--c<=0&&f(m),0<=c}},!0),this},Ie.prototype.until=function(s,c){return _s(this._ctx,function(d,f,m){return!s(d.value)||(f(m),c)}),this},Ie.prototype.first=function(s){return this.limit(1).toArray(function(c){return c[0]}).then(s)},Ie.prototype.last=function(s){return this.reverse().first(s)},Ie.prototype.filter=function(s){var c;return _s(this._ctx,function(d){return s(d.value)}),(c=this._ctx).isMatch=gr(c.isMatch,s),this},Ie.prototype.and=function(s){return this.filter(s)},Ie.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},Ie.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ie.prototype.desc=function(){return this.reverse()},Ie.prototype.eachKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(d,f){s(f.key,f)})},Ie.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},Ie.prototype.eachPrimaryKey=function(s){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(d,f){s(f.primaryKey,f)})},Ie.prototype.keys=function(s){var c=this._ctx;c.keysOnly=!c.isMatch;var d=[];return this.each(function(f,m){d.push(m.key)}).then(function(){return d}).then(s)},Ie.prototype.primaryKeys=function(s){var c=this._ctx;if(c.dir==="next"&&$r(c,!0)&&0<c.limit)return this._read(function(f){var m=la(c,c.table.core.schema);return c.table.core.query({trans:f,values:!1,limit:c.limit,query:{index:m,range:c.range}})}).then(function(f){return f.result}).then(s);c.keysOnly=!c.isMatch;var d=[];return this.each(function(f,m){d.push(m.primaryKey)}).then(function(){return d}).then(s)},Ie.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},Ie.prototype.firstKey=function(s){return this.limit(1).keys(function(c){return c[0]}).then(s)},Ie.prototype.lastKey=function(s){return this.reverse().firstKey(s)},Ie.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var c={};return _s(this._ctx,function(m){var f=m.primaryKey.toString(),m=x(c,f);return c[f]=!0,!m}),this},Ie.prototype.modify=function(s){var c=this,d=this._ctx;return this._write(function(f){var m=typeof s=="function"?s:function(A){return _i(A,s)},b=d.table.core,C=b.schema.primaryKey,v=C.outbound,w=C.extractKey,_=200,C=c.db._options.modifyChunkSize;C&&(_=typeof C=="object"?C[b.name]||C["*"]||200:C);function R(A,L){var I=L.failures,L=L.numFailures;D+=A-L;for(var K=0,V=l(I);K<V.length;K++){var ne=V[K];S.push(I[ne])}}var S=[],D=0,P=[],T=s===Ti;return c.clone().primaryKeys().then(function(A){function M(L){var K=Math.min(_,A.length-L),V=A.slice(L,L+K);return(T?Promise.resolve([]):b.getMany({trans:f,keys:V,cache:"immutable"})).then(function(ne){var oe=[],te=[],ae=v?[]:null,ie=T?V:[];if(!T)for(var se=0;se<K;++se){var me=ne[se],Ne={value:Ae(me),primKey:A[L+se]};m.call(Ne,Ne.value,Ne)!==!1&&(Ne.value==null?ie.push(A[L+se]):v||Oe(w(me),w(Ne.value))===0?(te.push(Ne.value),v&&ae.push(A[L+se])):(ie.push(A[L+se]),oe.push(Ne.value)))}return Promise.resolve(0<oe.length&&b.mutate({trans:f,type:"add",values:oe}).then(function(Pe){for(var Te in Pe.failures)ie.splice(parseInt(Te),1);R(oe.length,Pe)})).then(function(){return(0<te.length||I&&typeof s=="object")&&b.mutate({trans:f,type:"put",keys:ae,values:te,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<L}).then(function(Pe){return R(te.length,Pe)})}).then(function(){return(0<ie.length||I&&T)&&b.mutate({trans:f,type:"delete",keys:ie,criteria:I,isAdditionalChunk:0<L}).then(function(Pe){return ca(d.table,ie,Pe)}).then(function(Pe){return R(ie.length,Pe)})}).then(function(){return A.length>L+K&&M(L+_)})})}var I=$r(d)&&d.limit===1/0&&(typeof s!="function"||T)&&{index:d.index,range:d.range};return M(0).then(function(){if(0<S.length)throw new ye("Error modifying one or more objects",S,D,P);return A.length})})})},Ie.prototype.delete=function(){var s=this._ctx,c=s.range;return!$r(s)||s.table.schema.yProps||!s.isPrimKey&&c.type!==3?this.modify(Ti):this._write(function(d){var f=s.table.core.schema.primaryKey,m=c;return s.table.core.count({trans:d,query:{index:f,range:m}}).then(function(b){return s.table.core.mutate({trans:d,type:"deleteRange",range:m}).then(function(_){var w=_.failures,_=_.numFailures;if(_)throw new ye("Could not delete some values",Object.keys(w).map(function(C){return w[C]}),b-_);return b-_})})})},Ie);function Ie(){}var Ti=function(s,c){return c.value=null};function Id(s,c){return s<c?-1:s===c?0:1}function Fd(s,c){return c<s?-1:s===c?0:1}function ut(s,c,d){return s=s instanceof Oi?new s.Collection(s):s,s._ctx.error=new(d||TypeError)(c),s}function Br(s){return new s.Collection(s,function(){return Ai("")}).limit(0)}function da(s,c,d,f){var m,b,v,w,_,C,R,S=d.length;if(!d.every(function(T){return typeof T=="string"}))return ut(s,vi);function D(T){m=T==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},b=T==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},v=T==="next"?Id:Fd;var A=d.map(function(M){return{lower:b(M),upper:m(M)}}).sort(function(M,I){return v(M.lower,I.lower)});w=A.map(function(M){return M.upper}),_=A.map(function(M){return M.lower}),R=(C=T)==="next"?"":f}D("next"),s=new s.Collection(s,function(){return zt(w[0],_[S-1]+f)}),s._ondirectionchange=function(T){D(T)};var P=0;return s._addAlgorithm(function(T,A,M){var I=T.key;if(typeof I!="string")return!1;var L=b(I);if(c(L,_,P))return!0;for(var K=null,V=P;V<S;++V){var ne=function(oe,te,ae,ie,se,me){for(var Ne=Math.min(oe.length,ie.length),Pe=-1,Te=0;Te<Ne;++Te){var dt=te[Te];if(dt!==ie[Te])return se(oe[Te],ae[Te])<0?oe.substr(0,Te)+ae[Te]+ae.substr(Te+1):se(oe[Te],ie[Te])<0?oe.substr(0,Te)+ie[Te]+ae.substr(Te+1):0<=Pe?oe.substr(0,Pe)+te[Pe]+ae.substr(Pe+1):null;se(oe[Te],dt)<0&&(Pe=Te)}return Ne<ie.length&&me==="next"?oe+ae.substr(oe.length):Ne<oe.length&&me==="prev"?oe.substr(0,ae.length):Pe<0?null:oe.substr(0,Pe)+ie[Pe]+ae.substr(Pe+1)}(I,L,w[V],_[V],v,C);ne===null&&K===null?P=V+1:(K===null||0<v(K,ne))&&(K=ne)}return A(K!==null?function(){T.continue(K+R)}:M),!1}),s}function zt(s,c,d,f){return{type:2,lower:s,upper:c,lowerOpen:d,upperOpen:f}}function Ai(s){return{type:1,lower:s,upper:s}}var Oi=(Object.defineProperty(Qe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qe.prototype.between=function(s,c,d,f){d=d!==!1,f=f===!0;try{return 0<this._cmp(s,c)||this._cmp(s,c)===0&&(d||f)&&(!d||!f)?Br(this):new this.Collection(this,function(){return zt(s,c,!d,!f)})}catch{return ut(this,At)}},Qe.prototype.equals=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return Ai(s)})},Qe.prototype.above=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return zt(s,void 0,!0)})},Qe.prototype.aboveOrEqual=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return zt(s,void 0,!1)})},Qe.prototype.below=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return zt(void 0,s,!1,!0)})},Qe.prototype.belowOrEqual=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return zt(void 0,s)})},Qe.prototype.startsWith=function(s){return typeof s!="string"?ut(this,vi):this.between(s,s+pr,!0,!0)},Qe.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):da(this,function(c,d){return c.indexOf(d[0])===0},[s],pr)},Qe.prototype.equalsIgnoreCase=function(s){return da(this,function(c,d){return c===d[0]},[s],"")},Qe.prototype.anyOfIgnoreCase=function(){var s=pe.apply(ce,arguments);return s.length===0?Br(this):da(this,function(c,d){return d.indexOf(c)!==-1},s,"")},Qe.prototype.startsWithAnyOfIgnoreCase=function(){var s=pe.apply(ce,arguments);return s.length===0?Br(this):da(this,function(c,d){return d.some(function(f){return c.indexOf(f)===0})},s,pr)},Qe.prototype.anyOf=function(){var s=this,c=pe.apply(ce,arguments),d=this._cmp;try{c.sort(d)}catch{return ut(this,At)}if(c.length===0)return Br(this);var f=new this.Collection(this,function(){return zt(c[0],c[c.length-1])});f._ondirectionchange=function(b){d=b==="next"?s._ascending:s._descending,c.sort(d)};var m=0;return f._addAlgorithm(function(b,v,w){for(var _=b.key;0<d(_,c[m]);)if(++m===c.length)return v(w),!1;return d(_,c[m])===0||(v(function(){b.continue(c[m])}),!1)}),f},Qe.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qe.prototype.noneOf=function(){var s=pe.apply(ce,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return ut(this,At)}var c=s.reduce(function(d,f){return d?d.concat([[d[d.length-1][1],f]]):[[-1/0,f]]},null);return c.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},Qe.prototype.inAnyRange=function(I,c){var d=this,f=this._cmp,m=this._ascending,b=this._descending,v=this._min,w=this._max;if(I.length===0)return Br(this);if(!I.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&m(L[0],L[1])<=0}))return ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",fe.InvalidArgument);var _=!c||c.includeLowers!==!1,C=c&&c.includeUppers===!0,R,S=m;function D(L,K){return S(L[0],K[0])}try{(R=I.reduce(function(L,K){for(var V=0,ne=L.length;V<ne;++V){var oe=L[V];if(f(K[0],oe[1])<0&&0<f(K[1],oe[0])){oe[0]=v(oe[0],K[0]),oe[1]=w(oe[1],K[1]);break}}return V===ne&&L.push(K),L},[])).sort(D)}catch{return ut(this,At)}var P=0,T=C?function(L){return 0<m(L,R[P][1])}:function(L){return 0<=m(L,R[P][1])},A=_?function(L){return 0<b(L,R[P][0])}:function(L){return 0<=b(L,R[P][0])},M=T,I=new this.Collection(this,function(){return zt(R[0][0],R[R.length-1][1],!_,!C)});return I._ondirectionchange=function(L){S=L==="next"?(M=T,m):(M=A,b),R.sort(D)},I._addAlgorithm(function(L,K,V){for(var ne,oe=L.key;M(oe);)if(++P===R.length)return K(V),!1;return!T(ne=oe)&&!A(ne)||(d._cmp(oe,R[P][1])===0||d._cmp(oe,R[P][0])===0||K(function(){S===m?L.continue(R[P][0]):L.continue(R[P][1])}),!1)}),I},Qe.prototype.startsWithAnyOf=function(){var s=pe.apply(ce,arguments);return s.every(function(c){return typeof c=="string"})?s.length===0?Br(this):this.inAnyRange(s.map(function(c){return[c,c+pr]})):ut(this,"startsWithAnyOf() only works with strings")},Qe);function Qe(){}function St(s){return Be(function(c){return vn(c),s(c.target.error),!1})}function vn(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var wn="storagemutated",Es="x-storagemutated-1",Ht=bn(null,wn),Ld=(_t.prototype._lock=function(){return q(!ve.global),++this._reculock,this._reculock!==1||ve.global||(ve.lockOwnerFor=this),this},_t.prototype._unlock=function(){if(q(!ve.global),--this._reculock==0)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{mr(s[1],s[0])}catch{}}return this},_t.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},_t.prototype.create=function(s){var c=this;if(!this.mode)return this;var d=this.db.idbdb,f=this.db._state.dbOpenError;if(q(!this.idbtrans),!s&&!d)switch(f&&f.name){case"DatabaseClosedError":throw new fe.DatabaseClosed(f);case"MissingAPIError":throw new fe.MissingAPI(f.message,f);default:throw new fe.OpenFailed(f)}if(!this.active)throw new fe.TransactionInactive;return q(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(m){vn(m),c._reject(s.error)}),s.onabort=Be(function(m){vn(m),c.active&&c._reject(new fe.Abort(s.error)),c.active=!1,c.on("abort").fire(m)}),s.oncomplete=Be(function(){c.active=!1,c._resolve(),"mutatedParts"in s&&Ht.storagemutated.fire(s.mutatedParts)}),this},_t.prototype._promise=function(s,c,d){var f=this;if(s==="readwrite"&&this.mode!=="readwrite")return ze(new fe.ReadOnly("Transaction is readonly"));if(!this.active)return ze(new fe.TransactionInactive);if(this._locked())return new le(function(b,v){f._blockedFuncs.push([function(){f._promise(s,c,d).then(b,v)},ve])});if(d)return Kt(function(){var b=new le(function(v,w){f._lock();var _=c(v,w,f);_&&_.then&&_.then(v,w)});return b.finally(function(){return f._unlock()}),b._lib=!0,b});var m=new le(function(b,v){var w=c(b,v,f);w&&w.then&&w.then(b,v)});return m._lib=!0,m},_t.prototype._root=function(){return this.parent?this.parent._root():this},_t.prototype.waitFor=function(s){var c,d=this._root(),f=le.resolve(s);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return f}):(d._waitingFor=f,d._waitingQueue=[],c=d.idbtrans.objectStore(d.storeNames[0]),function b(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(c.get(-1/0).onsuccess=b)}());var m=d._waitingFor;return new le(function(b,v){f.then(function(w){return d._waitingQueue.push(Be(b.bind(null,w)))},function(w){return d._waitingQueue.push(Be(v.bind(null,w)))}).finally(function(){d._waitingFor===m&&(d._waitingFor=null)})})},_t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new fe.Abort))},_t.prototype.table=function(s){var c=this._memoizedTables||(this._memoizedTables={});if(x(c,s))return c[s];var d=this.schema[s];if(!d)throw new fe.NotFound("Table "+s+" not part of transaction");return d=new this.db.Table(s,d,this),d.core=this.db.core.table(s),c[s]=d},_t);function _t(){}function Ps(s,c,d,f,m,b,v,w){return{name:s,keyPath:c,unique:d,multi:f,auto:m,compound:b,src:(d&&!v?"&":"")+(f?"*":"")+(m?"++":"")+Ri(c),type:w}}function Ri(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function Ts(s,c,d){return{name:s,primKey:c,indexes:d,mappedClass:null,idxByName:(f=function(m){return[m.name,m]},d.reduce(function(m,b,v){return v=f(b,v),v&&(m[v[0]]=v[1]),m},{}))};var f}var kn=function(s){try{return s.only([[]]),kn=function(){return[[]]},[[]]}catch{return kn=function(){return pr},pr}};function As(s){return s==null?function(){}:typeof s=="string"?(c=s).split(".").length===1?function(d){return d[c]}:function(d){return X(d,c)}:function(d){return X(d,s)};var c}function Mi(s){return[].slice.call(s)}var qd=0;function jn(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function $d(s,c,_){function f(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=M.lower,T=M.upper,A=M.lowerOpen,M=M.upperOpen;return P===void 0?T===void 0?null:c.upperBound(T,!!M):T===void 0?c.lowerBound(P,!!A):c.bound(P,T,!!A,!!M)}function m(D){var P,T=D.name;return{name:T,schema:D,mutate:function(A){var M=A.trans,I=A.type,L=A.keys,K=A.values,V=A.range;return new Promise(function(ne,oe){ne=Be(ne);var te=M.objectStore(T),ae=te.keyPath==null,ie=I==="put"||I==="add";if(!ie&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var se,me=(L||K||{length:1}).length;if(L&&K&&L.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return ne({numFailures:0,failures:{},results:[],lastResult:void 0});function Ne(st){++dt,vn(st)}var Pe=[],Te=[],dt=0;if(I==="deleteRange"){if(V.type===4)return ne({numFailures:dt,failures:Te,results:[],lastResult:void 0});V.type===3?Pe.push(se=te.clear()):Pe.push(se=te.delete(f(V)))}else{var ae=ie?ae?[K,L]:[K,null]:[L,null],ke=ae[0],tt=ae[1];if(ie)for(var rt=0;rt<me;++rt)Pe.push(se=tt&&tt[rt]!==void 0?te[I](ke[rt],tt[rt]):te[I](ke[rt])),se.onerror=Ne;else for(rt=0;rt<me;++rt)Pe.push(se=te[I](ke[rt])),se.onerror=Ne}function ja(st){st=st.target.result,Pe.forEach(function(xr,Gs){return xr.error!=null&&(Te[Gs]=xr.error)}),ne({numFailures:dt,failures:Te,results:I==="delete"?L:Pe.map(function(xr){return xr.result}),lastResult:st})}se.onerror=function(st){Ne(st),ja(st)},se.onsuccess=ja})},getMany:function(A){var M=A.trans,I=A.keys;return new Promise(function(L,K){L=Be(L);for(var V,ne=M.objectStore(T),oe=I.length,te=new Array(oe),ae=0,ie=0,se=function(Pe){Pe=Pe.target,te[Pe._pos]=Pe.result,++ie===ae&&L(te)},me=St(K),Ne=0;Ne<oe;++Ne)I[Ne]!=null&&((V=ne.get(I[Ne]))._pos=Ne,V.onsuccess=se,V.onerror=me,++ae);ae===0&&L(te)})},get:function(A){var M=A.trans,I=A.key;return new Promise(function(L,K){L=Be(L);var V=M.objectStore(T).get(I);V.onsuccess=function(ne){return L(ne.target.result)},V.onerror=St(K)})},query:(P=C,function(A){return new Promise(function(M,I){M=Be(M);var L,K,V,ae=A.trans,ne=A.values,oe=A.limit,se=A.query,te=oe===1/0?void 0:oe,ie=se.index,se=se.range,ae=ae.objectStore(T),ie=ie.isPrimaryKey?ae:ae.index(ie.name),se=f(se);if(oe===0)return M({result:[]});P?((te=ne?ie.getAll(se,te):ie.getAllKeys(se,te)).onsuccess=function(me){return M({result:me.target.result})},te.onerror=St(I)):(L=0,K=!ne&&"openKeyCursor"in ie?ie.openKeyCursor(se):ie.openCursor(se),V=[],K.onsuccess=function(me){var Ne=K.result;return Ne?(V.push(ne?Ne.value:Ne.primaryKey),++L===oe?M({result:V}):void Ne.continue()):M({result:V})},K.onerror=St(I))})}),openCursor:function(A){var M=A.trans,I=A.values,L=A.query,K=A.reverse,V=A.unique;return new Promise(function(ne,oe){ne=Be(ne);var ie=L.index,te=L.range,ae=M.objectStore(T),ae=ie.isPrimaryKey?ae:ae.index(ie.name),ie=K?V?"prevunique":"prev":V?"nextunique":"next",se=!I&&"openKeyCursor"in ae?ae.openKeyCursor(f(te),ie):ae.openCursor(f(te),ie);se.onerror=St(oe),se.onsuccess=Be(function(me){var Ne,Pe,Te,dt,ke=se.result;ke?(ke.___id=++qd,ke.done=!1,Ne=ke.continue.bind(ke),Pe=(Pe=ke.continuePrimaryKey)&&Pe.bind(ke),Te=ke.advance.bind(ke),dt=function(){throw new Error("Cursor not stopped")},ke.trans=M,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=function(){throw new Error("Cursor not started")},ke.fail=Be(oe),ke.next=function(){var tt=this,rt=1;return this.start(function(){return rt--?tt.continue():tt.stop()}).then(function(){return tt})},ke.start=function(tt){function rt(){if(se.result)try{tt()}catch(st){ke.fail(st)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()}var ja=new Promise(function(st,xr){st=Be(st),se.onerror=St(xr),ke.fail=xr,ke.stop=function(Gs){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=dt,st(Gs)}});return se.onsuccess=Be(function(st){se.onsuccess=rt,rt()}),ke.continue=Ne,ke.continuePrimaryKey=Pe,ke.advance=Te,rt(),ja},ne(ke)):ne(null)},oe)})},count:function(A){var M=A.query,I=A.trans,L=M.index,K=M.range;return new Promise(function(V,ne){var oe=I.objectStore(T),te=L.isPrimaryKey?oe:oe.index(L.name),oe=f(K),te=oe?te.count(oe):te.count();te.onsuccess=Be(function(ae){return V(ae.target.result)}),te.onerror=St(ne)})}}}var b,v,w,R=(v=_,w=Mi((b=s).objectStoreNames),{schema:{name:b.name,tables:w.map(function(D){return v.objectStore(D)}).map(function(D){var P=D.keyPath,M=D.autoIncrement,T=u(P),A={},M={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:P==null,compound:T,keyPath:P,autoIncrement:M,unique:!0,extractKey:As(P)},indexes:Mi(D.indexNames).map(function(I){return D.index(I)}).map(function(V){var L=V.name,K=V.unique,ne=V.multiEntry,V=V.keyPath,ne={name:L,compound:u(V),keyPath:V,unique:K,multiEntry:ne,extractKey:As(V)};return A[jn(V)]=ne}),getIndexByKeyPath:function(I){return A[jn(I)]}};return A[":id"]=M.primaryKey,P!=null&&(A[jn(P)]=M.primaryKey),M})},hasGetAll:0<w.length&&"getAll"in v.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=R.schema,C=R.hasGetAll,R=_.tables.map(m),S={};return R.forEach(function(D){return S[D.name]=D}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(D){if(!S[D])throw new Error("Table '".concat(D,"' not found"));return S[D]},MIN_KEY:-1/0,MAX_KEY:kn(c),schema:_}}function Bd(s,c,d,f){var m=d.IDBKeyRange;return d.indexedDB,{dbcore:(f=$d(c,m,f),s.dbcore.reduce(function(b,v){return v=v.create,n(n({},b),v(b))},f))}}function fa(s,f){var d=f.db,f=Bd(s._middlewares,d,s._deps,f);s.core=f.dbcore,s.tables.forEach(function(m){var b=m.name;s.core.schema.tables.some(function(v){return v.name===b})&&(m.core=s.core.table(b),s[b]instanceof s.Table&&(s[b].core=m.core))})}function ha(s,c,d,f){d.forEach(function(m){var b=f[m];c.forEach(function(v){var w=function _(C,R){return O(C,R)||(C=h(C))&&_(C,R)}(v,m);(!w||"value"in w&&w.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?k(v,m,{get:function(){return this.table(m)},set:function(_){E(this,m,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[m]=new s.Table(m,b))})})}function Os(s,c){c.forEach(function(d){for(var f in d)d[f]instanceof s.Table&&delete d[f]})}function Kd(s,c){return s._cfg.version-c._cfg.version}function Wd(s,c,d,f){var m=s._dbSchema;d.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Ts("$meta",Ii("")[0],[]),s._storeNames.push("$meta"));var b=s._createTransaction("readwrite",s._storeNames,m);b.create(d),b._completion.catch(f);var v=b._reject.bind(b),w=ve.transless||ve;Kt(function(){return ve.trans=b,ve.transless=w,c!==0?(fa(s,d),C=c,((_=b).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(R){return R??C}):le.resolve(C)).then(function(R){return D=R,P=b,T=d,A=[],R=(S=s)._versions,M=S._dbSchema=pa(0,S.idbdb,T),(R=R.filter(function(I){return I._cfg.version>=D})).length!==0?(R.forEach(function(I){A.push(function(){var L=M,K=I._cfg.dbschema;ga(S,L,T),ga(S,K,T),M=S._dbSchema=K;var V=Rs(L,K);V.add.forEach(function(ie){Ms(T,ie[0],ie[1].primKey,ie[1].indexes)}),V.change.forEach(function(ie){if(ie.recreate)throw new fe.Upgrade("Not yet support for changing primary key");var se=T.objectStore(ie.name);ie.add.forEach(function(me){return ma(se,me)}),ie.change.forEach(function(me){se.deleteIndex(me.name),ma(se,me)}),ie.del.forEach(function(me){return se.deleteIndex(me)})});var ne=I._cfg.contentUpgrade;if(ne&&I._cfg.version>D){fa(S,T),P._memoizedTables={};var oe=xe(K);V.del.forEach(function(ie){oe[ie]=L[ie]}),Os(S,[S.Transaction.prototype]),ha(S,[S.Transaction.prototype],l(oe),oe),P.schema=oe;var te,ae=Ee(ne);return ae&&Lr(),V=le.follow(function(){var ie;(te=ne(P))&&ae&&(ie=Wt.bind(null,null),te.then(ie,ie))}),te&&typeof te.then=="function"?le.resolve(te):V.then(function(){return te})}}),A.push(function(L){var K,V,ne=I._cfg.dbschema;K=ne,V=L,[].slice.call(V.db.objectStoreNames).forEach(function(oe){return K[oe]==null&&V.db.deleteObjectStore(oe)}),Os(S,[S.Transaction.prototype]),ha(S,[S.Transaction.prototype],S._storeNames,S._dbSchema),P.schema=S._dbSchema}),A.push(function(L){S.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(S.idbdb.version/10)===I._cfg.version?(S.idbdb.deleteObjectStore("$meta"),delete S._dbSchema.$meta,S._storeNames=S._storeNames.filter(function(K){return K!=="$meta"})):L.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return A.length?le.resolve(A.shift()(P.idbtrans)).then(I):le.resolve()}().then(function(){Di(M,T)})):le.resolve();var S,D,P,T,A,M}).catch(v)):(l(m).forEach(function(R){Ms(d,R,m[R].primKey,m[R].indexes)}),fa(s,d),void le.follow(function(){return s.on.populate.fire(b)}).catch(v));var _,C})}function Ud(s,c){Di(s._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var d=pa(0,s.idbdb,c);ga(s,s._dbSchema,c);for(var f=0,m=Rs(d,s._dbSchema).change;f<m.length;f++){var b=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=c.objectStore(v.name);v.add.forEach(function(_){Nt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(_.src)),ma(w,_)})}(m[f]);if(typeof b=="object")return b.value}}function Rs(s,c){var d,f={del:[],add:[],change:[]};for(d in s)c[d]||f.del.push(d);for(d in c){var m=s[d],b=c[d];if(m){var v={name:d,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||m.primKey.auto!==b.primKey.auto)v.recreate=!0,f.change.push(v);else{var w=m.idxByName,_=b.idxByName,C=void 0;for(C in w)_[C]||v.del.push(C);for(C in _){var R=w[C],S=_[C];R?R.src!==S.src&&v.change.push(S):v.add.push(S)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([d,b])}return f}function Ms(s,c,d,f){var m=s.db.createObjectStore(c,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return f.forEach(function(b){return ma(m,b)}),m}function Di(s,c){l(s).forEach(function(d){c.db.objectStoreNames.contains(d)||(Nt&&console.debug("Dexie: Creating missing table",d),Ms(c,d,s[d].primKey,s[d].indexes))})}function ma(s,c){s.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function pa(s,c,d){var f={};return U(c.objectStoreNames,0).forEach(function(m){for(var b=d.objectStore(m),v=Ps(Ri(C=b.keyPath),C||"",!0,!1,!!b.autoIncrement,C&&typeof C!="string",!0),w=[],_=0;_<b.indexNames.length;++_){var R=b.index(b.indexNames[_]),C=R.keyPath,R=Ps(R.name,C,!!R.unique,!!R.multiEntry,!1,C&&typeof C!="string",!1);w.push(R)}f[m]=Ts(m,v,w)}),f}function ga(s,c,d){for(var f=d.db.objectStoreNames,m=0;m<f.length;++m){var b=f[m],v=d.objectStore(b);s._hasGetAll="getAll"in v;for(var w=0;w<v.indexNames.length;++w){var _=v.indexNames[w],C=v.index(_).keyPath,R=typeof C=="string"?C:"["+U(C).join("+")+"]";!c[b]||(C=c[b].idxByName[R])&&(C.name=_,delete c[b].idxByName[R],c[b].idxByName[_]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ii(s){return s.split(",").map(function(c,d){var b=c.split(":"),f=(m=b[1])===null||m===void 0?void 0:m.trim(),m=(c=b[0].trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(m)?m.match(/^\[(.*)\]$/)[1].split("+"):m;return Ps(m,b||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),u(b),d===0,f)})}var zd=(Kr.prototype._createTableSchema=Ts,Kr.prototype._parseIndexSyntax=Ii,Kr.prototype._parseStoresSpec=function(s,c){var d=this;l(s).forEach(function(f){if(s[f]!==null){var m=d._parseIndexSyntax(s[f]),b=m.shift();if(!b)throw new fe.Schema("Invalid schema for table "+f+": "+s[f]);if(b.unique=!0,b.multi)throw new fe.Schema("Primary key cannot be multiEntry*");m.forEach(function(v){if(v.auto)throw new fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new fe.Schema("Index must have a name and cannot be an empty string")}),m=d._createTableSchema(f,b,m),c[f]=m}})},Kr.prototype.stores=function(d){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,d):d;var d=c._versions,f={},m={};return d.forEach(function(b){p(f,b._cfg.storesSource),m=b._cfg.dbschema={},b._parseStoresSpec(f,m)}),c._dbSchema=m,Os(c,[c._allTables,c,c.Transaction.prototype]),ha(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],l(m),m),c._storeNames=l(m),this},Kr.prototype.upgrade=function(s){return this._cfg.contentUpgrade=ps(this._cfg.contentUpgrade||Le,s),this},Kr);function Kr(){}function Ds(s,c){var d=s._dbNamesDB;return d||(d=s._dbNamesDB=new Ot(oa,{addons:[],indexedDB:s,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function Is(s){return s&&typeof s.databases=="function"}function Fs(s){return Kt(function(){return ve.letThrough=!0,s()})}function Ls(s){return!("from"in s)}var et=function(s,c){if(!this){var d=new et;return s&&"d"in s&&p(d,s),d}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?c:s}:{d:0})};function Nn(s,c,d){var f=Oe(c,d);if(!isNaN(f)){if(0<f)throw RangeError();if(Ls(s))return p(s,{from:c,to:d,d:1});var m=s.l,f=s.r;if(Oe(d,s.from)<0)return m?Nn(m,c,d):s.l={from:c,to:d,d:1,l:null,r:null},Li(s);if(0<Oe(c,s.to))return f?Nn(f,c,d):s.r={from:c,to:d,d:1,l:null,r:null},Li(s);Oe(c,s.from)<0&&(s.from=c,s.l=null,s.d=f?f.d+1:1),0<Oe(d,s.to)&&(s.to=d,s.r=null,s.d=s.l?s.l.d+1:1),d=!s.r,m&&!s.l&&Sn(s,m),f&&d&&Sn(s,f)}}function Sn(s,c){Ls(c)||function d(f,_){var b=_.from,v=_.to,w=_.l,_=_.r;Nn(f,b,v),w&&d(f,w),_&&d(f,_)}(s,c)}function Fi(s,c){var d=ya(c),f=d.next();if(f.done)return!1;for(var m=f.value,b=ya(s),v=b.next(m.from),w=v.value;!f.done&&!v.done;){if(Oe(w.from,m.to)<=0&&0<=Oe(w.to,m.from))return!0;Oe(m.from,w.from)<0?m=(f=d.next(w.from)).value:w=(v=b.next(m.from)).value}return!1}function ya(s){var c=Ls(s)?null:{s:0,n:s};return{next:function(d){for(var f=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,f)for(;c.n.l&&Oe(d,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!f||Oe(d,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Li(s){var c,d,f=(((c=s.r)===null||c===void 0?void 0:c.d)||0)-(((d=s.l)===null||d===void 0?void 0:d.d)||0),m=1<f?"r":f<-1?"l":"";m&&(c=m=="r"?"l":"r",d=n({},s),f=s[m],s.from=f.from,s.to=f.to,s[m]=f[m],d[m]=f[c],(s[c]=d).d=qi(d)),s.d=qi(s)}function qi(d){var c=d.r,d=d.l;return(c?d?Math.max(c.d,d.d):c.d:d?d.d:0)+1}function ba(s,c){return l(c).forEach(function(d){s[d]?Sn(s[d],c[d]):s[d]=function f(m){var b,v,w={};for(b in m)x(m,b)&&(v=m[b],w[b]=!v||typeof v!="object"||he.has(v.constructor)?v:f(v));return w}(c[d])}),s}function qs(s,c){return s.all||c.all||Object.keys(s).some(function(d){return c[d]&&Fi(c[d],s[d])})}N(et.prototype,((gt={add:function(s){return Sn(this,s),this},addKey:function(s){return Nn(this,s,s),this},addKeys:function(s){var c=this;return s.forEach(function(d){return Nn(c,d,d)}),this},hasKey:function(s){var c=ya(this).next(s).value;return c&&Oe(c.from,s)<=0&&0<=Oe(c.to,s)}})[z]=function(){return ya(this)},gt));var yr={},$s={},Bs=!1;function xa(s){ba($s,s),Bs||(Bs=!0,setTimeout(function(){Bs=!1,Ks($s,!($s={}))},0))}function Ks(s,c){c===void 0&&(c=!1);var d=new Set;if(s.all)for(var f=0,m=Object.values(yr);f<m.length;f++)$i(v=m[f],s,d,c);else for(var b in s){var v,w=/^idb\:\/\/(.*)\/(.*)\//.exec(b);w&&(b=w[1],w=w[2],(v=yr["idb://".concat(b,"/").concat(w)])&&$i(v,s,d,c))}d.forEach(function(_){return _()})}function $i(s,c,d,f){for(var m=[],b=0,v=Object.entries(s.queries.query);b<v.length;b++){for(var w=v[b],_=w[0],C=[],R=0,S=w[1];R<S.length;R++){var D=S[R];qs(c,D.obsSet)?D.subscribers.forEach(function(M){return d.add(M)}):f&&C.push(D)}f&&m.push([_,C])}if(f)for(var P=0,T=m;P<T.length;P++){var A=T[P],_=A[0],C=A[1];s.queries.query[_]=C}}function Hd(s){var c=s._state,d=s._deps.indexedDB;if(c.isBeingOpened||s.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?ze(c.dbOpenError):s});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var f=c.openCanceller,m=Math.round(10*s.verno),b=!1;function v(){if(c.openCanceller!==f)throw new fe.DatabaseClosed("db.open() was cancelled")}function w(){return new le(function(D,P){if(v(),!d)throw new fe.MissingAPI;var T=s.name,A=c.autoSchema||!m?d.open(T):d.open(T,m);if(!A)throw new fe.MissingAPI;A.onerror=St(P),A.onblocked=Be(s._fireOnBlocked),A.onupgradeneeded=Be(function(M){var I;R=A.transaction,c.autoSchema&&!s._options.allowEmptyDB?(A.onerror=vn,R.abort(),A.result.close(),(I=d.deleteDatabase(T)).onsuccess=I.onerror=Be(function(){P(new fe.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(R.onerror=St(P),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,S=M<1,s.idbdb=A.result,b&&Ud(s,R),Wd(s,M/10,R,P))},P),A.onsuccess=Be(function(){R=null;var M,I,L,K,V,ne=s.idbdb=A.result,oe=U(ne.objectStoreNames);if(0<oe.length)try{var te=ne.transaction((K=oe).length===1?K[0]:K,"readonly");if(c.autoSchema)I=ne,L=te,(M=s).verno=I.version/10,L=M._dbSchema=pa(0,I,L),M._storeNames=U(I.objectStoreNames,0),ha(M,[M._allTables],l(L),L);else if(ga(s,s._dbSchema,te),((V=Rs(pa(0,(V=s).idbdb,te),V._dbSchema)).add.length||V.change.some(function(ae){return ae.add.length||ae.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ne.close(),m=ne.version+1,b=!0,D(w());fa(s,te)}catch{}qr.push(s),ne.onversionchange=Be(function(ae){c.vcFired=!0,s.on("versionchange").fire(ae)}),ne.onclose=Be(function(){s.close({disableAutoOpen:!1})}),S&&(V=s._deps,te=T,ne=V.indexedDB,V=V.IDBKeyRange,Is(ne)||te===oa||Ds(ne,V).put({name:te}).catch(Le)),D()},P)}).catch(function(D){switch(D==null?void 0:D.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<m)return m=0,w()}return le.reject(D)})}var _,C=c.dbReadyResolve,R=null,S=!1;return le.race([f,(typeof navigator>"u"?le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(D){function P(){return indexedDB.databases().finally(D)}_=setInterval(P,100),P()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(w)]).then(function(){return v(),c.onReadyBeingFired=[],le.resolve(Fs(function(){return s.on.ready.fire(s.vip)})).then(function D(){if(0<c.onReadyBeingFired.length){var P=c.onReadyBeingFired.reduce(ps,Le);return c.onReadyBeingFired=[],le.resolve(Fs(function(){return P(s.vip)})).then(D)}})}).finally(function(){c.openCanceller===f&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(D){c.dbOpenError=D;try{R&&R.abort()}catch{}return f===c.openCanceller&&s._close(),ze(D)}).finally(function(){c.openComplete=!0,C()}).then(function(){var D;return S&&(D={},s.tables.forEach(function(P){P.schema.indexes.forEach(function(T){T.name&&(D["idb://".concat(s.name,"/").concat(P.name,"/").concat(T.name)]=new et(-1/0,[[[]]]))}),D["idb://".concat(s.name,"/").concat(P.name,"/")]=D["idb://".concat(s.name,"/").concat(P.name,"/:dels")]=new et(-1/0,[[[]]])}),Ht(wn).fire(D),Ks(D,!0)),s})}function Ws(s){function c(b){return s.next(b)}var d=m(c),f=m(function(b){return s.throw(b)});function m(b){return function(_){var w=b(_),_=w.value;return w.done?_:_&&typeof _.then=="function"?_.then(d,f):u(_)?Promise.all(_).then(d,f):d(_)}}return m(c)()}function va(s,c,d){for(var f=u(s)?s.slice():[s],m=0;m<d;++m)f.push(c);return f}var Vd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return n(n({},s),{table:function(c){var d=s.table(c),f=d.schema,m={},b=[];function v(S,D,P){var T=jn(S),A=m[T]=m[T]||[],M=S==null?0:typeof S=="string"?1:S.length,I=0<D,I=n(n({},P),{name:I?"".concat(T,"(virtual-from:").concat(P.name,")"):P.name,lowLevelIndex:P,isVirtual:I,keyTail:D,keyLength:M,extractKey:As(S),unique:!I&&P.unique});return A.push(I),I.isPrimaryKey||b.push(I),1<M&&v(M===2?S[0]:S.slice(0,M-1),D+1,P),A.sort(function(L,K){return L.keyTail-K.keyTail}),I}c=v(f.primaryKey.keyPath,0,f.primaryKey),m[":id"]=[c];for(var w=0,_=f.indexes;w<_.length;w++){var C=_[w];v(C.keyPath,0,C)}function R(S){var D,P=S.query.index;return P.isVirtual?n(n({},S),{query:{index:P.lowLevelIndex,range:(D=S.query.range,P=P.keyTail,{type:D.type===1?2:D.type,lower:va(D.lower,D.lowerOpen?s.MAX_KEY:s.MIN_KEY,P),lowerOpen:!0,upper:va(D.upper,D.upperOpen?s.MIN_KEY:s.MAX_KEY,P),upperOpen:!0})}}):S}return n(n({},d),{schema:n(n({},f),{primaryKey:c,indexes:b,getIndexByKeyPath:function(S){return(S=m[jn(S)])&&S[0]}}),count:function(S){return d.count(R(S))},query:function(S){return d.query(R(S))},openCursor:function(S){var D=S.query.index,P=D.keyTail,T=D.isVirtual,A=D.keyLength;return T?d.openCursor(R(S)).then(function(I){return I&&M(I)}):d.openCursor(S);function M(I){return Object.create(I,{continue:{value:function(L){L!=null?I.continue(va(L,S.reverse?s.MAX_KEY:s.MIN_KEY,P)):S.unique?I.continue(I.key.slice(0,A).concat(S.reverse?s.MIN_KEY:s.MAX_KEY,P)):I.continue()}},continuePrimaryKey:{value:function(L,K){I.continuePrimaryKey(va(L,s.MAX_KEY,P),K)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var L=I.key;return A===1?L[0]:L.slice(0,A)}},value:{get:function(){return I.value}}})}}})}})}};function Us(s,c,d,f){return d=d||{},f=f||"",l(s).forEach(function(m){var b,v,w;x(c,m)?(b=s[m],v=c[m],typeof b=="object"&&typeof v=="object"&&b&&v?(w=F(b))!==F(v)?d[f+m]=c[m]:w==="Object"?Us(b,v,d,f+m+"."):b!==v&&(d[f+m]=c[m]):b!==v&&(d[f+m]=c[m])):d[f+m]=void 0}),l(c).forEach(function(m){x(s,m)||(d[f+m]=c[m])}),d}function zs(s,c){return c.type==="delete"?c.keys:c.keys||c.values.map(s.extractKey)}var Yd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return n(n({},s),{table:function(c){var d=s.table(c),f=d.schema.primaryKey;return n(n({},d),{mutate:function(m){var b=ve.trans,v=b.table(c).hook,w=v.deleting,_=v.creating,C=v.updating;switch(m.type){case"add":if(_.fire===Le)break;return b._promise("readwrite",function(){return R(m)},!0);case"put":if(_.fire===Le&&C.fire===Le)break;return b._promise("readwrite",function(){return R(m)},!0);case"delete":if(w.fire===Le)break;return b._promise("readwrite",function(){return R(m)},!0);case"deleteRange":if(w.fire===Le)break;return b._promise("readwrite",function(){return function S(D,P,T){return d.query({trans:D,values:!1,query:{index:f,range:P},limit:T}).then(function(A){var M=A.result;return R({type:"delete",keys:M,trans:D}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):M.length<T?{failures:[],numFailures:0,lastResult:void 0}:S(D,n(n({},P),{lower:M[M.length-1],lowerOpen:!0}),T)})})}(m.trans,m.range,1e4)},!0)}return d.mutate(m);function R(S){var D,P,T,A=ve.trans,M=S.keys||zs(f,S);if(!M)throw new Error("Keys missing");return(S=S.type==="add"||S.type==="put"?n(n({},S),{keys:M}):n({},S)).type!=="delete"&&(S.values=o([],S.values)),S.keys&&(S.keys=o([],S.keys)),D=d,T=M,((P=S).type==="add"?Promise.resolve([]):D.getMany({trans:P.trans,keys:T,cache:"immutable"})).then(function(I){var L=M.map(function(K,V){var ne,oe,te,ae=I[V],ie={onerror:null,onsuccess:null};return S.type==="delete"?w.fire.call(ie,K,ae,A):S.type==="add"||ae===void 0?(ne=_.fire.call(ie,K,S.values[V],A),K==null&&ne!=null&&(S.keys[V]=K=ne,f.outbound||J(S.values[V],f.keyPath,K))):(ne=Us(ae,S.values[V]),(oe=C.fire.call(ie,ne,K,ae,A))&&(te=S.values[V],Object.keys(oe).forEach(function(se){x(te,se)?te[se]=oe[se]:J(te,se,oe[se])}))),ie});return d.mutate(S).then(function(K){for(var V=K.failures,ne=K.results,oe=K.numFailures,K=K.lastResult,te=0;te<M.length;++te){var ae=(ne||M)[te],ie=L[te];ae==null?ie.onerror&&ie.onerror(V[te]):ie.onsuccess&&ie.onsuccess(S.type==="put"&&I[te]?S.values[te]:ae)}return{failures:V,results:ne,numFailures:oe,lastResult:K}}).catch(function(K){return L.forEach(function(V){return V.onerror&&V.onerror(K)}),Promise.reject(K)})})}}})}})}};function Bi(s,c,d){try{if(!c||c.keys.length<s.length)return null;for(var f=[],m=0,b=0;m<c.keys.length&&b<s.length;++m)Oe(c.keys[m],s[b])===0&&(f.push(d?Ae(c.values[m]):c.values[m]),++b);return f.length===s.length?f:null}catch{return null}}var Gd={stack:"dbcore",level:-1,create:function(s){return{table:function(c){var d=s.table(c);return n(n({},d),{getMany:function(f){if(!f.cache)return d.getMany(f);var m=Bi(f.keys,f.trans._cache,f.cache==="clone");return m?le.resolve(m):d.getMany(f).then(function(b){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Ae(b):b},b})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),d.mutate(f)}})}}}};function Ki(s,c){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Wi(s,c){switch(s){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Xd={stack:"dbcore",level:0,name:"Observability",create:function(s){var c=s.schema.name,d=new et(s.MIN_KEY,s.MAX_KEY);return n(n({},s),{transaction:function(f,m,b){if(ve.subscr&&m!=="readonly")throw new fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return s.transaction(f,m,b)},table:function(f){var m=s.table(f),b=m.schema,v=b.primaryKey,S=b.indexes,w=v.extractKey,_=v.outbound,C=v.autoIncrement&&S.filter(function(P){return P.compound&&P.keyPath.includes(v.keyPath)}),R=n(n({},m),{mutate:function(P){function T(se){return se="idb://".concat(c,"/").concat(f,"/").concat(se),K[se]||(K[se]=new et)}var A,M,I,L=P.trans,K=P.mutatedParts||(P.mutatedParts={}),V=T(""),ne=T(":dels"),oe=P.type,ie=P.type==="deleteRange"?[P.range]:P.type==="delete"?[P.keys]:P.values.length<50?[zs(v,P).filter(function(se){return se}),P.values]:[],te=ie[0],ae=ie[1],ie=P.trans._cache;return u(te)?(V.addKeys(te),(ie=oe==="delete"||te.length===ae.length?Bi(te,ie):null)||ne.addKeys(te),(ie||ae)&&(A=T,M=ie,I=ae,b.indexes.forEach(function(se){var me=A(se.name||"");function Ne(Te){return Te!=null?se.extractKey(Te):null}function Pe(Te){return se.multiEntry&&u(Te)?Te.forEach(function(dt){return me.addKey(dt)}):me.addKey(Te)}(M||I).forEach(function(Te,tt){var ke=M&&Ne(M[tt]),tt=I&&Ne(I[tt]);Oe(ke,tt)!==0&&(ke!=null&&Pe(ke),tt!=null&&Pe(tt))})}))):te?(ae={from:(ae=te.lower)!==null&&ae!==void 0?ae:s.MIN_KEY,to:(ae=te.upper)!==null&&ae!==void 0?ae:s.MAX_KEY},ne.add(ae),V.add(ae)):(V.add(d),ne.add(d),b.indexes.forEach(function(se){return T(se.name).add(d)})),m.mutate(P).then(function(se){return!te||P.type!=="add"&&P.type!=="put"||(V.addKeys(se.results),C&&C.forEach(function(me){for(var Ne=P.values.map(function(ke){return me.extractKey(ke)}),Pe=me.keyPath.findIndex(function(ke){return ke===v.keyPath}),Te=0,dt=se.results.length;Te<dt;++Te)Ne[Te][Pe]=se.results[Te];T(me.name).addKeys(Ne)})),L.mutatedParts=ba(L.mutatedParts||{},K),se})}}),S=function(T){var A=T.query,T=A.index,A=A.range;return[T,new et((T=A.lower)!==null&&T!==void 0?T:s.MIN_KEY,(A=A.upper)!==null&&A!==void 0?A:s.MAX_KEY)]},D={get:function(P){return[v,new et(P.key)]},getMany:function(P){return[v,new et().addKeys(P.keys)]},count:S,query:S,openCursor:S};return l(D).forEach(function(P){R[P]=function(T){var A=ve.subscr,M=!!A,I=Ki(ve,m)&&Wi(P,T)?T.obsSet={}:A;if(M){var L=function(ae){return ae="idb://".concat(c,"/").concat(f,"/").concat(ae),I[ae]||(I[ae]=new et)},K=L(""),V=L(":dels"),A=D[P](T),M=A[0],A=A[1];if((P==="query"&&M.isPrimaryKey&&!T.values?V:L(M.name||"")).add(A),!M.isPrimaryKey){if(P!=="count"){var ne=P==="query"&&_&&T.values&&m.query(n(n({},T),{values:!1}));return m[P].apply(this,arguments).then(function(ae){if(P==="query"){if(_&&T.values)return ne.then(function(Ne){return Ne=Ne.result,K.addKeys(Ne),ae});var ie=T.values?ae.result.map(w):ae.result;(T.values?K:V).addKeys(ie)}else if(P==="openCursor"){var se=ae,me=T.values;return se&&Object.create(se,{key:{get:function(){return V.addKey(se.primaryKey),se.key}},primaryKey:{get:function(){var Ne=se.primaryKey;return V.addKey(Ne),Ne}},value:{get:function(){return me&&K.addKey(se.primaryKey),se.value}}})}return ae})}V.add(d)}}return m[P].apply(this,arguments)}}),R}})}};function Ui(s,c,d){if(d.numFailures===0)return c;if(c.type==="deleteRange")return null;var f=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return d.numFailures===f?null:(c=n({},c),u(c.keys)&&(c.keys=c.keys.filter(function(m,b){return!(b in d.failures)})),"values"in c&&u(c.values)&&(c.values=c.values.filter(function(m,b){return!(b in d.failures)})),c)}function Hs(s,c){return d=s,((f=c).lower===void 0||(f.lowerOpen?0<Oe(d,f.lower):0<=Oe(d,f.lower)))&&(s=s,(c=c).upper===void 0||(c.upperOpen?Oe(s,c.upper)<0:Oe(s,c.upper)<=0));var d,f}function zi(s,c,D,f,m,b){if(!D||D.length===0)return s;var v=c.query.index,w=v.multiEntry,_=c.query.range,C=f.schema.primaryKey.extractKey,R=v.extractKey,S=(v.lowLevelIndex||v).extractKey,D=D.reduce(function(P,T){var A=P,M=[];if(T.type==="add"||T.type==="put")for(var I=new et,L=T.values.length-1;0<=L;--L){var K,V=T.values[L],ne=C(V);I.hasKey(ne)||(K=R(V),(w&&u(K)?K.some(function(se){return Hs(se,_)}):Hs(K,_))&&(I.addKey(ne),M.push(V)))}switch(T.type){case"add":var oe=new et().addKeys(c.values?P.map(function(me){return C(me)}):P),A=P.concat(c.values?M.filter(function(me){return me=C(me),!oe.hasKey(me)&&(oe.addKey(me),!0)}):M.map(function(me){return C(me)}).filter(function(me){return!oe.hasKey(me)&&(oe.addKey(me),!0)}));break;case"put":var te=new et().addKeys(T.values.map(function(me){return C(me)}));A=P.filter(function(me){return!te.hasKey(c.values?C(me):me)}).concat(c.values?M:M.map(function(me){return C(me)}));break;case"delete":var ae=new et().addKeys(T.keys);A=P.filter(function(me){return!ae.hasKey(c.values?C(me):me)});break;case"deleteRange":var ie=T.range;A=P.filter(function(me){return!Hs(C(me),ie)})}return A},s);return D===s?s:(D.sort(function(P,T){return Oe(S(P),S(T))||Oe(C(P),C(T))}),c.limit&&c.limit<1/0&&(D.length>c.limit?D.length=c.limit:s.length===c.limit&&D.length<c.limit&&(m.dirty=!0)),b?Object.freeze(D):D)}function Hi(s,c){return Oe(s.lower,c.lower)===0&&Oe(s.upper,c.upper)===0&&!!s.lowerOpen==!!c.lowerOpen&&!!s.upperOpen==!!c.upperOpen}function Qd(s,c){return function(d,f,m,b){if(d===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=Oe(d,f))===0){if(m&&b)return 0;if(m)return 1;if(b)return-1}return f}(s.lower,c.lower,s.lowerOpen,c.lowerOpen)<=0&&0<=function(d,f,m,b){if(d===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=Oe(d,f))===0){if(m&&b)return 0;if(m)return-1;if(b)return 1}return f}(s.upper,c.upper,s.upperOpen,c.upperOpen)}function Jd(s,c,d,f){s.subscribers.add(d),f.addEventListener("abort",function(){var m,b;s.subscribers.delete(d),s.subscribers.size===0&&(m=s,b=c,setTimeout(function(){m.subscribers.size===0&&de(b,m)},3e3))})}var Zd={stack:"dbcore",level:0,name:"Cache",create:function(s){var c=s.schema.name;return n(n({},s),{transaction:function(d,f,m){var b,v,w=s.transaction(d,f,m);return f==="readwrite"&&(v=(b=new AbortController).signal,m=function(_){return function(){if(b.abort(),f==="readwrite"){for(var C=new Set,R=0,S=d;R<S.length;R++){var D=S[R],P=yr["idb://".concat(c,"/").concat(D)];if(P){var T=s.table(D),A=P.optimisticOps.filter(function(me){return me.trans===w});if(w._explicit&&_&&w.mutatedParts)for(var M=0,I=Object.values(P.queries.query);M<I.length;M++)for(var L=0,K=(oe=I[M]).slice();L<K.length;L++)qs((te=K[L]).obsSet,w.mutatedParts)&&(de(oe,te),te.subscribers.forEach(function(me){return C.add(me)}));else if(0<A.length){P.optimisticOps=P.optimisticOps.filter(function(me){return me.trans!==w});for(var V=0,ne=Object.values(P.queries.query);V<ne.length;V++)for(var oe,te,ae,ie=0,se=(oe=ne[V]).slice();ie<se.length;ie++)(te=se[ie]).res!=null&&w.mutatedParts&&(_&&!te.dirty?(ae=Object.isFrozen(te.res),ae=zi(te.res,te.req,A,T,te,ae),te.dirty?(de(oe,te),te.subscribers.forEach(function(me){return C.add(me)})):ae!==te.res&&(te.res=ae,te.promise=le.resolve({result:ae}))):(te.dirty&&de(oe,te),te.subscribers.forEach(function(me){return C.add(me)})))}}}C.forEach(function(me){return me()})}}},w.addEventListener("abort",m(!1),{signal:v}),w.addEventListener("error",m(!1),{signal:v}),w.addEventListener("complete",m(!0),{signal:v})),w},table:function(d){var f=s.table(d),m=f.schema.primaryKey;return n(n({},f),{mutate:function(b){var v=ve.trans;if(m.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(b);var w=yr["idb://".concat(c,"/").concat(d)];return w?(v=f.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||zs(m,b).some(function(_){return _==null}))?(w.optimisticOps.push(b),b.mutatedParts&&xa(b.mutatedParts),v.then(function(_){0<_.numFailures&&(de(w.optimisticOps,b),(_=Ui(0,b,_))&&w.optimisticOps.push(_),b.mutatedParts&&xa(b.mutatedParts))}),v.catch(function(){de(w.optimisticOps,b),b.mutatedParts&&xa(b.mutatedParts)})):v.then(function(_){var C=Ui(0,n(n({},b),{values:b.values.map(function(R,S){var D;return _.failures[S]?R:(R=(D=m.keyPath)!==null&&D!==void 0&&D.includes(".")?Ae(R):n({},R),J(R,m.keyPath,_.results[S]),R)})}),_);w.optimisticOps.push(C),queueMicrotask(function(){return b.mutatedParts&&xa(b.mutatedParts)})}),v):f.mutate(b)},query:function(b){if(!Ki(ve,f)||!Wi("query",b))return f.query(b);var v=((C=ve.trans)===null||C===void 0?void 0:C.db._options.cache)==="immutable",S=ve,w=S.requery,_=S.signal,C=function(T,A,M,I){var L=yr["idb://".concat(T,"/").concat(A)];if(!L)return[];if(!(A=L.queries[M]))return[null,!1,L,null];var K=A[(I.query?I.query.index.name:null)||""];if(!K)return[null,!1,L,null];switch(M){case"query":var V=K.find(function(ne){return ne.req.limit===I.limit&&ne.req.values===I.values&&Hi(ne.req.query.range,I.query.range)});return V?[V,!0,L,K]:[K.find(function(ne){return("limit"in ne.req?ne.req.limit:1/0)>=I.limit&&(!I.values||ne.req.values)&&Qd(ne.req.query.range,I.query.range)}),!1,L,K];case"count":return V=K.find(function(ne){return Hi(ne.req.query.range,I.query.range)}),[V,!!V,L,K]}}(c,d,"query",b),R=C[0],S=C[1],D=C[2],P=C[3];return R&&S?R.obsSet=b.obsSet:(S=f.query(b).then(function(T){var A=T.result;if(R&&(R.res=A),v){for(var M=0,I=A.length;M<I;++M)Object.freeze(A[M]);Object.freeze(A)}else T.result=Ae(A);return T}).catch(function(T){return P&&R&&de(P,R),Promise.reject(T)}),R={obsSet:b.obsSet,promise:S,subscribers:new Set,type:"query",req:b,dirty:!1},P?P.push(R):(P=[R],(D=D||(yr["idb://".concat(c,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=P)),Jd(R,P,w,_),R.promise.then(function(T){return{result:zi(T.result,b,D==null?void 0:D.optimisticOps,f,R,v)}})}})}})}};function wa(s,c){return new Proxy(s,{get:function(d,f,m){return f==="db"?c:Reflect.get(d,f,m)}})}var Ot=(He.prototype.version=function(s){if(isNaN(s)||s<.1)throw new fe.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var c=this._versions,d=c.filter(function(f){return f._cfg.version===s})[0];return d||(d=new this.Version(s),c.push(d),c.sort(Kd),d.stores({}),this._state.autoSchema=!1,d)},He.prototype._whenReady=function(s){var c=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?s():new le(function(d,f){if(c._state.openComplete)return f(new fe.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void f(new fe.DatabaseClosed);c.open().catch(Le)}c._state.dbReadyPromise.then(d,f)}).then(s)},He.prototype.use=function(s){var c=s.stack,d=s.create,f=s.level,m=s.name;return m&&this.unuse({stack:c,name:m}),s=this._middlewares[c]||(this._middlewares[c]=[]),s.push({stack:c,create:d,level:f??10,name:m}),s.sort(function(b,v){return b.level-v.level}),this},He.prototype.unuse=function(s){var c=s.stack,d=s.name,f=s.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(m){return f?m.create!==f:!!d&&m.name!==d})),this},He.prototype.open=function(){var s=this;return mr(Bt,function(){return Hd(s)})},He.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,c=qr.indexOf(this);if(0<=c&&qr.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new le(function(d){s.dbReadyResolve=d}),s.openCanceller=new le(function(d,f){s.cancelOpen=f}))},He.prototype.close=function(d){var c=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;c?(d.isBeingOpened&&d.cancelOpen(new fe.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new fe.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},He.prototype.delete=function(s){var c=this;s===void 0&&(s={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new le(function(m,b){function v(){c.close(s);var w=c._deps.indexedDB.deleteDatabase(c.name);w.onsuccess=Be(function(){var _,C,R;_=c._deps,C=c.name,R=_.indexedDB,_=_.IDBKeyRange,Is(R)||C===oa||Ds(R,_).delete(C).catch(Le),m()}),w.onerror=St(b),w.onblocked=c._fireOnBlocked}if(d)throw new fe.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},He.prototype.backendDB=function(){return this.idbdb},He.prototype.isOpen=function(){return this.idbdb!==null},He.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},He.prototype.hasFailed=function(){return this._state.dbOpenError!==null},He.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(He.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(c){return s._allTables[c]})},enumerable:!1,configurable:!0}),He.prototype.transaction=function(){var s=(function(c,d,f){var m=arguments.length;if(m<2)throw new fe.InvalidArgument("Too few arguments");for(var b=new Array(m-1);--m;)b[m-1]=arguments[m];return f=b.pop(),[c,Re(b),f]}).apply(this,arguments);return this._transaction.apply(this,s)},He.prototype._transaction=function(s,c,d){var f=this,m=ve.trans;m&&m.db===this&&s.indexOf("!")===-1||(m=null);var b,v,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(v=c.map(function(C){if(C=C instanceof f.Table?C.name:C,typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),s=="r"||s===Ns)b=Ns;else{if(s!="rw"&&s!=Ss)throw new fe.InvalidArgument("Invalid transaction mode: "+s);b=Ss}if(m){if(m.mode===Ns&&b===Ss){if(!w)throw new fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&v.forEach(function(C){if(m&&m.storeNames.indexOf(C)===-1){if(!w)throw new fe.SubTransaction("Table "+C+" not included in parent transaction.");m=null}}),w&&m&&!m.active&&(m=null)}}catch(C){return m?m._promise(null,function(R,S){S(C)}):ze(C)}var _=(function C(R,S,D,P,T){return le.resolve().then(function(){var A=ve.transless||ve,M=R._createTransaction(S,D,R._dbSchema,P);if(M.explicit=!0,A={trans:M,transless:A},P)M.idbtrans=P.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(K){return K.name===De.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return C(R,S,D,null,T)})):ze(K)}var I,L=Ee(T);return L&&Lr(),A=le.follow(function(){var K;(I=T.call(M,M))&&(L?(K=Wt.bind(null,null),I.then(K,K)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Ws(I)))},A),(I&&typeof I.then=="function"?le.resolve(I).then(function(K){return M.active?K:ze(new fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return I})).then(function(K){return P&&M._resolve(),M._completion.then(function(){return K})}).catch(function(K){return M._reject(K),ze(K)})})}).bind(null,this,b,v,m,d);return m?m._promise(b,_,"lock"):ve.trans?mr(ve.transless,function(){return f._whenReady(_)}):this._whenReady(_)},He.prototype.table=function(s){if(!x(this._allTables,s))throw new fe.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},He);function He(s,c){var d=this;this._middlewares={},this.verno=0;var f=He.dependencies;this._options=c=n({addons:He.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},f=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,b,v,w,_,C={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Le,dbReadyPromise:null,cancelOpen:Le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};C.dbReadyPromise=new le(function(S){C.dbReadyResolve=S}),C.openCanceller=new le(function(S,D){C.cancelOpen=D}),this._state=C,this.name=s,this.on=bn(this,"populate","blocked","versionchange","close",{ready:[ps,Le]}),this.once=function(S,D){var P=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];d.on(S).unsubscribe(P),D.apply(d,T)};return d.on(S,P)},this.on.ready.subscribe=B(this.on.ready.subscribe,function(S){return function(D,P){He.vip(function(){var T,A=d._state;A.openComplete?(A.dbOpenError||le.resolve().then(D),P&&S(D)):A.onReadyBeingFired?(A.onReadyBeingFired.push(D),P&&S(D)):(S(D),T=d,P||S(function M(){T.on.ready.unsubscribe(D),T.on.ready.unsubscribe(M)}))})}}),this.Collection=(m=this,xn(Dd.prototype,function(I,M){this.db=m;var P=wi,T=null;if(M)try{P=M()}catch(L){T=L}var A=I._ctx,M=A.table,I=M.hook.reading.fire;this._ctx={table:M,index:A.index,isPrimKey:!A.index||M.schema.primKey.keyPath&&A.index===M.schema.primKey.name,range:P,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:A.or,valueMapper:I!==fn?I:null}})),this.Table=(b=this,xn(Ci.prototype,function(S,D,P){this.db=b,this._tx=P,this.name=S,this.schema=D,this.hook=b._allTables[S]?b._allTables[S].hook:bn(null,{creating:[_d,Le],reading:[Sd,fn],updating:[Ed,Le],deleting:[Cd,Le]})})),this.Transaction=(v=this,xn(Ld.prototype,function(S,D,P,T,A){var M=this;S!=="readonly"&&D.forEach(function(I){I=(I=P[I])===null||I===void 0?void 0:I.yProps,I&&(D=D.concat(I.map(function(L){return L.updatesTable})))}),this.db=v,this.mode=S,this.storeNames=D,this.schema=P,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=bn(this,"complete","error","abort"),this.parent=A||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le(function(I,L){M._resolve=I,M._reject=L}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(I){var L=M.active;return M.active=!1,M.on.error.fire(I),M.parent?M.parent._reject(I):L&&M.idbtrans&&M.idbtrans.abort(),ze(I)})})),this.Version=(w=this,xn(zd.prototype,function(S){this.db=w,this._cfg={version:S,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,xn(Oi.prototype,function(S,D,P){if(this.db=_,this._ctx={table:S,index:D===":id"?null:D,or:P},this._cmp=this._ascending=Oe,this._descending=function(T,A){return Oe(A,T)},this._max=function(T,A){return 0<Oe(T,A)?T:A},this._min=function(T,A){return Oe(T,A)<0?T:A},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new fe.MissingAPI})),this.on("versionchange",function(S){0<S.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(S){!S.newVersion||S.newVersion<S.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(S.oldVersion/10))}),this._maxKey=kn(c.IDBKeyRange),this._createTransaction=function(S,D,P,T){return new d.Transaction(S,D,P,d._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(S){d.on("blocked").fire(S),qr.filter(function(D){return D.name===d.name&&D!==d&&!D._state.vcFired}).map(function(D){return D.on("versionchange").fire(S)})},this.use(Gd),this.use(Zd),this.use(Xd),this.use(Vd),this.use(Yd);var R=new Proxy(this,{get:function(S,D,P){if(D==="_vip")return!0;if(D==="table")return function(A){return wa(d.table(A),R)};var T=Reflect.get(S,D,P);return T instanceof Ci?wa(T,R):D==="tables"?T.map(function(A){return wa(A,R)}):D==="_createTransaction"?function(){return wa(T.apply(this,arguments),R)}:T}});this.vip=R,f.forEach(function(S){return S(d)})}var ka,gt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ef=(Vs.prototype.subscribe=function(s,c,d){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:c,complete:d})},Vs.prototype[gt]=function(){return this},Vs);function Vs(s){this._subscribe=s}try{ka={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ka={indexedDB:null,IDBKeyRange:null}}function Vi(s){var c,d=!1,f=new ef(function(m){var b=Ee(s),v,w=!1,_={},C={},R={get closed(){return w},unsubscribe:function(){w||(w=!0,v&&v.abort(),S&&Ht.storagemutated.unsubscribe(P))}};m.start&&m.start(R);var S=!1,D=function(){return js(T)},P=function(A){ba(_,A),qs(C,_)&&D()},T=function(){var A,M,I;!w&&ka.indexedDB&&(_={},A={},v&&v.abort(),v=new AbortController,I=function(L){var K=Ir();try{b&&Lr();var V=Kt(s,L);return V=b?V.finally(Wt):V}finally{K&&Fr()}}(M={subscr:A,signal:v.signal,requery:D,querier:s,trans:null}),Promise.resolve(I).then(function(L){d=!0,c=L,w||M.signal.aborted||(_={},function(K){for(var V in K)if(x(K,V))return;return 1}(C=A)||S||(Ht(wn,P),S=!0),js(function(){return!w&&m.next&&m.next(L)}))},function(L){d=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||w||js(function(){w||m.error&&m.error(L)})}))};return setTimeout(D,0),R});return f.hasValue=function(){return d},f.getValue=function(){return c},f}var br=Ot;function Ys(s){var c=Vt;try{Vt=!0,Ht.storagemutated.fire(s),Ks(s,!0)}finally{Vt=c}}N(br,n(n({},Qn),{delete:function(s){return new br(s,{addons:[]}).delete()},exists:function(s){return new br(s,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return c=br.dependencies,d=c.indexedDB,c=c.IDBKeyRange,(Is(d)?Promise.resolve(d.databases()).then(function(f){return f.map(function(m){return m.name}).filter(function(m){return m!==oa})}):Ds(d,c).toCollection().primaryKeys()).then(s)}catch{return ze(new fe.MissingAPI)}var c,d},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return ve.trans?mr(ve.transless,s):s()},vip:Fs,async:function(s){return function(){try{var c=Ws(s.apply(this,arguments));return c&&typeof c.then=="function"?c:le.resolve(c)}catch(d){return ze(d)}}},spawn:function(s,c,d){try{var f=Ws(s.apply(d,c||[]));return f&&typeof f.then=="function"?f:le.resolve(f)}catch(m){return ze(m)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(s,c){return c=le.resolve(typeof s=="function"?br.ignoreTransaction(s):s).timeout(c||6e4),ve.trans?ve.trans.waitFor(c):c},Promise:le,debug:{get:function(){return Nt},set:function(s){mi(s)}},derive:j,extend:p,props:N,override:B,Events:bn,on:Ht,liveQuery:Vi,extendObservabilitySet:ba,getByKeyPath:X,setByKeyPath:J,delByKeyPath:function(s,c){typeof c=="string"?J(s,c,void 0):"length"in c&&[].map.call(c,function(d){J(s,d,void 0)})},shallowClone:xe,deepClone:Ae,getObjectDiff:Us,cmp:Oe,asap:ee,minKey:-1/0,addons:[],connections:qr,errnames:De,dependencies:ka,cache:yr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,c,d){return s+c/Math.pow(10,2*d)})})),br.maxKey=kn(br.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ht(wn,function(s){Vt||(s=new CustomEvent(Es,{detail:s}),Vt=!0,dispatchEvent(s),Vt=!1)}),addEventListener(Es,function(s){s=s.detail,Vt||Ys(s)}));var Wr,Vt=!1,Yi=function(){};return typeof BroadcastChannel<"u"&&((Yi=function(){(Wr=new BroadcastChannel(Es)).onmessage=function(s){return s.data&&Ys(s.data)}})(),typeof Wr.unref=="function"&&Wr.unref(),Ht(wn,function(s){Vt||Wr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Ot.disableBfCache&&s.persisted){Nt&&console.debug("Dexie: handling persisted pagehide"),Wr!=null&&Wr.close();for(var c=0,d=qr;c<d.length;c++)d[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Ot.disableBfCache&&s.persisted&&(Nt&&console.debug("Dexie: handling persisted pageshow"),Yi(),Ys({all:new et(-1/0,[[]])}))})),le.rejectionMapper=function(s,c){return!s||s instanceof H||s instanceof TypeError||s instanceof SyntaxError||!s.name||!cr[s.name]?s:(c=new cr[s.name](c||s.message,s),"stack"in s&&k(c,"stack",{get:function(){return this.inner.stack}}),c)},mi(Nt),n(Ot,Object.freeze({__proto__:null,Dexie:Ot,liveQuery:Vi,Entity:ki,cmp:Oe,PropModification:yn,replacePrefix:function(s,c){return new yn({replacePrefix:[s,c]})},add:function(s){return new yn({add:s})},remove:function(s){return new yn({remove:s})},default:Ot,RangeSet:et,mergeRanges:Sn,rangesOverlap:Fi}),{default:Ot}),Ot})})(Ql);var hm=Ql.exports;const Eo=xl(hm),vc=Symbol.for("Dexie"),Wa=globalThis[vc]||(globalThis[vc]=Eo);if(Eo.semVer!==Wa.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Eo.semVer} and ${Wa.semVer}`);const{liveQuery:Vj,mergeRanges:Yj,rangesOverlap:Gj,RangeSet:Xj,cmp:Qj,Entity:Jj,PropModification:Zj,replacePrefix:eN,add:tN,remove:rN,DexieYProvider:nN}=Wa,mm="smartmoney-db",Jl=1;class pm extends Wa{constructor(){super(mm);vr(this,"transactions");vr(this,"accounts");vr(this,"budgets");vr(this,"goals");vr(this,"sync_queue");vr(this,"app_meta");this.version(Jl).stores({transactions:"++id, date, category, source, type, account_id, [date+category], [date+account_id]",accounts:"++id, name, type, is_active, currency",budgets:"++id, month",goals:"++id, status, end_date",sync_queue:"++id, timestamp, retry_count, status, entity_type",app_meta:"id"})}}const bt=new pm;function gm(){try{return typeof indexedDB<"u"&&indexedDB!==null}catch{return!1}}async function ym(){if(!gm())return console.warn("IndexedDB not available in this browser"),!1;try{return await bt.open(),await bt.app_meta.get("app-state")||await bt.app_meta.put({id:"app-state",schema_version:Jl}),!0}catch(e){return console.error("Failed to initialize IndexedDB:",e),!1}}const wc=[1e3,2e3,4e3,8e3,16e3],kc=5;async function aN(e,t,r,n){const o={operation_type:e,entity_type:t,entity_id:r,payload:n,timestamp:Date.now(),retry_count:0,status:"pending"};return await bt.sync_queue.add(o)}function bm(e,t){const r=`/api/${e}s`;return typeof t=="number"&&t>0?`${r}/${t}`:r}function xm(e){switch(e){case"CREATE":return"POST";case"UPDATE":return"PUT";case"DELETE":return"DELETE"}}async function vm(e){const t=bm(e.entity_type,e.entity_id),r=xm(e.operation_type),n=await re.request({method:r,url:t,data:e.operation_type!=="DELETE"?e.payload:void 0});if(n.status>=400)throw new Error(`Sync failed: ${n.status}`)}async function wm(){const e=await bt.sync_queue.where("status").equals("pending").and(n=>n.retry_count<kc).sortBy("timestamp");let t=0,r=0;for(const n of e)try{if(await bt.sync_queue.update(n.id,{status:"processing"}),n.retry_count>0){const o=wc[Math.min(n.retry_count-1,wc.length-1)];await new Promise(i=>setTimeout(i,o))}await vm(n),await bt.sync_queue.delete(n.id),t++}catch(o){const i=o instanceof Error?o.message:"Unknown error",l=n.retry_count+1;await bt.sync_queue.update(n.id,{status:l>=kc?"failed":"pending",retry_count:l,last_error:i}),r++}return{processed:t,failed:r}}async function Po(){return await bt.sync_queue.where("status").equals("pending").count()}let Fa=null,Zs=!1;const To=new Set;let La={isOnline:navigator.onLine,isSyncing:!1,pendingCount:0,lastSyncAt:null,lastError:null};function km(e){return To.add(e),e(La),()=>To.delete(e)}function Nr(e){La={...La,...e},To.forEach(t=>t(La))}async function qa(){if(!(Zs||!navigator.onLine)){Zs=!0,Nr({isSyncing:!0});try{const e=await wm(),t=await Po();Nr({isSyncing:!1,pendingCount:t,lastSyncAt:new Date,lastError:e.failed>0?`${e.failed} operations failed`:null})}catch(e){Nr({isSyncing:!1,lastError:e instanceof Error?e.message:"Sync failed"})}finally{Zs=!1}}}function jm(){const e=async()=>{Nr({isOnline:!0}),await qa()},t=()=>{Nr({isOnline:!1})};window.addEventListener("online",e),window.addEventListener("offline",t),document.addEventListener("visibilitychange",async()=>{!document.hidden&&navigator.onLine&&await qa()}),Fa=setInterval(async()=>{if(navigator.onLine){const r=await Po();Nr({pendingCount:r}),r>0&&await qa()}},3e4),Po().then(r=>Nr({pendingCount:r}))}function Nm(){Fa&&(clearInterval(Fa),Fa=null)}const Zl={isOnline:!0,isSyncing:!1,pendingCount:0,lastSyncAt:null,lastError:null},eu=y.createContext({...Zl,triggerSync:async()=>{}});function Sm({children:e}){const[t,r]=y.useState(Zl);y.useEffect(()=>{jm();const o=km(r);return()=>{o(),Nm()}},[]);const n=y.useCallback(async()=>{await qa()},[]);return a.jsx(eu.Provider,{value:{...t,triggerSync:n},children:e})}function _m(){return y.useContext(eu)}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Em=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),jc=e=>{const t=Em(e);return t.charAt(0).toUpperCase()+t.slice(1)},tu=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Pm=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:l,...u},p)=>y.createElement("svg",{ref:p,...Tm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:tu("lucide",o),...!i&&!Pm(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,g])=>y.createElement(h,g)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=y.forwardRef(({className:n,...o},i)=>y.createElement(Am,{ref:i,iconNode:t,className:tu(`lucide-${Cm(jc(e))}`,`lucide-${e}`,n),...o}));return r.displayName=jc(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rm=be("arrow-left",Om);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sr=be("arrow-right",Mm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Im=be("banknote",Dm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Nc=be("bell",Fm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],ru=be("brain",Lm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ao=be("calendar",qm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Bm=be("camera",$m);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hn=be("chart-column",Km);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],nu=be("chart-pie",Wm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zm=be("check",Um);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vm=be("chevron-down",Hm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gm=be("chevron-left",Ym);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dn=be("chevron-right",Xm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Jm=be("chevron-up",Qm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],ep=be("chevrons-left",Zm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],rp=be("chevrons-right",tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qo=be("circle-alert",np);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Jo=be("circle-check-big",ap);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],op=be("circle-check",sp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],cp=be("circle-plus",ip);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],up=be("circle-question-mark",lp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fp=be("circle-x",dp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Zo=be("credit-card",hp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pp=be("eye-off",mp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yp=be("eye",gp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],au=be("file-text",bp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],su=be("github",xp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ou=be("globe",vp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ss=be("house",wp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Oo=be("info",kp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ei=be("loader-circle",jp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ua=be("log-out",Np);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],iu=be("map-pinned",Sp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Cp=be("menu",_p);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Pp=be("message-circle",Ep);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cu=be("moon",Tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],os=be("plus",Ap);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Zt=be("receipt",Op);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Mp=be("refresh-ccw",Rp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ip=be("refresh-cw",Dp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Lp=be("scale",Fp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$p=be("search",qp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Kp=be("send",Bp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],is=be("settings",Wp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zp=be("shield",Up);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vn=be("shopping-cart",Hp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ln=be("sparkles",Vp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lu=be("sun",Yp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],er=be("target",Gp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ro=be("trash-2",Xp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cs=be("trending-down",Qp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qt=be("trending-up",Jp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],za=be("triangle-alert",Zp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ti=be("trophy",eg);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sr=be("upload",tg);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ng=be("user",rg);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sg=be("users",ag);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],un=be("wallet",og);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cg=be("wifi-off",ig);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xt=be("x",lg),ri="-",ug=e=>{const t=fg(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(ri);return u[0]===""&&u.length!==1&&u.shift(),uu(u,t)||dg(l)},getConflictingClassGroupIds:(l,u)=>{const p=r[l]||[];return u&&n[l]?[...p,...n[l]]:p}}},uu=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?uu(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(ri);return(l=t.validators.find(({validator:u})=>u(i)))==null?void 0:l.classGroupId},Sc=/^\[(.+)\]$/,dg=e=>{if(Sc.test(e)){const t=Sc.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},fg=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return mg(Object.entries(e.classGroups),r).forEach(([i,l])=>{Mo(l,n,i,t)}),n},Mo=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:_c(t,o);i.classGroupId=r;return}if(typeof o=="function"){if(hg(o)){Mo(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([i,l])=>{Mo(l,_c(t,i),r,n)})})},_c=(e,t)=>{let r=e;return t.split(ri).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hg=e=>e.isThemeGetter,mg=(e,t)=>t?e.map(([r,n])=>{const o=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,u])=>[t+l,u])):i);return[r,o]}):e,pg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return o(i,l),l},set(i,l){r.has(i)?r.set(i,l):o(i,l)}}},du="!",gg=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],i=t.length,l=u=>{const p=[];let h=0,g=0,x;for(let O=0;O<u.length;O++){let W=u[O];if(h===0){if(W===o&&(n||u.slice(O,O+i)===t)){p.push(u.slice(g,O)),g=O+i;continue}if(W==="/"){x=O;continue}}W==="["?h++:W==="]"&&h--}const N=p.length===0?u:u.substring(g),E=N.startsWith(du),k=E?N.substring(1):N,j=x&&x>g?x-g:void 0;return{modifiers:p,hasImportantModifier:E,baseClassName:k,maybePostfixModifierPosition:j}};return r?u=>r({className:u,parseClassName:l}):l},yg=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},bg=e=>({cache:pg(e.cacheSize),parseClassName:gg(e),...ug(e)}),xg=/\s+/,vg=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,i=[],l=e.trim().split(xg);let u="";for(let p=l.length-1;p>=0;p-=1){const h=l[p],{modifiers:g,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:E}=r(h);let k=!!E,j=n(k?N.substring(0,E):N);if(!j){if(!k){u=h+(u.length>0?" "+u:u);continue}if(j=n(N),!j){u=h+(u.length>0?" "+u:u);continue}k=!1}const O=yg(g).join(":"),W=x?O+du:O,U=W+j;if(i.includes(U))continue;i.push(U);const B=o(j,k);for(let q=0;q<B.length;++q){const ee=B[q];i.push(W+ee)}u=h+(u.length>0?" "+u:u)}return u};function wg(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fu(t))&&(n&&(n+=" "),n+=r);return n}const fu=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fu(e[n]))&&(r&&(r+=" "),r+=t);return r};function kg(e,...t){let r,n,o,i=l;function l(p){const h=t.reduce((g,x)=>x(g),e());return r=bg(h),n=r.cache.get,o=r.cache.set,i=u,u(p)}function u(p){const h=n(p);if(h)return h;const g=vg(p,r);return o(p,g),g}return function(){return i(wg.apply(null,arguments))}}const $e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hu=/^\[(?:([a-z-]+):)?(.+)\]$/i,jg=/^\d+\/\d+$/,Ng=new Set(["px","full","screen"]),Sg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_g=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Eg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rt=e=>en(e)||Ng.has(e)||jg.test(e),Yt=e=>dn(e,"length",Fg),en=e=>!!e&&!Number.isNaN(Number(e)),eo=e=>dn(e,"number",en),En=e=>!!e&&Number.isInteger(Number(e)),Tg=e=>e.endsWith("%")&&en(e.slice(0,-1)),Ce=e=>hu.test(e),Gt=e=>Sg.test(e),Ag=new Set(["length","size","percentage"]),Og=e=>dn(e,Ag,mu),Rg=e=>dn(e,"position",mu),Mg=new Set(["image","url"]),Dg=e=>dn(e,Mg,qg),Ig=e=>dn(e,"",Lg),Pn=()=>!0,dn=(e,t,r)=>{const n=hu.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Fg=e=>_g.test(e)&&!Cg.test(e),mu=()=>!1,Lg=e=>Eg.test(e),qg=e=>Pg.test(e),$g=()=>{const e=$e("colors"),t=$e("spacing"),r=$e("blur"),n=$e("brightness"),o=$e("borderColor"),i=$e("borderRadius"),l=$e("borderSpacing"),u=$e("borderWidth"),p=$e("contrast"),h=$e("grayscale"),g=$e("hueRotate"),x=$e("invert"),N=$e("gap"),E=$e("gradientColorStops"),k=$e("gradientColorStopPositions"),j=$e("inset"),O=$e("margin"),W=$e("opacity"),U=$e("padding"),B=$e("saturate"),q=$e("scale"),ee=$e("sepia"),X=$e("skew"),J=$e("space"),xe=$e("translate"),we=()=>["auto","contain","none"],Re=()=>["auto","hidden","clip","visible","scroll"],he=()=>["auto",Ce,t],ue=()=>[Ce,t],Ae=()=>["",Rt,Yt],Me=()=>["auto",en,Ce],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",Ce],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[en,Ce];return{cacheSize:500,separator:":",theme:{colors:[Pn],spacing:[Rt,Yt],blur:["none","",Gt,Ce],brightness:Ee(),borderColor:[e],borderRadius:["none","","full",Gt,Ce],borderSpacing:ue(),borderWidth:Ae(),contrast:Ee(),grayscale:ce(),hueRotate:Ee(),invert:ce(),gap:ue(),gradientColorStops:[e],gradientColorStopPositions:[Tg,Yt],inset:he(),margin:he(),opacity:Ee(),padding:ue(),saturate:Ee(),scale:Ee(),sepia:ce(),skew:Ee(),space:ue(),translate:ue()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Gt]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Ce]}],overflow:[{overflow:Re()}],"overflow-x":[{"overflow-x":Re()}],"overflow-y":[{"overflow-y":Re()}],overscroll:[{overscroll:we()}],"overscroll-x":[{"overscroll-x":we()}],"overscroll-y":[{"overscroll-y":we()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",En,Ce]}],basis:[{basis:he()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",En,Ce]}],"grid-cols":[{"grid-cols":[Pn]}],"col-start-end":[{col:["auto",{span:["full",En,Ce]},Ce]}],"col-start":[{"col-start":Me()}],"col-end":[{"col-end":Me()}],"grid-rows":[{"grid-rows":[Pn]}],"row-start-end":[{row:["auto",{span:[En,Ce]},Ce]}],"row-start":[{"row-start":Me()}],"row-end":[{"row-end":Me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...de()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...de(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...de(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[U]}],px:[{px:[U]}],py:[{py:[U]}],ps:[{ps:[U]}],pe:[{pe:[U]}],pt:[{pt:[U]}],pr:[{pr:[U]}],pb:[{pb:[U]}],pl:[{pl:[U]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[J]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[J]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,t]}],"min-w":[{"min-w":[Ce,t,"min","max","fit"]}],"max-w":[{"max-w":[Ce,t,"none","full","min","max","fit","prose",{screen:[Gt]},Gt]}],h:[{h:[Ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gt,Yt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eo]}],"font-family":[{font:[Pn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",en,eo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rt,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[W]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[W]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rt,Yt]}],"underline-offset":[{"underline-offset":["auto",Rt,Ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ue()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[W]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Rg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Og]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dg]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[W]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[W]}],"divide-style":[{divide:z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Rt,Ce]}],"outline-w":[{outline:[Rt,Yt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[W]}],"ring-offset-w":[{"ring-offset":[Rt,Yt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gt,Ig]}],"shadow-color":[{shadow:[Pn]}],opacity:[{opacity:[W]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Gt,Ce]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[B]}],sepia:[{sepia:[ee]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[W]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[En,Ce]}],"translate-x":[{"translate-x":[xe]}],"translate-y":[{"translate-y":[xe]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ue()}],"scroll-mx":[{"scroll-mx":ue()}],"scroll-my":[{"scroll-my":ue()}],"scroll-ms":[{"scroll-ms":ue()}],"scroll-me":[{"scroll-me":ue()}],"scroll-mt":[{"scroll-mt":ue()}],"scroll-mr":[{"scroll-mr":ue()}],"scroll-mb":[{"scroll-mb":ue()}],"scroll-ml":[{"scroll-ml":ue()}],"scroll-p":[{"scroll-p":ue()}],"scroll-px":[{"scroll-px":ue()}],"scroll-py":[{"scroll-py":ue()}],"scroll-ps":[{"scroll-ps":ue()}],"scroll-pe":[{"scroll-pe":ue()}],"scroll-pt":[{"scroll-pt":ue()}],"scroll-pr":[{"scroll-pr":ue()}],"scroll-pb":[{"scroll-pb":ue()}],"scroll-pl":[{"scroll-pl":ue()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rt,Yt,eo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bg=kg($g);function Q(...e){return Bg(hf(e))}const pu=y.createContext(null);let Kg=0;const Wg={success:Jo,error:fp,warning:Qo,info:Oo},Ug={success:"bg-green-50 dark:bg-green-900/90 border-green-200 dark:border-green-700 text-green-800 dark:text-green-100",error:"bg-red-50 dark:bg-red-900/90 border-red-200 dark:border-red-700 text-red-800 dark:text-red-100",warning:"bg-yellow-50 dark:bg-yellow-900/90 border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100",info:"bg-blue-50 dark:bg-blue-900/90 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-100"},zg={success:"text-green-500 dark:text-green-400",error:"text-red-500 dark:text-red-400",warning:"text-yellow-500 dark:text-yellow-400",info:"text-blue-500 dark:text-blue-400"};function Hg({children:e}){const[t,r]=y.useState([]),n=y.useCallback(h=>{r(g=>g.map(x=>x.id===h?{...x,exiting:!0}:x)),setTimeout(()=>{r(g=>g.filter(x=>x.id!==h))},200)},[]),o=y.useCallback((h,g="info",x=4e3)=>{const N=++Kg;r(E=>[...E,{id:N,message:h,type:g,duration:x}]),x>0&&setTimeout(()=>n(N),x)},[n]),i=y.useCallback((h,g)=>o(h,"success",g),[o]),l=y.useCallback((h,g)=>o(h,"error",g),[o]),u=y.useCallback((h,g)=>o(h,"warning",g),[o]),p=y.useCallback((h,g)=>o(h,"info",g),[o]);return a.jsxs(pu.Provider,{value:{showToast:o,success:i,error:l,warning:u,info:p},children:[e,Ft.createPortal(a.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:t.map(h=>{const g=Wg[h.type];return a.jsxs("div",{className:Q("flex items-start gap-3 p-4 rounded-lg border shadow-lg pointer-events-auto",Ug[h.type],h.exiting?"animate-toast-out":"animate-toast-in"),children:[a.jsx(g,{className:Q("w-5 h-5 flex-shrink-0 mt-0.5",zg[h.type])}),a.jsx("p",{className:"flex-1 text-sm font-medium",children:h.message}),a.jsx("button",{onClick:()=>n(h.id),className:"flex-shrink-0 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded",children:a.jsx(xt,{className:"w-4 h-4"})})]},h.id)})}),document.body)]})}function sN(){const e=y.useContext(pu);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const gu=y.createContext(void 0);function oN(){const e=y.useContext(gu);if(!e)throw new Error("useXPToast must be used within an XPToastProvider");return e}function Vg({children:e}){const[t,r]=y.useState([]),n=y.useCallback((i,l)=>{const u={amount:i,source:l,timestamp:Date.now()};r(p=>[...p.slice(-2),u]),setTimeout(()=>{r(p=>p.filter(h=>h.timestamp!==u.timestamp))},3e3)},[]),o=y.useCallback(i=>{r(l=>l.filter(u=>u.timestamp!==i))},[]);return a.jsxs(gu.Provider,{value:{addXPGain:n,toasts:t,dismissToast:o},children:[e,a.jsx(Yg,{toasts:t,onDismiss:o})]})}function Yg({toasts:e,onDismiss:t}){return e.length===0?null:a.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>a.jsx(Gg,{toast:r,onDismiss:t},r.timestamp))})}function Gg({toast:e,onDismiss:t}){return a.jsxs("div",{className:Q("pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg","bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/90 dark:to-orange-950/90","border border-amber-200/50 dark:border-amber-800/50","animate-in slide-in-from-bottom-5 fade-in duration-300"),children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:a.jsx(ln,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:["+",e.amount," XP"]}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 truncate",children:e.source})]}),a.jsx("button",{onClick:()=>t(e.timestamp),className:"flex-shrink-0 p-1 rounded-lg hover:bg-amber-200/50 dark:hover:bg-amber-800/50 transition-colors",children:a.jsx(xt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})})]})}const Xg=["auth","user","session","credit","transactions","transfers","accounts","analytics","dashboard","recurring-transactions"],Qg=new ff({defaultOptions:{queries:{gcTime:1e3*60*60,staleTime:0,retry:2,refetchOnWindowFocus:"always",networkMode:"online"},mutations:{retry:1,networkMode:"online"}}});function Jg(e){const t=e[0];return typeof t!="string"?!0:!Xg.includes(t)}function Do(){}function Zg(e,{interval:t=1e3,onError:r=Do}={}){if(typeof e!="function")throw new Error("argument is not function.");let n=0,o=null,i=!1,l=!1;return async(...u)=>{if(o=u,!l){for(l=!0;i;)await new Promise(p=>Xi.setTimeout(p,t));for(;Date.now()<n;)await new Promise(p=>Xi.setTimeout(p,n-Date.now()));l=!1,i=!0;try{await e(...o)}catch(p){try{r(p)}catch{}}n=Date.now()+t,i=!1}}}var e0=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:r=1e3,serialize:n=JSON.stringify,deserialize:o=JSON.parse,retry:i})=>{if(e){const l=async u=>{try{const p=await n(u);await e.setItem(t,p);return}catch(p){return p}};return{persistClient:Zg(async u=>{let p=u,h=await l(p),g=0;for(;h&&p;)g++,p=await(i==null?void 0:i({persistedClient:p,error:h,errorCount:g})),p&&(h=await l(p))},{interval:r}),restoreClient:async()=>{const u=await e.getItem(t);if(u)return await o(u)},removeClient:()=>e.removeItem(t)}}return{persistClient:Do,restoreClient:()=>Promise.resolve(void 0),removeClient:Do}};const t0="tanstack-query-cache",r0={getItem:async e=>{try{const t=await bt.app_meta.get(e);return t?JSON.stringify(t):null}catch(t){return console.warn("Failed to read from IndexedDB:",t),null}},setItem:async(e,t)=>{try{const r=JSON.parse(t);await bt.app_meta.put({id:e,...r})}catch(r){console.warn("Failed to write to IndexedDB:",r)}},removeItem:async e=>{try{await bt.app_meta.delete(e)}catch(t){console.warn("Failed to remove from IndexedDB:",t)}}},n0=e0({storage:r0,throttleTime:1e4,key:t0}),a0="modulepreload",s0=function(e){return"/"+e},Cc={},Ke=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(r.map(p=>{if(p=s0(p),p in Cc)return;Cc[p]=!0;const h=p.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":a0,h||(x.as="script"),x.crossOrigin="",x.href=p,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((N,E)=>{x.addEventListener("load",N),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},to=[{code:"ja",name:"",flag:""},{code:"en",name:"English",flag:""},{code:"vi",name:"Ting Vit",flag:""}];function Ec(){const{i18n:e,t}=_e("common"),[r,n]=y.useState(!1),o=y.useRef(null),i=to.find(u=>u.code===e.language)||to[0],l=u=>{e.changeLanguage(u),n(!1)};return y.useEffect(()=>{function u(p){o.current&&!o.current.contains(p.target)&&n(!1)}return r&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[r]),a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus-ring","aria-label":t("language.selectLanguage"),"aria-expanded":r,"aria-haspopup":"true",children:[a.jsx("span",{className:"text-lg sm:text-xl","aria-hidden":"true",children:i.flag}),a.jsx("span",{className:"text-sm font-medium hidden sm:inline text-gray-700 dark:text-gray-200",children:i.name}),a.jsx("svg",{className:Q("w-4 h-4 transition-transform hidden sm:block",r&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 animate-slide-down",children:to.map(u=>a.jsxs("button",{onClick:()=>l(u.code),className:Q("w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","first:rounded-t-lg last:rounded-b-lg","text-gray-700 dark:text-gray-200",e.language===u.code&&"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400"),role:"menuitem",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:u.flag}),a.jsx("span",{className:"text-sm font-medium flex-1 text-left",children:u.name}),e.language===u.code&&a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-label":"Selected",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},u.code))})]})}function Pc(){const{t:e}=_e("common"),{resolvedTheme:t,setTheme:r}=as(),n=()=>{r(t==="dark"?"light":"dark")};return a.jsx("button",{onClick:n,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 focus-ring","aria-label":e(t==="dark"?"aria.lightMode":"aria.darkMode"),title:e(t==="dark"?"aria.lightMode":"aria.darkMode"),children:t==="dark"?a.jsx(lu,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(cu,{className:"w-5 h-5","aria-hidden":"true"})})}function o0(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Io=1;class i0{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Io++,l=this.toasts.find(p=>p.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(p=>p.id===i?(this.publish({...p,...t,id:i,title:n}),{...p,...t,id:i,dismissible:u,title:n}):p):this.addToast({title:n,...o,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,l;const u=o.then(async h=>{if(l=["resolve",h],Qr.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(l0(h)&&!h.ok){i=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,N=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,k=typeof x=="object"&&!Qr.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:N,...k})}else if(h instanceof Error){i=!1;const x=typeof r.error=="function"?await r.error(h):r.error,N=typeof r.description=="function"?await r.description(h):r.description,k=typeof x=="object"&&!Qr.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:N,...k})}else if(r.success!==void 0){i=!1;const x=typeof r.success=="function"?await r.success(h):r.success,N=typeof r.description=="function"?await r.description(h):r.description,k=typeof x=="object"&&!Qr.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:N,...k})}}).catch(async h=>{if(l=["reject",h],r.error!==void 0){i=!1;const g=typeof r.error=="function"?await r.error(h):r.error,x=typeof r.description=="function"?await r.description(h):r.description,E=typeof g=="object"&&!Qr.isValidElement(g)?g:{message:g};this.create({id:n,type:"error",description:x,...E})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((h,g)=>u.then(()=>l[0]==="reject"?g(l[1]):h(l[1])).catch(g));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Io++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yt=new i0,c0=(e,t)=>{const r=(t==null?void 0:t.id)||Io++;return yt.addToast({title:e,...t,id:r}),r},l0=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",u0=c0,d0=()=>yt.toasts,f0=()=>yt.getActiveToasts(),Ha=Object.assign(u0,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:d0,getToasts:f0});o0("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");class h0{async getThemes(t=1){return(await re.get("/api/rewards/themes",{params:{level:t}})).data}async getMyThemes(){return(await re.get("/api/rewards/themes/my")).data}async activateTheme(t){return(await re.post(`/api/rewards/themes/${t}/activate`)).data}async getAvatars(t=1){return(await re.get("/api/rewards/avatars",{params:{level:t}})).data}async getMyAvatars(){return(await re.get("/api/rewards/avatars/my")).data}async activateAvatar(t){return(await re.post(`/api/rewards/avatars/${t}/activate`)).data}async uploadCustomAvatar(t){console.log("[uploadCustomAvatar] Starting upload:",t.name,t.type,t.size);const r=new FormData;r.append("avatar",t),console.log("[uploadCustomAvatar] FormData created, token exists:",!!localStorage.getItem("smartmoney_access_token"));const n=await re.post("/api/rewards/avatars/upload",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log("[uploadCustomAvatar] Upload response:",n.data),n.data}async deleteAvatar(t){return(await re.delete(`/api/rewards/avatars/${t}`)).data}async getProfile(){return(await re.get("/api/rewards/profile")).data}async updateProfile(t,r){return(await re.put("/api/rewards/profile",{display_name:t,bio:r})).data}async getFeatures(){return(await re.get("/api/rewards/features")).data}async checkFeatureAccess(t){return(await re.get(`/api/rewards/features/${t}/access`)).data}async getSettings(){return(await re.get("/api/rewards/settings")).data}async updateSettings(t){return(await re.put("/api/rewards/settings",t)).data}async getActiveEvent(){return(await re.get("/api/rewards/events/active")).data}async getMultiplier(){return(await re.get("/api/rewards/events/multiplier")).data}async initializeAll(){return(await re.post("/api/rewards/initialize")).data}}const Pr=new h0,iN=e=>We({queryKey:["avatars",e],queryFn:()=>Pr.getAvatars(e)}),cN=()=>{const e=wt();return Lt({mutationFn:t=>Pr.activateAvatar(t),onSuccess:()=>e.invalidateQueries({queryKey:["avatars"]})})},lN=()=>{const e=wt();return Lt({mutationFn:t=>(console.log("[useUploadCustomAvatar] Starting upload:",t.name,t.type,t.size),Pr.uploadCustomAvatar(t)),onSuccess:t=>{var r;console.log("[useUploadCustomAvatar] Upload success:",t),e.invalidateQueries({queryKey:["avatars"]}),e.invalidateQueries({queryKey:["profile"]}),Ha.success("Custom avatar uploaded!"),(r=t.avatar)!=null&&r.id&&(console.log("[useUploadCustomAvatar] Auto-selecting new avatar:",t.avatar.id),Pr.activateAvatar(t.avatar.id))},onError:t=>{console.error("[useUploadCustomAvatar] Upload error:",t),e.invalidateQueries({queryKey:["avatars"]}),Ha.error("Failed to upload avatar: "+((t==null?void 0:t.message)||"Unknown error"))}})},uN=()=>{const e=wt();return Lt({mutationFn:t=>Pr.deleteAvatar(t),onSuccess:()=>{e.invalidateQueries({queryKey:["avatars"]}),e.invalidateQueries({queryKey:["profile"]}),Ha.success("Avatar deleted")},onError:t=>{var r,n;Ha.error("Failed to delete avatar: "+(((n=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:n.detail)||"Unknown error"))}})},yu=()=>We({queryKey:["profile"],queryFn:()=>Pr.getProfile()}),dN=()=>{const e=wt();return Lt({mutationFn:({displayName:t,bio:r})=>Pr.updateProfile(t,r),onSuccess:()=>e.invalidateQueries({queryKey:["profile"]})})},fN=()=>We({queryKey:["gamification-stats"],queryFn:()=>Ke(()=>import("./gamification-service-A2lGt1YU.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e.gamificationService.getStats())});function m0(){const{data:e,isLoading:t}=yu();if(t||!e)return a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"});const r=e.active_avatar,n=(r==null?void 0:r.emoji)||(r==null?void 0:r.icon)||"";return a.jsx(Ye,{to:"/gamification",className:"group flex items-center gap-1.5 px-2 py-1 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all",title:"Your avatar - Click to change",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-full bg-gradient-to-br from-primary-300 to-primary-500 opacity-60 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{className:"relative w-7 h-7 rounded-full bg-primary-50 dark:bg-primary-900/40 flex items-center justify-center text-lg leading-none",children:n})]})})}const p0=[{path:"/",icon:ss,labelKey:"header.dashboard",activeColor:"text-primary-600 dark:text-primary-400"},{path:"/transactions",icon:Zt,labelKey:"header.transactions",activeColor:"text-purple-600 dark:text-purple-400"},{path:"/accounts",icon:un,labelKey:"header.accounts",activeColor:"text-green-600 dark:text-green-400"},{path:"/goals",icon:er,labelKey:"header.goals",activeColor:"text-pink-600 dark:text-pink-400"},{path:"/analytics",icon:Hn,labelKey:"header.analytics",activeColor:"text-indigo-600 dark:text-indigo-400"},{path:"/budget",icon:qt,labelKey:"header.budget",activeColor:"text-blue-600 dark:text-blue-400"},{path:"/gamification",icon:ti,labelKey:"header.gamification",activeColor:"text-yellow-500"},{path:"/upload",icon:sr,labelKey:"header.upload",activeColor:"text-cyan-600 dark:text-cyan-400"},{path:"/settings",icon:is,labelKey:"header.settings",activeColor:"text-gray-600 dark:text-gray-400"}];function g0(){const{t:e}=_e("common"),{logout:t}=zn(),{isPrivacyMode:r,togglePrivacyMode:n}=Mr(),[o,i]=y.useState(!1),l=u=>u==="/"?location.pathname==="/":location.pathname.startsWith(u);return a.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Ye,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx("svg",{className:"w-7 h-7 sm:w-8 sm:h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white hidden sm:block",children:"SmartMoney"})]}),a.jsx(m0,{})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[a.jsx("button",{onClick:n,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors p-1.5 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring","aria-label":e(r?"aria.showAmounts":"aria.hideAmounts"),title:e(r?"aria.showAmounts":"aria.hideAmounts"),children:r?a.jsx(pp,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"}):a.jsx(yp,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(Pc,{})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(Ec,{})}),a.jsx("button",{onClick:t,className:"hidden md:block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring",title:e("auth.logout"),children:a.jsx(Ua,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"md:hidden",children:a.jsx(Ec,{})}),a.jsx("button",{onClick:()=>i(!o),className:"md:hidden text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Menu",children:a.jsx(Cp,{className:"w-5 h-5"})})]})]}),o&&a.jsx("div",{className:"md:hidden py-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"flex flex-col space-y-1",children:[p0.map(u=>{const p=l(u.path);return a.jsx(y0,{to:u.path,onClick:()=>i(!1),icon:u.icon,active:p,activeColor:u.activeColor,children:e(u.labelKey)},u.path)}),a.jsxs("div",{className:"flex items-center gap-3 pt-3 mt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(Pc,{}),a.jsxs("button",{onClick:()=>{i(!1),t()},className:Q("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors","text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"),children:[a.jsx(Ua,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:e("auth.logout")})]})]})]})})]})})}function y0({to:e,onClick:t,icon:r,active:n,activeColor:o,children:i}){return a.jsxs(Ye,{to:e,onClick:t,className:Q("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors font-medium",n?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[a.jsx(r,{className:Q("w-5 h-5",n&&o),strokeWidth:1.5}),a.jsx("span",{children:i})]})}function b0(){const e=new Date().getFullYear();return a.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"text-center text-sm text-gray-500",children:a.jsxs("p",{children:[" ",e," SmartMoney. All rights reserved."]})})})})}const vt={home:{path:"/",icon:ss,labelKey:"nav.home",activeColor:"text-primary-600 dark:text-primary-400"},budget:{path:"/budget",icon:qt,labelKey:"nav.budget",activeColor:"text-blue-600 dark:text-blue-400"},accounts:{path:"/accounts",icon:un,labelKey:"nav.accounts",activeColor:"text-green-600 dark:text-green-400"},transactions:{path:"/transactions",icon:Zt,labelKey:"nav.transactions",activeColor:"text-purple-600 dark:text-purple-400"},gamification:{path:"/gamification",icon:ti,labelKey:"header.gamification",activeColor:"text-yellow-500"},analytics:{path:"/analytics",icon:Hn,labelKey:"nav.analytics",activeColor:"text-indigo-600 dark:text-indigo-400"},goals:{path:"/goals",icon:er,labelKey:"nav.goals",activeColor:"text-pink-600 dark:text-pink-400"},proxy:{path:"/proxy",icon:Vn,labelKey:"nav.proxy",activeColor:"text-orange-600 dark:text-orange-400"},settings:{path:"/settings",icon:is,labelKey:"nav.settings",activeColor:"text-gray-600 dark:text-gray-400"},upload:{path:"/upload",icon:sr,labelKey:"header.upload",activeColor:"text-cyan-600 dark:text-cyan-400"},relocation:{path:"/relocation",icon:iu,labelKey:"nav.relocation",activeColor:"text-teal-600 dark:text-teal-400"}},x0=[vt.home,vt.budget,vt.accounts,vt.transactions],Tc=[vt.gamification,vt.analytics,vt.goals,vt.relocation,vt.proxy],v0=[vt.settings,vt.upload],w0=({className:e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"1"}),a.jsx("circle",{cx:"12",cy:"5",r:"1"}),a.jsx("circle",{cx:"12",cy:"19",r:"1"})]});function k0(){const{t:e}=_e("common"),t=an(),{logout:r}=zn(),[n,o]=y.useState(!1),i=u=>u==="/"?t.pathname==="/":t.pathname.startsWith(u),l=Tc.some(u=>i(u.path));return a.jsxs(a.Fragment,{children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>o(!1)}),n&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50 md:hidden rounded-t-3xl shadow-2xl animate-slide-up max-h-[85vh] overflow-y-auto",children:[a.jsx("div",{className:"flex justify-center pt-3 pb-2",children:a.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 px-2",children:e("nav.explore","Explore")}),a.jsx("div",{className:"space-y-1",children:Tc.map(u=>{const p=i(u.path);return a.jsxs(Ye,{to:u.path,onClick:()=>o(!1),className:Q("flex items-center gap-4 px-4 py-3 rounded-xl transition-all",p?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a.jsx("div",{className:Q("w-10 h-10 flex items-center justify-center rounded-lg",p?"bg-primary-100 dark:bg-primary-900/50":"bg-gray-100 dark:bg-gray-800"),children:a.jsx(u.icon,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium flex-1",children:e(u.labelKey)}),a.jsx(Dn,{className:"w-4 h-4 text-gray-400"})]},u.path)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 px-2",children:e("nav.settings","Settings")}),a.jsx("div",{className:"space-y-1",children:v0.map(u=>{const p=i(u.path);return a.jsxs(Ye,{to:u.path,onClick:()=>o(!1),className:Q("flex items-center gap-4 px-4 py-3 rounded-xl transition-all",p?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a.jsx("div",{className:Q("w-10 h-10 flex items-center justify-center rounded-lg",p?"bg-primary-100 dark:bg-primary-900/50":"bg-gray-100 dark:bg-gray-800"),children:a.jsx(u.icon,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium flex-1",children:e(u.labelKey)}),a.jsx(Dn,{className:"w-4 h-4 text-gray-400"})]},u.path)})})]}),a.jsxs("button",{onClick:()=>{o(!1),r()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 dark:bg-red-900/30 rounded-lg",children:a.jsx(Ua,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium",children:e("auth.logout")})]})]}),a.jsx("div",{className:"h-safe-area"})]}),a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg border-t border-gray-200/60 dark:border-gray-700/60 z-50 md:hidden safe-area-bottom shadow-[0_-4px_16px_-2px_rgba(0,0,0,0.12)]",children:a.jsxs("div",{className:"flex items-stretch justify-around h-[calc(4rem+env(safe-area-inset-bottom,0px))]",children:[x0.map(u=>{const p=i(u.path);return a.jsxs(Ye,{to:u.path,onClick:()=>o(!1),className:Q("flex flex-col items-center justify-center flex-1 px-1 transition-all relative",p?u.activeColor:"text-gray-400 dark:text-gray-500"),children:[p&&a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-1 bg-primary-600 dark:bg-primary-400 rounded-full animate-nav-indicator"}),a.jsx("div",{className:Q("p-2 rounded-xl transition-colors",p&&"bg-primary-100/80 dark:bg-primary-900/30"),children:a.jsx(u.icon,{className:"w-6 h-6",strokeWidth:p?2.2:1.5})}),a.jsx("span",{className:"text-[10px] font-medium mt-1 truncate max-w-full px-0.5",children:e(u.labelKey)})]},u.path)}),a.jsxs("button",{onClick:()=>o(!n),className:Q("flex flex-col items-center justify-center flex-1 px-1 transition-all relative",l||n?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500"),children:[n&&a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary-500 dark:bg-primary-400 rounded-full animate-nav-indicator"}),a.jsx("div",{className:Q("p-2 rounded-xl transition-colors",n&&"bg-primary-50 dark:bg-primary-900/20"),children:a.jsx(w0,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-[10px] font-medium mt-1",children:e("nav.more")})]})]})})]})}const j0=[{path:"/",icon:ss,labelKey:"nav.home"},{path:"/transactions",icon:Zt,labelKey:"nav.transactions"},{path:"/accounts",icon:un,labelKey:"nav.accounts"},{path:"/budget",icon:qt,labelKey:"nav.budget"},{path:"/analytics",icon:Hn,labelKey:"nav.analytics"},{path:"/benchmark",icon:Lp,labelKey:"nav.benchmark"},{path:"/goals",icon:er,labelKey:"nav.goals"},{path:"/proxy",icon:Vn,labelKey:"nav.proxy"},{path:"/relocation",icon:iu,labelKey:"nav.relocation"},{path:"/gamification",icon:ti,labelKey:"header.gamification"},{path:"/upload",icon:sr,labelKey:"header.upload"},{path:"/settings",icon:is,labelKey:"nav.settings"}];function N0(){const{t:e}=_e("common"),t=an(),{logout:r}=zn(),[n,o]=y.useState(!1),i=l=>l==="/"?t.pathname==="/":t.pathname.startsWith(l);return a.jsxs("aside",{className:Q("hidden md:flex fixed left-0 top-0 h-screen flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-40 transition-[width] duration-200",n?"w-56":"w-16"),children:[a.jsxs(Ye,{to:"/",className:"flex items-center gap-2 px-4 h-16 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[a.jsx("svg",{className:"w-7 h-7 text-primary-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n&&a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:"SmartMoney"})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-2 px-2 space-y-1",children:j0.map(l=>{const u=i(l.path);return a.jsxs(Ye,{to:l.path,title:n?void 0:e(l.labelKey),className:Q("flex items-center gap-3 rounded-lg transition-colors h-10",n?"px-3":"justify-center px-0",u?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"),children:[a.jsx(l.icon,{className:"w-5 h-5 shrink-0",strokeWidth:u?2:1.5}),n&&a.jsx("span",{className:"text-sm font-medium truncate",children:e(l.labelKey)})]},l.path)})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2 space-y-1",children:[a.jsxs("button",{onClick:r,title:n?void 0:e("auth.logout"),className:Q("flex items-center gap-3 rounded-lg transition-colors h-10 w-full text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",n?"px-3":"justify-center px-0"),children:[a.jsx(Ua,{className:"w-5 h-5 shrink-0",strokeWidth:1.5}),n&&a.jsx("span",{className:"text-sm font-medium",children:e("auth.logout")})]}),a.jsxs("button",{onClick:()=>o(!n),title:n?e("nav.collapse","Collapse"):e("nav.expand","Expand"),className:Q("flex items-center gap-3 rounded-lg transition-colors h-10 w-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",n?"px-3":"justify-center px-0"),children:[n?a.jsx(ep,{className:"w-5 h-5 shrink-0"}):a.jsx(rp,{className:"w-5 h-5 shrink-0"}),n&&a.jsx("span",{className:"text-sm font-medium",children:e("nav.collapse","Collapse")})]})]})]})}async function bu(e){const t=new URLSearchParams;e!=null&&e.includeInactive&&t.append("include_inactive","true");const n=`/api/accounts/${t.toString()?`?${t.toString()}`:""}`;return(await re.get(n)).data}async function S0(e){return(await re.get(`/api/accounts/${e}`)).data}async function _0(e){return(await re.post("/api/accounts/",e)).data}async function C0(e,t){return(await re.patch(`/api/accounts/${e}`,t)).data}function ls(e=!1){return We({queryKey:["accounts",{includeInactive:e}],queryFn:()=>bu({includeInactive:e}),staleTime:1e3*60*5})}function hN(e){return We({queryKey:["accounts",e],queryFn:()=>S0(e),staleTime:1e3*60*5,enabled:!!e})}function mN(){const e=wt();return Lt({mutationFn:t=>_0(t),onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function pN(){const e=wt();return Lt({mutationFn:({id:t,data:r})=>C0(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts",r.id]}),e.invalidateQueries({queryKey:["accounts"]})}})}async function E0(){return(await re.get("/api/exchange-rates")).data}function $t(){return We({queryKey:["exchange-rates"],queryFn:E0,staleTime:24*60*60*1e3,gcTime:48*60*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function P0(){const{data:e}=$t();return(e==null?void 0:e.rates)||{}}async function xu(e){return(await re.post("/api/proxy/purchase",e)).data}async function T0(){return(await re.get("/api/proxy/outstanding")).data}async function A0(e){return(await re.post("/api/proxy/settle",e)).data}const Je=y.forwardRef(({variant:e="primary",size:t="md",loading:r=!1,className:n,children:o,disabled:i,...l},u)=>{const p=i||r;return a.jsxs("button",{ref:u,disabled:p,className:Q("inline-flex items-center justify-center gap-2 font-medium rounded-lg","transition-all duration-200 ease-out focus-ring","active:scale-[0.97] active:transition-none","disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",{"bg-primary-600 text-white hover:bg-primary-700 shadow-md hover:shadow-lg hover:-translate-y-0.5":e==="primary","bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 hover:-translate-y-0.5":e==="secondary","border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800":e==="outline","text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:-translate-y-0.5":e==="ghost","bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md":e==="danger"},{"px-3 py-1.5 text-sm":t==="sm","px-5 py-2.5":t==="md","px-8 py-4 text-lg":t==="lg"},n),...l,children:[r&&a.jsx(ei,{className:Q("animate-spin",t==="sm"?"w-3 h-3":t==="lg"?"w-5 h-5":"w-4 h-4")}),o]})});Je.displayName="Button";function Sa(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function O0({item:e,index:t,onUpdate:r,onDelete:n,onQuickMarkup:o,showDelete:i,disabled:l,inputRef:u}){const{t:p}=_e("common");return a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"sm:hidden space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["#",t+1]}),i&&a.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded min-w-[44px] min-h-[44px] flex items-center justify-center",disabled:l,"aria-label":p("button.delete"),children:a.jsx(Ro,{className:"w-4 h-4"})})]}),a.jsx("input",{ref:u,value:e.item,onChange:h=>r(e.id,"item",h.target.value),placeholder:p("proxy.itemPlaceholder","e.g., iPhone case"),className:"w-full px-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",disabled:l}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:p("proxy.cost")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.cost,onChange:h=>r(e.id,"cost",Sa(h.target.value)),placeholder:"1,000",className:"w-full pl-7 pr-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",inputMode:"numeric",disabled:l})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:p("proxy.markupPrice")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.markupPrice,onChange:h=>r(e.id,"markupPrice",Sa(h.target.value)),placeholder:"1,200",className:"w-full pl-7 pr-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",inputMode:"numeric",disabled:l})]})]})]}),a.jsx("div",{className:"flex gap-2",children:[10,15,20].map(h=>a.jsxs("button",{onClick:()=>o(e.id,h),className:"flex-1 px-2 py-2 text-xs bg-gray-200 dark:bg-gray-600 rounded hover:bg-gray-300 dark:hover:bg-gray-500 min-h-[44px]",disabled:l||!e.cost,children:["+",h,"%"]},h))})]}),a.jsxs("div",{className:"hidden sm:grid sm:grid-cols-12 sm:gap-3 sm:items-center",children:[a.jsx("div",{className:"col-span-1 text-gray-400 text-sm text-center",children:t+1}),a.jsx("div",{className:"col-span-4",children:a.jsx("input",{ref:u,value:e.item,onChange:h=>r(e.id,"item",h.target.value),placeholder:p("proxy.itemPlaceholder","e.g., iPhone case"),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",disabled:l})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.cost,onChange:h=>r(e.id,"cost",Sa(h.target.value)),placeholder:"1,000",className:"w-full pl-6 pr-2 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",inputMode:"numeric",disabled:l})]})}),a.jsx("div",{className:"col-span-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.markupPrice,onChange:h=>r(e.id,"markupPrice",Sa(h.target.value)),placeholder:"1,200",className:"w-full pl-6 pr-2 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",inputMode:"numeric",disabled:l})]}),a.jsx("div",{className:"flex gap-1",children:[10,15,20].map(h=>a.jsxs("button",{onClick:()=>o(e.id,h),className:Q("px-1.5 py-1 text-xs rounded transition-colors",e.cost?"bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500":"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed"),disabled:l||!e.cost,children:["+",h,"%"]},h))})]})}),a.jsx("div",{className:"col-span-1 text-center",children:i&&a.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",disabled:l,"aria-label":p("button.delete"),children:a.jsx(Ro,{className:"w-4 h-4"})})})]})]})}function _a(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function R0({items:e,exchangeRate:t}){const{t:r}=_e("common"),n=y.useMemo(()=>{const o=e.filter(g=>g.item.trim()||_a(g.cost)>0),i=e.reduce((g,x)=>g+_a(x.cost),0),l=e.reduce((g,x)=>{const N=_a(x.markupPrice),E=_a(x.cost);return g+(N||E)},0),u=l-i,p=l*t,h=i>0?u/i*100:0;return{itemCount:o.length,totalCost:i,totalMarkup:l,profitJpy:u,clientPaysVnd:p,marginPct:h}},[e,t]);return a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.totalCost","Total Cost"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.totalCost.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.totalMarkup","Total Markup"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.totalMarkup.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.clientPays","Client Pays"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.clientPaysVnd.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.yourProfit","Your Profit"),":"]}),a.jsxs("span",{className:Q("font-bold ml-2",n.profitJpy>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["",n.profitJpy.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("proxy.margin","Margin"),":"]}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:Q("h-full rounded-full transition-[width]",n.marginPct>=20?"bg-green-500":n.marginPct>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,n.marginPct))}%`}})}),a.jsxs("span",{className:Q("text-sm font-medium min-w-[50px] text-right",n.marginPct>=20?"text-green-600 dark:text-green-400":n.marginPct>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[n.marginPct.toFixed(1),"%"]})]})]})}function M0(){return Math.random().toString(36).substring(2,9)}function ro(){return{id:M0(),item:"",cost:"",markupPrice:"",notes:""}}function Ur(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function Ac(){return new Date().toISOString().split("T")[0]}function D0({isOpen:e,onClose:t}){const{t:r}=_e("common"),n=wt(),{data:o=[]}=ls(),{data:i}=$t(),l=y.useRef(null),[u,p]=y.useState(null),[h,g]=y.useState([ro()]),[x,N]=y.useState(""),[E,k]=y.useState(null),[j,O]=y.useState(Ac()),[W,U]=y.useState({}),[B,q]=y.useState(!1),[ee,X]=y.useState({current:0,total:0}),J=y.useMemo(()=>o.filter(Y=>Y.type==="receivable"&&Y.is_active),[o]),xe=y.useMemo(()=>o.filter(Y=>Y.type!=="receivable"&&Y.is_active),[o]),we=y.useMemo(()=>{var Y;return(Y=i==null?void 0:i.rates)!=null&&Y.VND?i.rates.VND:170},[i]);y.useEffect(()=>{e&&(p(null),g([ro()]),N(we.toFixed(1)),k(null),O(Ac()),U({}),q(!1),X({current:0,total:0}))},[e,we]);const Re=(Y,de,ce)=>{g(pe=>pe.map(Ee=>Ee.id===Y?{...Ee,[de]:ce}:Ee))},he=Y=>{h.length>1&&g(de=>de.filter(ce=>ce.id!==Y))},ue=()=>{const Y=ro();g(de=>[...de,Y]),setTimeout(()=>{var de;return(de=l.current)==null?void 0:de.focus()},100)},Ae=(Y,de)=>{g(ce=>ce.map(pe=>{if(pe.id!==Y)return pe;const Ee=Ur(pe.cost),G=Math.round(Ee*(1+de/100));return{...pe,markupPrice:G.toLocaleString("en-US")}}))},Me=()=>{const Y={};return u||(Y.client=r("proxy.errors.clientRequired","Client is required")),E||(Y.payment=r("proxy.errors.paymentRequired","Payment method is required")),(!x||parseFloat(x)<=0)&&(Y.rate=r("proxy.errors.rateRequired","Exchange rate is required")),h.filter(ce=>ce.item.trim()&&Ur(ce.cost)>0).length===0&&(Y.items=r("proxy.errors.itemsRequired","At least one item is required")),U(Y),Object.keys(Y).length===0},F=async()=>{var de;if(!Me())return;q(!0);const Y=h.filter(ce=>ce.item.trim()&&Ur(ce.cost)>0);X({current:0,total:Y.length});try{for(let ce=0;ce<Y.length;ce++){const pe=Y[ce];await xu({client_account_id:u,item:pe.item.trim(),cost:Ur(pe.cost),payment_account_id:E,markup_price:Ur(pe.markupPrice)||Ur(pe.cost),exchange_rate:parseFloat(x),purchase_date:j,notes:((de=pe.notes)==null?void 0:de.trim())||void 0}),X({current:ce+1,total:Y.length})}n.invalidateQueries({queryKey:["proxy-outstanding"]}),n.invalidateQueries({queryKey:["transactions"]}),n.invalidateQueries({queryKey:["accounts"]}),t()}catch(ce){console.error("Failed to create proxy purchases:",ce),U({submit:r("proxy.errors.submitFailed","Failed to create purchases")})}finally{q(!1)}};if(J.find(Y=>Y.id===u),!e)return null;const z=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-5 h-5 text-orange-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:r("proxy.cartTitle","Proxy Cart")}),h.length>0&&a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-full",children:[h.filter(Y=>Y.item.trim()).length," ",r("proxy.items","items")]})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:B,children:a.jsx(xt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.client")," *"]}),a.jsxs("select",{value:u||"",onChange:Y=>p(Number(Y.target.value)||null),className:Q("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700 text-sm",W.client?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:B,children:[a.jsx("option",{value:"",children:r("proxy.selectClient")}),J.map(Y=>a.jsx("option",{value:Y.id,children:Y.name.replace("Receivable: ","")},Y.id))]}),W.client&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.client}),J.length===0&&a.jsx("p",{className:"text-amber-600 text-xs mt-1",children:r("proxy.noClients")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.paymentMethod")," *"]}),a.jsxs("select",{value:E||"",onChange:Y=>k(Number(Y.target.value)||null),className:Q("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700 text-sm",W.payment?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:B,children:[a.jsx("option",{value:"",children:r("proxy.selectPayment")}),xe.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),W.payment&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.payment})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.purchaseDate")}),a.jsx("input",{type:"date",value:j,onChange:Y=>O(Y.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",disabled:B})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.exchangeRate")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:x,onChange:Y=>N(Y.target.value),placeholder:"170",className:Q("w-full px-3 py-2 pr-20 rounded-lg border bg-white dark:bg-gray-700 text-sm",W.rate?"border-red-500":"border-gray-300 dark:border-gray-600"),inputMode:"decimal",disabled:B}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs",children:"VND/JPY"})]}),W.rate&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:W.rate})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"block text-sm font-medium",children:[r("proxy.itemList","Items")," *"]}),a.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded",disabled:B,children:[a.jsx(os,{className:"w-3 h-3"}),r("proxy.addItem","Add Item")]})]}),W.items&&a.jsx("p",{className:"text-red-500 text-xs mb-2",children:W.items}),a.jsx("div",{className:"space-y-2",children:h.map((Y,de)=>a.jsx(O0,{item:Y,index:de,onUpdate:Re,onDelete:he,onQuickMarkup:Ae,showDelete:h.length>1,disabled:B,inputRef:de===h.length-1?l:void 0},Y.id))})]}),a.jsx(R0,{items:h,exchangeRate:parseFloat(x)||we}),W.submit&&a.jsx("p",{className:"text-red-500 text-sm text-center",children:W.submit})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsx(Je,{variant:"secondary",onClick:t,disabled:B,children:r("button.cancel")}),a.jsxs("div",{className:"flex items-center gap-3",children:[B&&a.jsxs("span",{className:"text-sm text-gray-500",children:[ee.current,"/",ee.total]}),a.jsx(Je,{onClick:F,disabled:B||J.length===0,children:B?r("proxy.creating","Creating..."):r("proxy.createPurchases","Create Purchases")})]})]})]})]});return typeof document>"u"?null:Ft.createPortal(z,document.body)}const I0=["/transactions"];function F0({onAddTransaction:e}){const{t}=_e("common"),r=Tt(),n=an(),[o,i]=y.useState(!1),[l,u]=y.useState(!1);if(I0.includes(n.pathname))return null;const p=[{icon:a.jsx(Zo,{size:20}),label:t("transaction.addTransaction","Add Transaction"),onClick:()=>{i(!1),e?e():r({to:"/transactions",search:{action:"add-transaction"}})},color:"bg-green-500 hover:bg-green-600"},{icon:a.jsx(Zt,{size:20}),label:t("receipt.scanReceipt","Scan Receipt"),onClick:()=>{i(!1),r({to:"/transactions",search:{action:"scan-receipt"}})},color:"bg-purple-500 hover:bg-purple-600"},{icon:a.jsx(sr,{size:20}),label:t("header.upload","Upload CSV"),onClick:()=>{i(!1),r({to:"/upload"})},color:"bg-blue-500 hover:bg-blue-600"},{icon:a.jsx(Vn,{size:20}),label:t("proxy.title","Proxy Purchase"),onClick:()=>{i(!1),u(!0)},color:"bg-orange-500 hover:bg-orange-600"}];return a.jsxs(a.Fragment,{children:[o&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-[101] md:hidden animate-fade-in",onClick:()=>i(!1)}),a.jsxs("div",{className:"fixed bottom-20 right-4 z-[102] md:hidden flex flex-col-reverse items-end gap-3",children:[o&&a.jsx("div",{className:"flex flex-col-reverse gap-3 mb-2",children:p.map((h,g)=>a.jsxs("button",{onClick:h.onClick,className:Q("flex items-center gap-3 pl-4 pr-5 py-3 rounded-full text-white shadow-lg","animate-fab-item",h.color),style:{"--fab-index":g},children:[h.icon,a.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:h.label})]},g))}),a.jsx("button",{onClick:()=>i(!o),className:Q("w-14 h-14 rounded-full shadow-lg flex items-center justify-center","transform transition-all duration-300","active:scale-95",o?"bg-gray-700 dark:bg-gray-600 rotate-45":"bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600"),"aria-label":o?t("close","Close"):t("fab.quickActions","Quick Actions"),children:o?a.jsx(xt,{size:24,className:"text-white"}):a.jsx(os,{size:24,className:"text-white"})})]}),a.jsx(D0,{isOpen:l,onClose:()=>u(!1)})]})}function L0({children:e,className:t}){const r=an(),[n,o]=y.useState("enter"),[i,l]=y.useState(e),u=y.useRef(r.pathname);return y.useEffect(()=>{if(u.current===r.pathname){l(e);return}u.current=r.pathname,o("exit");const p=setTimeout(()=>{l(e),o("enter")},120);return()=>clearTimeout(p)},[r.pathname]),y.useEffect(()=>{u.current===r.pathname&&l(e)},[e,r.pathname]),a.jsx("div",{className:Q("transition-[opacity,transform] ease-out",n==="enter"?"duration-250 opacity-100 translate-y-0":"duration-100 opacity-0 translate-y-1",t),children:i})}var Oc=1,q0=.9,$0=.8,B0=.17,no=.1,ao=.999,K0=.9999,W0=.99,U0=/[\\\/_+.#"@\[\(\{&]/,z0=/[\\\/_+.#"@\[\(\{&]/g,H0=/[\s-]/,vu=/[\s-]/g;function Fo(e,t,r,n,o,i,l){if(i===t.length)return o===e.length?Oc:W0;var u=`${o},${i}`;if(l[u]!==void 0)return l[u];for(var p=n.charAt(i),h=r.indexOf(p,o),g=0,x,N,E,k;h>=0;)x=Fo(e,t,r,n,h+1,i+1,l),x>g&&(h===o?x*=Oc:U0.test(e.charAt(h-1))?(x*=$0,E=e.slice(o,h-1).match(z0),E&&o>0&&(x*=Math.pow(ao,E.length))):H0.test(e.charAt(h-1))?(x*=q0,k=e.slice(o,h-1).match(vu),k&&o>0&&(x*=Math.pow(ao,k.length))):(x*=B0,o>0&&(x*=Math.pow(ao,h-o))),e.charAt(h)!==t.charAt(i)&&(x*=K0)),(x<no&&r.charAt(h-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(h-1)!==n.charAt(i))&&(N=Fo(e,t,r,n,h+1,i+2,l),N*no>x&&(x=N*no)),x>g&&(g=x),h=r.indexOf(p,h+1);return l[u]=g,g}function Rc(e){return e.toLowerCase().replace(vu," ")}function V0(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Fo(e,t,Rc(e),Rc(t),0,0,{})}function Jt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Mc(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tr(...e){return t=>{let r=!1;const n=e.map(o=>{const i=Mc(o,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let o=0;o<n.length;o++){const i=n[o];typeof i=="function"?i():Mc(e[o],null)}}}}function Dr(...e){return y.useCallback(tr(...e),e)}function Y0(e,t){const r=y.createContext(t),n=i=>{const{children:l,...u}=i,p=y.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:p,children:l})};n.displayName=e+"Provider";function o(i){const l=y.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,o]}function G0(e,t=[]){let r=[];function n(i,l){const u=y.createContext(l),p=r.length;r=[...r,l];const h=x=>{var W;const{scope:N,children:E,...k}=x,j=((W=N==null?void 0:N[e])==null?void 0:W[p])||u,O=y.useMemo(()=>k,Object.values(k));return a.jsx(j.Provider,{value:O,children:E})};h.displayName=i+"Provider";function g(x,N){var j;const E=((j=N==null?void 0:N[e])==null?void 0:j[p])||u,k=y.useContext(E);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${i}\``)}return[h,g]}const o=()=>{const i=r.map(l=>y.createContext(l));return function(u){const p=(u==null?void 0:u[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:p}}),[u,p])}};return o.scopeName=e,[n,X0(o,...t)]}function X0(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const l=n.reduce((u,{useScope:p,scopeName:h})=>{const x=p(i)[`__scope${h}`];return{...u,...x}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var In=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Q0=zo[" useId ".trim().toString()]||(()=>{}),J0=0;function Mt(e){const[t,r]=y.useState(Q0());return In(()=>{r(n=>n??String(J0++))},[e]),t?`radix-${t}`:""}var Z0=zo[" useInsertionEffect ".trim().toString()]||In;function ey({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,i,l]=ty({defaultProp:t,onChange:r}),u=e!==void 0,p=u?e:o;{const g=y.useRef(e!==void 0);y.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,n])}const h=y.useCallback(g=>{var x;if(u){const N=ry(g)?g(e):g;N!==e&&((x=l.current)==null||x.call(l,N))}else i(g)},[u,e,i,l]);return[p,h]}function ty({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),o=y.useRef(r),i=y.useRef(t);return Z0(()=>{i.current=t},[t]),y.useEffect(()=>{var l;o.current!==r&&((l=i.current)==null||l.call(i,r),o.current=r)},[r,o]),[r,n,i]}function ry(e){return typeof e=="function"}function Yn(e){const t=ny(e),r=y.forwardRef((n,o)=>{const{children:i,...l}=n,u=y.Children.toArray(i),p=u.find(sy);if(p){const h=p.props.children,g=u.map(x=>x===p?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:x);return a.jsx(t,{...l,ref:o,children:y.isValidElement(h)?y.cloneElement(h,void 0,g):null})}return a.jsx(t,{...l,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function ny(e){const t=y.forwardRef((r,n)=>{const{children:o,...i}=r;if(y.isValidElement(o)){const l=iy(o),u=oy(i,o.props);return o.type!==y.Fragment&&(u.ref=n?tr(n,l):l),y.cloneElement(o,u)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ay=Symbol("radix.slottable");function sy(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ay}function oy(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...u)=>{const p=i(...u);return o(...u),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function iy(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wu=cy.reduce((e,t)=>{const r=Yn(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ly(e,t){e&&Ft.flushSync(()=>e.dispatchEvent(t))}function Fn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function uy(e,t=globalThis==null?void 0:globalThis.document){const r=Fn(e);y.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var dy="DismissableLayer",Lo="dismissableLayer.update",fy="dismissableLayer.pointerDownOutside",hy="dismissableLayer.focusOutside",Dc,ku=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...p}=e,h=y.useContext(ku),[g,x]=y.useState(null),N=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=y.useState({}),k=Dr(t,J=>x(J)),j=Array.from(h.layers),[O]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),W=j.indexOf(O),U=g?j.indexOf(g):-1,B=h.layersWithOutsidePointerEventsDisabled.size>0,q=U>=W,ee=gy(J=>{const xe=J.target,we=[...h.branches].some(Re=>Re.contains(xe));!q||we||(o==null||o(J),l==null||l(J),J.defaultPrevented||u==null||u())},N),X=yy(J=>{const xe=J.target;[...h.branches].some(Re=>Re.contains(xe))||(i==null||i(J),l==null||l(J),J.defaultPrevented||u==null||u())},N);return uy(J=>{U===h.layers.size-1&&(n==null||n(J),!J.defaultPrevented&&u&&(J.preventDefault(),u()))},N),y.useEffect(()=>{if(g)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Dc=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(g)),h.layers.add(g),Ic(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Dc)}},[g,N,r,h]),y.useEffect(()=>()=>{g&&(h.layers.delete(g),h.layersWithOutsidePointerEventsDisabled.delete(g),Ic())},[g,h]),y.useEffect(()=>{const J=()=>E({});return document.addEventListener(Lo,J),()=>document.removeEventListener(Lo,J)},[]),a.jsx(wu.div,{...p,ref:k,style:{pointerEvents:B?q?"auto":"none":void 0,...e.style},onFocusCapture:Jt(e.onFocusCapture,X.onFocusCapture),onBlurCapture:Jt(e.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Jt(e.onPointerDownCapture,ee.onPointerDownCapture)})});ju.displayName=dy;var my="DismissableLayerBranch",py=y.forwardRef((e,t)=>{const r=y.useContext(ku),n=y.useRef(null),o=Dr(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(wu.div,{...e,ref:o})});py.displayName=my;function gy(e,t=globalThis==null?void 0:globalThis.document){const r=Fn(e),n=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const i=u=>{if(u.target&&!n.current){let p=function(){Nu(fy,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=p,t.addEventListener("click",o.current,{once:!0})):p()}else t.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yy(e,t=globalThis==null?void 0:globalThis.document){const r=Fn(e),n=y.useRef(!1);return y.useEffect(()=>{const o=i=>{i.target&&!n.current&&Nu(hy,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ic(){const e=new CustomEvent(Lo);document.dispatchEvent(e)}function Nu(e,t,r,{discrete:n}){const o=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?ly(o,i):o.dispatchEvent(i)}var by=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xy=by.reduce((e,t)=>{const r=Yn(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),so="focusScope.autoFocusOnMount",oo="focusScope.autoFocusOnUnmount",Fc={bubbles:!1,cancelable:!0},vy="FocusScope",Su=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...l}=e,[u,p]=y.useState(null),h=Fn(o),g=Fn(i),x=y.useRef(null),N=Dr(t,j=>p(j)),E=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let j=function(B){if(E.paused||!u)return;const q=B.target;u.contains(q)?x.current=q:Qt(x.current,{select:!0})},O=function(B){if(E.paused||!u)return;const q=B.relatedTarget;q!==null&&(u.contains(q)||Qt(x.current,{select:!0}))},W=function(B){if(document.activeElement===document.body)for(const ee of B)ee.removedNodes.length>0&&Qt(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",O);const U=new MutationObserver(W);return u&&U.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",O),U.disconnect()}}},[n,u,E.paused]),y.useEffect(()=>{if(u){qc.add(E);const j=document.activeElement;if(!u.contains(j)){const W=new CustomEvent(so,Fc);u.addEventListener(so,h),u.dispatchEvent(W),W.defaultPrevented||(wy(_y(_u(u)),{select:!0}),document.activeElement===j&&Qt(u))}return()=>{u.removeEventListener(so,h),setTimeout(()=>{const W=new CustomEvent(oo,Fc);u.addEventListener(oo,g),u.dispatchEvent(W),W.defaultPrevented||Qt(j??document.body,{select:!0}),u.removeEventListener(oo,g),qc.remove(E)},0)}}},[u,h,g,E]);const k=y.useCallback(j=>{if(!r&&!n||E.paused)return;const O=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,W=document.activeElement;if(O&&W){const U=j.currentTarget,[B,q]=ky(U);B&&q?!j.shiftKey&&W===q?(j.preventDefault(),r&&Qt(B,{select:!0})):j.shiftKey&&W===B&&(j.preventDefault(),r&&Qt(q,{select:!0})):W===U&&j.preventDefault()}},[r,n,E.paused]);return a.jsx(xy.div,{tabIndex:-1,...l,ref:N,onKeyDown:k})});Su.displayName=vy;function wy(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Qt(n,{select:t}),document.activeElement!==r)return}function ky(e){const t=_u(e),r=Lc(t,e),n=Lc(t.reverse(),e);return[r,n]}function _u(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Lc(e,t){for(const r of e)if(!jy(r,{upTo:t}))return r}function jy(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ny(e){return e instanceof HTMLInputElement&&"select"in e}function Qt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ny(e)&&t&&e.select()}}var qc=Sy();function Sy(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$c(e,t),e.unshift(t)},remove(t){var r;e=$c(e,t),(r=e[0])==null||r.resume()}}}function $c(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _y(e){return e.filter(t=>t.tagName!=="A")}var Cy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ey=Cy.reduce((e,t)=>{const r=Yn(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Py="Portal",Cu=y.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,i]=y.useState(!1);In(()=>i(!0),[]);const l=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?of.createPortal(a.jsx(Ey.div,{...n,ref:t}),l):null});Cu.displayName=Py;function Ty(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=Ay(t),o=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Dr(n.ref,Oy(o));return typeof r=="function"||n.isPresent?y.cloneElement(o,{ref:i}):null};us.displayName="Presence";function Ay(e){const[t,r]=y.useState(),n=y.useRef(null),o=y.useRef(e),i=y.useRef("none"),l=e?"mounted":"unmounted",[u,p]=Ty(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=Ca(n.current);i.current=u==="mounted"?h:"none"},[u]),In(()=>{const h=n.current,g=o.current;if(g!==e){const N=i.current,E=Ca(h);e?p("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?p("UNMOUNT"):p(g&&N!==E?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),In(()=>{if(t){let h;const g=t.ownerDocument.defaultView??window,x=E=>{const j=Ca(n.current).includes(CSS.escape(E.animationName));if(E.target===t&&j&&(p("ANIMATION_END"),!o.current)){const O=t.style.animationFillMode;t.style.animationFillMode="forwards",h=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=O)})}},N=E=>{E.target===t&&(i.current=Ca(n.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(h),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Ca(e){return(e==null?void 0:e.animationName)||"none"}function Oy(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ry=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gn=Ry.reduce((e,t)=>{const r=Yn(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),io=0;function My(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bc()),document.body.insertAdjacentElement("beforeend",e[1]??Bc()),io++,()=>{io===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),io--}},[])}function Bc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qo=function(e,t){return qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},qo(e,t)};function gN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qo(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Pt=function(){return Pt=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pt.apply(this,arguments)};function Eu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Dy(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var $a="right-scroll-bar-position",Ba="width-before-scroll-bar",Iy="with-scroll-bars-hidden",Fy="--removed-body-scroll-bar-size";function co(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ly(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var qy=typeof window<"u"?y.useLayoutEffect:y.useEffect,Kc=new WeakMap;function $y(e,t){var r=Ly(null,function(n){return e.forEach(function(o){return co(o,n)})});return qy(function(){var n=Kc.get(r);if(n){var o=new Set(n),i=new Set(e),l=r.current;o.forEach(function(u){i.has(u)||co(u,null)}),i.forEach(function(u){o.has(u)||co(u,l)})}Kc.set(r,e)},[e]),r}function By(e){return e}function Ky(e,t){t===void 0&&(t=By);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(u){return i(u)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(i),l=r}var p=function(){var g=l;l=[],g.forEach(i)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(g){l.push(g),h()},filter:function(g){return l=l.filter(g),r}}}};return o}function Wy(e){e===void 0&&(e={});var t=Ky(null);return t.options=Pt({async:!0,ssr:!1},e),t}var Pu=function(e){var t=e.sideCar,r=Eu(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Pt({},r))};Pu.isSideCarExport=!0;function Uy(e,t){return e.useMedium(t),Pu}var Tu=Wy(),lo=function(){},ds=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:lo,onWheelCapture:lo,onTouchMoveCapture:lo}),o=n[0],i=n[1],l=e.forwardProps,u=e.children,p=e.className,h=e.removeScrollBar,g=e.enabled,x=e.shards,N=e.sideCar,E=e.noRelative,k=e.noIsolation,j=e.inert,O=e.allowPinchZoom,W=e.as,U=W===void 0?"div":W,B=e.gapMode,q=Eu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=N,X=$y([r,t]),J=Pt(Pt({},q),o);return y.createElement(y.Fragment,null,g&&y.createElement(ee,{sideCar:Tu,removeScrollBar:h,shards:x,noRelative:E,noIsolation:k,inert:j,setCallbacks:i,allowPinchZoom:!!O,lockRef:r,gapMode:B}),l?y.cloneElement(y.Children.only(u),Pt(Pt({},J),{ref:X})):y.createElement(U,Pt({},J,{className:p,ref:X}),u))});ds.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ds.classNames={fullWidth:Ba,zeroRight:$a};var zy=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hy(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zy();return t&&e.setAttribute("nonce",t),e}function Vy(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Yy(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Gy=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Hy())&&(Vy(t,r),Yy(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Xy=function(){var e=Gy();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Au=function(){var e=Xy(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},Qy={left:0,top:0,right:0,gap:0},uo=function(e){return parseInt(e||"",10)||0},Jy=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[uo(r),uo(n),uo(o)]},Zy=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Qy;var t=Jy(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eb=Au(),tn="data-scroll-locked",tb=function(e,t,r,n){var o=e.left,i=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Iy,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(tn,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($a,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ba,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat($a," .").concat($a,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ba," .").concat(Ba,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(tn,`] {
    `).concat(Fy,": ").concat(u,`px;
  }
`)},Wc=function(){var e=parseInt(document.body.getAttribute(tn)||"0",10);return isFinite(e)?e:0},rb=function(){y.useEffect(function(){return document.body.setAttribute(tn,(Wc()+1).toString()),function(){var e=Wc()-1;e<=0?document.body.removeAttribute(tn):document.body.setAttribute(tn,e.toString())}},[])},nb=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;rb();var i=y.useMemo(function(){return Zy(o)},[o]);return y.createElement(eb,{styles:tb(i,!t,o,r?"":"!important")})},$o=!1;if(typeof window<"u")try{var Ea=Object.defineProperty({},"passive",{get:function(){return $o=!0,!0}});window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{$o=!1}var zr=$o?{passive:!1}:!1,ab=function(e){return e.tagName==="TEXTAREA"},Ou=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ab(e)&&r[t]==="visible")},sb=function(e){return Ou(e,"overflowY")},ob=function(e){return Ou(e,"overflowX")},Uc=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Ru(e,n);if(o){var i=Mu(e,n),l=i[1],u=i[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},ib=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cb=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ru=function(e,t){return e==="v"?sb(t):ob(t)},Mu=function(e,t){return e==="v"?ib(t):cb(t)},lb=function(e,t){return e==="h"&&t==="rtl"?-1:1},ub=function(e,t,r,n,o){var i=lb(e,window.getComputedStyle(t).direction),l=i*n,u=r.target,p=t.contains(u),h=!1,g=l>0,x=0,N=0;do{if(!u)break;var E=Mu(e,u),k=E[0],j=E[1],O=E[2],W=j-O-i*k;(k||W)&&Ru(e,u)&&(x+=W,N+=k);var U=u.parentNode;u=U&&U.nodeType===Node.DOCUMENT_FRAGMENT_NODE?U.host:U}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(g&&Math.abs(x)<1||!g&&Math.abs(N)<1)&&(h=!0),h},Pa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zc=function(e){return[e.deltaX,e.deltaY]},Hc=function(e){return e&&"current"in e?e.current:e},db=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fb=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hb=0,Hr=[];function mb(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),o=y.useState(hb++)[0],i=y.useState(Au)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=Dy([e.lockRef.current],(e.shards||[]).map(Hc),!0).filter(Boolean);return j.forEach(function(O){return O.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(j,O){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!l.current.allowPinchZoom;var W=Pa(j),U=r.current,B="deltaX"in j?j.deltaX:U[0]-W[0],q="deltaY"in j?j.deltaY:U[1]-W[1],ee,X=j.target,J=Math.abs(B)>Math.abs(q)?"h":"v";if("touches"in j&&J==="h"&&X.type==="range")return!1;var xe=window.getSelection(),we=xe&&xe.anchorNode,Re=we?we===X||we.contains(X):!1;if(Re)return!1;var he=Uc(J,X);if(!he)return!0;if(he?ee=J:(ee=J==="v"?"h":"v",he=Uc(J,X)),!he)return!1;if(!n.current&&"changedTouches"in j&&(B||q)&&(n.current=ee),!ee)return!0;var ue=n.current||ee;return ub(ue,O,j,ue==="h"?B:q)},[]),p=y.useCallback(function(j){var O=j;if(!(!Hr.length||Hr[Hr.length-1]!==i)){var W="deltaY"in O?zc(O):Pa(O),U=t.current.filter(function(ee){return ee.name===O.type&&(ee.target===O.target||O.target===ee.shadowParent)&&db(ee.delta,W)})[0];if(U&&U.should){O.cancelable&&O.preventDefault();return}if(!U){var B=(l.current.shards||[]).map(Hc).filter(Boolean).filter(function(ee){return ee.contains(O.target)}),q=B.length>0?u(O,B[0]):!l.current.noIsolation;q&&O.cancelable&&O.preventDefault()}}},[]),h=y.useCallback(function(j,O,W,U){var B={name:j,delta:O,target:W,should:U,shadowParent:pb(W)};t.current.push(B),setTimeout(function(){t.current=t.current.filter(function(q){return q!==B})},1)},[]),g=y.useCallback(function(j){r.current=Pa(j),n.current=void 0},[]),x=y.useCallback(function(j){h(j.type,zc(j),j.target,u(j,e.lockRef.current))},[]),N=y.useCallback(function(j){h(j.type,Pa(j),j.target,u(j,e.lockRef.current))},[]);y.useEffect(function(){return Hr.push(i),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:N}),document.addEventListener("wheel",p,zr),document.addEventListener("touchmove",p,zr),document.addEventListener("touchstart",g,zr),function(){Hr=Hr.filter(function(j){return j!==i}),document.removeEventListener("wheel",p,zr),document.removeEventListener("touchmove",p,zr),document.removeEventListener("touchstart",g,zr)}},[]);var E=e.removeScrollBar,k=e.inert;return y.createElement(y.Fragment,null,k?y.createElement(i,{styles:fb(o)}):null,E?y.createElement(nb,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gb=Uy(Tu,mb);var Du=y.forwardRef(function(e,t){return y.createElement(ds,Pt({},e,{ref:t,sideCar:gb}))});Du.classNames=ds.classNames;var yb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vr=new WeakMap,Ta=new WeakMap,Aa={},fo=0,Iu=function(e){return e&&(e.host||Iu(e.parentNode))},bb=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Iu(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xb=function(e,t,r,n){var o=bb(t,Array.isArray(e)?e:[e]);Aa[r]||(Aa[r]=new WeakMap);var i=Aa[r],l=[],u=new Set,p=new Set(o),h=function(x){!x||u.has(x)||(u.add(x),h(x.parentNode))};o.forEach(h);var g=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(N){if(u.has(N))g(N);else try{var E=N.getAttribute(n),k=E!==null&&E!=="false",j=(Vr.get(N)||0)+1,O=(i.get(N)||0)+1;Vr.set(N,j),i.set(N,O),l.push(N),j===1&&k&&Ta.set(N,!0),O===1&&N.setAttribute(r,"true"),k||N.setAttribute(n,"true")}catch(W){console.error("aria-hidden: cannot operate on ",N,W)}})};return g(t),u.clear(),fo++,function(){l.forEach(function(x){var N=Vr.get(x)-1,E=i.get(x)-1;Vr.set(x,N),i.set(x,E),N||(Ta.has(x)||x.removeAttribute(n),Ta.delete(x)),E||x.removeAttribute(r)}),fo--,fo||(Vr=new WeakMap,Vr=new WeakMap,Ta=new WeakMap,Aa={})}},vb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=yb(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),xb(n,o,r,"aria-hidden")):function(){return null}},fs="Dialog",[Fu]=G0(fs),[wb,jt]=Fu(fs),Lu=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,u=y.useRef(null),p=y.useRef(null),[h,g]=ey({prop:n,defaultProp:o??!1,onChange:i,caller:fs});return a.jsx(wb,{scope:t,triggerRef:u,contentRef:p,contentId:Mt(),titleId:Mt(),descriptionId:Mt(),open:h,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(x=>!x),[g]),modal:l,children:r})};Lu.displayName=fs;var qu="DialogTrigger",kb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jt(qu,r),i=Dr(t,o.triggerRef);return a.jsx(Gn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":si(o.open),...n,ref:i,onClick:Jt(e.onClick,o.onOpenToggle)})});kb.displayName=qu;var ni="DialogPortal",[jb,$u]=Fu(ni,{forceMount:void 0}),Bu=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,i=jt(ni,t);return a.jsx(jb,{scope:t,forceMount:r,children:y.Children.map(n,l=>a.jsx(us,{present:r||i.open,children:a.jsx(Cu,{asChild:!0,container:o,children:l})}))})};Bu.displayName=ni;var Va="DialogOverlay",Ku=y.forwardRef((e,t)=>{const r=$u(Va,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=jt(Va,e.__scopeDialog);return i.modal?a.jsx(us,{present:n||i.open,children:a.jsx(Sb,{...o,ref:t})}):null});Ku.displayName=Va;var Nb=Yn("DialogOverlay.RemoveScroll"),Sb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jt(Va,r);return a.jsx(Du,{as:Nb,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Gn.div,{"data-state":si(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Tr="DialogContent",Wu=y.forwardRef((e,t)=>{const r=$u(Tr,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,i=jt(Tr,e.__scopeDialog);return a.jsx(us,{present:n||i.open,children:i.modal?a.jsx(_b,{...o,ref:t}):a.jsx(Cb,{...o,ref:t})})});Wu.displayName=Tr;var _b=y.forwardRef((e,t)=>{const r=jt(Tr,e.__scopeDialog),n=y.useRef(null),o=Dr(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return vb(i)},[]),a.jsx(Uu,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Jt(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Jt(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Jt(e.onFocusOutside,i=>i.preventDefault())})}),Cb=y.forwardRef((e,t)=>{const r=jt(Tr,e.__scopeDialog),n=y.useRef(!1),o=y.useRef(!1);return a.jsx(Uu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),i.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:i=>{var p,h;(p=e.onInteractOutside)==null||p.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Uu=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:i,...l}=e,u=jt(Tr,r),p=y.useRef(null),h=Dr(t,p);return My(),a.jsxs(a.Fragment,{children:[a.jsx(Su,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:i,children:a.jsx(ju,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":si(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Ab,{titleId:u.titleId}),a.jsx(Rb,{contentRef:p,descriptionId:u.descriptionId})]})]})}),ai="DialogTitle",Eb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jt(ai,r);return a.jsx(Gn.h2,{id:o.titleId,...n,ref:t})});Eb.displayName=ai;var zu="DialogDescription",Pb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jt(zu,r);return a.jsx(Gn.p,{id:o.descriptionId,...n,ref:t})});Pb.displayName=zu;var Hu="DialogClose",Tb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jt(Hu,r);return a.jsx(Gn.button,{type:"button",...n,ref:t,onClick:Jt(e.onClick,()=>o.onOpenChange(!1))})});Tb.displayName=Hu;function si(e){return e?"open":"closed"}var Vu="DialogTitleWarning",[yN,Yu]=Y0(Vu,{contentName:Tr,titleName:ai,docsSlug:"dialog"}),Ab=({titleId:e})=>{const t=Yu(Vu),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ob="DialogDescriptionWarning",Rb=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Yu(Ob).contentName}}.`;return y.useEffect(()=>{var i;const o=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Mb=Lu,Db=Bu,Ib=Ku,Fb=Wu,Lb=Symbol.for("react.lazy"),Ya=zo[" use ".trim().toString()];function qb(e){return typeof e=="object"&&e!==null&&"then"in e}function Gu(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Lb&&"_payload"in e&&qb(e._payload)}function $b(e){const t=Bb(e),r=y.forwardRef((n,o)=>{let{children:i,...l}=n;Gu(i)&&typeof Ya=="function"&&(i=Ya(i._payload));const u=y.Children.toArray(i),p=u.find(Wb);if(p){const h=p.props.children,g=u.map(x=>x===p?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:x);return a.jsx(t,{...l,ref:o,children:y.isValidElement(h)?y.cloneElement(h,void 0,g):null})}return a.jsx(t,{...l,ref:o,children:i})});return r.displayName=`${e}.Slot`,r}function Bb(e){const t=y.forwardRef((r,n)=>{let{children:o,...i}=r;if(Gu(o)&&typeof Ya=="function"&&(o=Ya(o._payload)),y.isValidElement(o)){const l=zb(o),u=Ub(i,o.props);return o.type!==y.Fragment&&(u.ref=n?tr(n,l):l),y.cloneElement(o,u)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kb=Symbol("radix.slottable");function Wb(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kb}function Ub(e,t){const r={...t};for(const n in t){const o=e[n],i=t[n];/^on[A-Z]/.test(n)?o&&i?r[n]=(...u)=>{const p=i(...u);return o(...u),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...i}:n==="className"&&(r[n]=[o,i].filter(Boolean).join(" "))}return{...e,...r}}function zb(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],or=Hb.reduce((e,t)=>{const r=$b(`Primitive.${t}`),n=y.forwardRef((o,i)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Tn='[cmdk-group=""]',ho='[cmdk-group-items=""]',Vb='[cmdk-group-heading=""]',Xu='[cmdk-item=""]',Vc=`${Xu}:not([aria-disabled="true"])`,Bo="cmdk-item-select",Jr="data-value",Yb=(e,t,r)=>V0(e,t,r),Qu=y.createContext(void 0),Xn=()=>y.useContext(Qu),Ju=y.createContext(void 0),oi=()=>y.useContext(Ju),Zu=y.createContext(void 0),ed=y.forwardRef((e,t)=>{let r=Zr(()=>{var G,H;return{search:"",value:(H=(G=e.value)!=null?G:e.defaultValue)!=null?H:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Zr(()=>new Set),o=Zr(()=>new Map),i=Zr(()=>new Map),l=Zr(()=>new Set),u=td(e),{label:p,children:h,value:g,onValueChange:x,filter:N,shouldFilter:E,loop:k,disablePointerSelection:j=!1,vimBindings:O=!0,...W}=e,U=Mt(),B=Mt(),q=Mt(),ee=y.useRef(null),X=sx();Ar(()=>{if(g!==void 0){let G=g.trim();r.current.value=G,J.emit()}},[g]),Ar(()=>{X(6,Ae)},[]);let J=y.useMemo(()=>({subscribe:G=>(l.current.add(G),()=>l.current.delete(G)),snapshot:()=>r.current,setState:(G,H,ge)=>{var ye,Z,De,at;if(!Object.is(r.current[G],H)){if(r.current[G]=H,G==="search")ue(),Re(),X(1,he);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let fe=document.getElementById(q);fe?fe.focus():(ye=document.getElementById(U))==null||ye.focus()}if(X(7,()=>{var fe;r.current.selectedItemId=(fe=Me())==null?void 0:fe.id,J.emit()}),ge||X(5,Ae),((Z=u.current)==null?void 0:Z.value)!==void 0){let fe=H??"";(at=(De=u.current).onValueChange)==null||at.call(De,fe);return}}J.emit()}},emit:()=>{l.current.forEach(G=>G())}}),[]),xe=y.useMemo(()=>({value:(G,H,ge)=>{var ye;H!==((ye=i.current.get(G))==null?void 0:ye.value)&&(i.current.set(G,{value:H,keywords:ge}),r.current.filtered.items.set(G,we(H,ge)),X(2,()=>{Re(),J.emit()}))},item:(G,H)=>(n.current.add(G),H&&(o.current.has(H)?o.current.get(H).add(G):o.current.set(H,new Set([G]))),X(3,()=>{ue(),Re(),r.current.value||he(),J.emit()}),()=>{i.current.delete(G),n.current.delete(G),r.current.filtered.items.delete(G);let ge=Me();X(4,()=>{ue(),(ge==null?void 0:ge.getAttribute("id"))===G&&he(),J.emit()})}),group:G=>(o.current.has(G)||o.current.set(G,new Set),()=>{i.current.delete(G),o.current.delete(G)}),filter:()=>u.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:U,inputId:q,labelId:B,listInnerRef:ee}),[]);function we(G,H){var ge,ye;let Z=(ye=(ge=u.current)==null?void 0:ge.filter)!=null?ye:Yb;return G?Z(G,r.current.search,H):0}function Re(){if(!r.current.search||u.current.shouldFilter===!1)return;let G=r.current.filtered.items,H=[];r.current.filtered.groups.forEach(ye=>{let Z=o.current.get(ye),De=0;Z.forEach(at=>{let fe=G.get(at);De=Math.max(fe,De)}),H.push([ye,De])});let ge=ee.current;F().sort((ye,Z)=>{var De,at;let fe=ye.getAttribute("id"),cr=Z.getAttribute("id");return((De=G.get(cr))!=null?De:0)-((at=G.get(fe))!=null?at:0)}).forEach(ye=>{let Z=ye.closest(ho);Z?Z.appendChild(ye.parentElement===Z?ye:ye.closest(`${ho} > *`)):ge.appendChild(ye.parentElement===ge?ye:ye.closest(`${ho} > *`))}),H.sort((ye,Z)=>Z[1]-ye[1]).forEach(ye=>{var Z;let De=(Z=ee.current)==null?void 0:Z.querySelector(`${Tn}[${Jr}="${encodeURIComponent(ye[0])}"]`);De==null||De.parentElement.appendChild(De)})}function he(){let G=F().find(ge=>ge.getAttribute("aria-disabled")!=="true"),H=G==null?void 0:G.getAttribute(Jr);J.setState("value",H||void 0)}function ue(){var G,H,ge,ye;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Z=0;for(let De of n.current){let at=(H=(G=i.current.get(De))==null?void 0:G.value)!=null?H:"",fe=(ye=(ge=i.current.get(De))==null?void 0:ge.keywords)!=null?ye:[],cr=we(at,fe);r.current.filtered.items.set(De,cr),cr>0&&Z++}for(let[De,at]of o.current)for(let fe of at)if(r.current.filtered.items.get(fe)>0){r.current.filtered.groups.add(De);break}r.current.filtered.count=Z}function Ae(){var G,H,ge;let ye=Me();ye&&(((G=ye.parentElement)==null?void 0:G.firstChild)===ye&&((ge=(H=ye.closest(Tn))==null?void 0:H.querySelector(Vb))==null||ge.scrollIntoView({block:"nearest"})),ye.scrollIntoView({block:"nearest"}))}function Me(){var G;return(G=ee.current)==null?void 0:G.querySelector(`${Xu}[aria-selected="true"]`)}function F(){var G;return Array.from(((G=ee.current)==null?void 0:G.querySelectorAll(Vc))||[])}function z(G){let H=F()[G];H&&J.setState("value",H.getAttribute(Jr))}function Y(G){var H;let ge=Me(),ye=F(),Z=ye.findIndex(at=>at===ge),De=ye[Z+G];(H=u.current)!=null&&H.loop&&(De=Z+G<0?ye[ye.length-1]:Z+G===ye.length?ye[0]:ye[Z+G]),De&&J.setState("value",De.getAttribute(Jr))}function de(G){let H=Me(),ge=H==null?void 0:H.closest(Tn),ye;for(;ge&&!ye;)ge=G>0?nx(ge,Tn):ax(ge,Tn),ye=ge==null?void 0:ge.querySelector(Vc);ye?J.setState("value",ye.getAttribute(Jr)):Y(G)}let ce=()=>z(F().length-1),pe=G=>{G.preventDefault(),G.metaKey?ce():G.altKey?de(1):Y(1)},Ee=G=>{G.preventDefault(),G.metaKey?z(0):G.altKey?de(-1):Y(-1)};return y.createElement(or.div,{ref:t,tabIndex:-1,...W,"cmdk-root":"",onKeyDown:G=>{var H;(H=W.onKeyDown)==null||H.call(W,G);let ge=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||ge))switch(G.key){case"n":case"j":{O&&G.ctrlKey&&pe(G);break}case"ArrowDown":{pe(G);break}case"p":case"k":{O&&G.ctrlKey&&Ee(G);break}case"ArrowUp":{Ee(G);break}case"Home":{G.preventDefault(),z(0);break}case"End":{G.preventDefault(),ce();break}case"Enter":{G.preventDefault();let ye=Me();if(ye){let Z=new Event(Bo);ye.dispatchEvent(Z)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:xe.inputId,id:xe.labelId,style:ix},p),hs(e,G=>y.createElement(Ju.Provider,{value:J},y.createElement(Qu.Provider,{value:xe},G))))}),Gb=y.forwardRef((e,t)=>{var r,n;let o=Mt(),i=y.useRef(null),l=y.useContext(Zu),u=Xn(),p=td(e),h=(n=(r=p.current)==null?void 0:r.forceMount)!=null?n:l==null?void 0:l.forceMount;Ar(()=>{if(!h)return u.item(o,l==null?void 0:l.id)},[h]);let g=rd(o,i,[e.value,e.children,i],e.keywords),x=oi(),N=rr(X=>X.value&&X.value===g.current),E=rr(X=>h||u.filter()===!1?!0:X.search?X.filtered.items.get(o)>0:!0);y.useEffect(()=>{let X=i.current;if(!(!X||e.disabled))return X.addEventListener(Bo,k),()=>X.removeEventListener(Bo,k)},[E,e.onSelect,e.disabled]);function k(){var X,J;j(),(J=(X=p.current).onSelect)==null||J.call(X,g.current)}function j(){x.setState("value",g.current,!0)}if(!E)return null;let{disabled:O,value:W,onSelect:U,forceMount:B,keywords:q,...ee}=e;return y.createElement(or.div,{ref:tr(i,t),...ee,id:o,"cmdk-item":"",role:"option","aria-disabled":!!O,"aria-selected":!!N,"data-disabled":!!O,"data-selected":!!N,onPointerMove:O||u.getDisablePointerSelection()?void 0:j,onClick:O?void 0:k},e.children)}),Xb=y.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...i}=e,l=Mt(),u=y.useRef(null),p=y.useRef(null),h=Mt(),g=Xn(),x=rr(E=>o||g.filter()===!1?!0:E.search?E.filtered.groups.has(l):!0);Ar(()=>g.group(l),[]),rd(l,u,[e.value,e.heading,p]);let N=y.useMemo(()=>({id:l,forceMount:o}),[o]);return y.createElement(or.div,{ref:tr(u,t),...i,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},r&&y.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),hs(e,E=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},y.createElement(Zu.Provider,{value:N},E))))}),Qb=y.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=y.useRef(null),i=rr(l=>!l.search);return!r&&!i?null:y.createElement(or.div,{ref:tr(o,t),...n,"cmdk-separator":"",role:"separator"})}),Jb=y.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,i=oi(),l=rr(h=>h.search),u=rr(h=>h.selectedItemId),p=Xn();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(or.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":u,id:p.inputId,type:"text",value:o?e.value:l,onChange:h=>{o||i.setState("search",h.target.value),r==null||r(h.target.value)}})}),Zb=y.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,i=y.useRef(null),l=y.useRef(null),u=rr(h=>h.selectedItemId),p=Xn();return y.useEffect(()=>{if(l.current&&i.current){let h=l.current,g=i.current,x,N=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let E=h.offsetHeight;g.style.setProperty("--cmdk-list-height",E.toFixed(1)+"px")})});return N.observe(h),()=>{cancelAnimationFrame(x),N.unobserve(h)}}},[]),y.createElement(or.div,{ref:tr(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:p.listId},hs(e,h=>y.createElement("div",{ref:tr(l,p.listInnerRef),"cmdk-list-sizer":""},h)))}),ex=y.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:i,container:l,...u}=e;return y.createElement(Mb,{open:r,onOpenChange:n},y.createElement(Db,{container:l},y.createElement(Ib,{"cmdk-overlay":"",className:o}),y.createElement(Fb,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(ed,{ref:t,...u}))))}),tx=y.forwardRef((e,t)=>rr(r=>r.filtered.count===0)?y.createElement(or.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rx=y.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...i}=e;return y.createElement(or.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},hs(e,l=>y.createElement("div",{"aria-hidden":!0},l)))}),Et=Object.assign(ed,{List:Zb,Item:Gb,Input:Jb,Group:Xb,Separator:Qb,Dialog:ex,Empty:tx,Loading:rx});function nx(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ax(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function td(e){let t=y.useRef(e);return Ar(()=>{t.current=e}),t}var Ar=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Zr(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function rr(e){let t=oi(),r=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,r,r)}function rd(e,t,r,n=[]){let o=y.useRef(),i=Xn();return Ar(()=>{var l;let u=(()=>{var h;for(let g of r){if(typeof g=="string")return g.trim();if(typeof g=="object"&&"current"in g)return g.current?(h=g.current.textContent)==null?void 0:h.trim():o.current}})(),p=n.map(h=>h.trim());i.value(e,u,p),(l=t.current)==null||l.setAttribute(Jr,u),o.current=u}),o}var sx=()=>{let[e,t]=y.useState(),r=Zr(()=>new Map);return Ar(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function ox(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function hs({asChild:e,children:t},r){return e&&y.isValidElement(t)?y.cloneElement(ox(t),{ref:t.ref},r(t.props.children)):r(t)}var ix={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function ii(e){return{id:e.id,date:e.date,description:e.description,amount:e.amount,currency:e.currency||"JPY",category:e.category,source:e.source,type:e.is_income?"income":"expense",created_at:e.date,account_id:e.account_id,is_transfer:e.is_transfer,is_adjustment:e.is_adjustment,transfer_type:e.transfer_type,receipt_url:e.receipt_url}}async function ci(e){var n;const t=new URLSearchParams;return e!=null&&e.start_date&&t.append("start_date",e.start_date),e!=null&&e.end_date&&t.append("end_date",e.end_date),(n=e==null?void 0:e.categories)!=null&&n.length&&t.append("categories",e.categories.join(",")),e!=null&&e.source&&t.append("source",e.source),e!=null&&e.type&&e.type!=="all"&&t.append("is_income",e.type==="income"?"true":"false"),e!=null&&e.search&&t.append("search",e.search),(e==null?void 0:e.min_amount)!==void 0&&t.append("min_amount",e.min_amount.toString()),(e==null?void 0:e.max_amount)!==void 0&&t.append("max_amount",e.max_amount.toString()),e!=null&&e.account_id&&t.append("account_id",e.account_id.toString()),t.append("limit","1000"),console.log("[fetchTransactions] filters:",e,"params:",t.toString()),(await re.get(`/api/transactions/?${t.toString()}`)).data.transactions.map(ii)}function nd(e){const{type:t,...r}=e;return{...r,is_income:t==="income"}}async function bN(e){const t=nd(e),r=await re.post("/api/transactions/",t);return ii(r.data)}async function xN(e,t){const r=nd(t),n=await re.put(`/api/transactions/${e}`,r);return ii(n.data)}async function vN(e){await re.delete(`/api/transactions/${e}`)}async function wN(e){const t=new URLSearchParams;return e.forEach(n=>t.append("transaction_ids",n.toString())),(await re.delete(`/api/transactions/bulk/delete?${t.toString()}`)).data}async function kN(e,t){const r=new URLSearchParams;return e.forEach(o=>r.append("transaction_ids",o.toString())),r.append("category",t),(await re.patch(`/api/transactions/bulk/category?${r.toString()}`)).data}async function jN(e,t=5){return!e||e.length<2?[]:(await re.get(`/api/transactions/suggestions?q=${encodeURIComponent(e)}&limit=${t}`)).data}const ir={JPY:1,USD:.00667,VND:160},li={JPY:0,VND:0,KRW:0,USD:2,EUR:2};function ui(e,t,r){const n=r[t]??ir[t]??1;return e*n}function Mn(e,t="JPY",r=ir,n=!1){const o=n?e:ui(e,t,r),i=li[t]??0,l=Math.pow(10,i),p={JPY:"ja-JP",USD:"en-US",VND:"vi-VN"}[t]||"ja-JP";return new Intl.NumberFormat(p,{style:"currency",currency:t,minimumFractionDigits:i,maximumFractionDigits:i}).format(o/l)}function ad(e,t,r="JPY",n=ir,o=!1){const i=Mn(Math.abs(e),r,n,o);return t==="income"||e>0?`+${i}`:t==="expense"||e<0?`-${i}`:i}function cx(e,t="JPY",r=ir,n=!1){const o=n?e:ui(e,t,r),i=li[t]??0,l=Math.pow(10,i),p={JPY:"ja-JP",USD:"en-US",VND:"vi-VN"}[t]||"ja-JP",h=i>0?1:0;return new Intl.NumberFormat(p,{style:"currency",currency:t,notation:"compact",minimumFractionDigits:0,maximumFractionDigits:h}).format(o/l)}function di(e="JPY"){return{JPY:"***",USD:"$***",VND:"***"}[e]||"***"}function nr(e,t="JPY",r=ir,n=!1,o=!1){return o?di(t):Mn(e,t,r,n)}function NN(e,t,r="JPY",n=ir,o=!1,i=!1){if(i){const l=di(r);return t==="income"||e>0?`+${l}`:t==="expense"||e<0?`-${l}`:l}return ad(e,t,r,n,o)}function SN(e,t="JPY",r=ir,n=!1,o=!1){return o?di(t):cx(e,t,r,n)}function _N(e,t){const r=li[t]??0;return Math.round(e*Math.pow(10,r))}function CN(e,t,r=ir,n=!1,o=!1){const i=nr(e,t,r,n,o),l=n?ui(e,t,r):e,u=nr(l,"JPY",r,!0,o);return`${i} (~${u})`}function lx({open:e,onOpenChange:t,onNewTransaction:r,onUpload:n,onShowShortcuts:o}){const{t:i}=_e(),l=Tt(),{resolvedTheme:u,toggleTheme:p}=as(),{isPrivacyMode:h}=Mr(),{data:g}=$t(),[x,N]=y.useState(""),[E,k]=y.useState([]),[j,O]=y.useState(!1),W=(q,ee)=>ad(q,void 0,ee,(g==null?void 0:g.rates)||{},!0);y.useEffect(()=>{if(!e||x.length<2){k([]);return}const ee=setTimeout(async()=>{O(!0);try{const X=await ci({search:x});k(X.slice(0,5))}catch(X){console.error("Failed to search transactions:",X),k([])}finally{O(!1)}},300);return()=>clearTimeout(ee)},[x,e]),y.useEffect(()=>{e||(N(""),k([]))},[e]);const U=y.useCallback(q=>{if(t(!1),q.startsWith("/")){const[ee,X]=q.split("?"),J=X?Object.fromEntries(new URLSearchParams(X)):void 0;l({to:ee,search:J});return}switch(q){case"new-transaction":r==null||r();break;case"upload":n==null||n(),l({to:"/upload"});break;case"toggle-theme":p();break;case"shortcuts":o==null||o();break;case"transaction":l({to:"/transactions"});break}},[l,t,r,n,p,o]),B=a.jsxs(Et.Dialog,{open:e,onOpenChange:t,label:i("commandPalette.label","Command Palette"),className:"fixed inset-0 z-[100001] overflow-hidden",style:{touchAction:"pan-y"},children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),a.jsx("div",{className:"fixed left-1/2 top-1/4 -translate-x-1/2 w-full max-w-lg",children:a.jsxs(Et,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 px-4",children:[a.jsx($p,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 mr-3"}),a.jsx(Et.Input,{value:x,onValueChange:N,placeholder:i("commandPalette.placeholder","Search pages, transactions, actions..."),className:"w-full py-4 bg-transparent outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),a.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 rounded",children:"Esc"})]}),a.jsxs(Et.List,{className:"max-h-80 overflow-y-auto p-2",children:[a.jsx(Et.Empty,{className:"py-6 text-center text-gray-500 dark:text-gray-400",children:j?i("commandPalette.searching","Searching..."):i("commandPalette.noResults","No results found.")}),E.length>0&&a.jsx(Et.Group,{heading:i("commandPalette.transactions","Transactions"),children:E.map(q=>a.jsxs(Et.Item,{value:`transaction-${q.id}`,onSelect:()=>U("transaction"),className:"flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-primary-50 dark:data-[selected=true]:bg-primary-900/30",children:[a.jsx(Zt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm",children:q.description}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[q.date,"  ",q.category]})]}),a.jsx("span",{className:`text-sm font-medium ${q.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:h?q.type==="income"?"+***":"-***":W(q.amount,q.currency||"JPY")})]},q.id))}),a.jsxs(Et.Group,{heading:i("commandPalette.pages","Pages"),children:[a.jsx(ft,{icon:a.jsx(ss,{className:"w-4 h-4"}),label:i("nav.dashboard"),shortcut:"G D",value:"/dashboard",onSelect:U}),a.jsx(ft,{icon:a.jsx(Zt,{className:"w-4 h-4"}),label:i("nav.transactions"),shortcut:"G T",value:"/transactions",onSelect:U}),a.jsx(ft,{icon:a.jsx(un,{className:"w-4 h-4"}),label:i("nav.accounts"),shortcut:"G A",value:"/accounts",onSelect:U}),a.jsx(ft,{icon:a.jsx(Zo,{className:"w-4 h-4"}),label:i("nav.budget"),shortcut:"G B",value:"/budget",onSelect:U}),a.jsx(ft,{icon:a.jsx(Hn,{className:"w-4 h-4"}),label:i("nav.analytics"),shortcut:"G N",value:"/analytics",onSelect:U}),a.jsx(ft,{icon:a.jsx(au,{className:"w-4 h-4"}),label:i("report.title"),shortcut:"G R",value:"/analytics?tab=report",onSelect:U}),a.jsx(ft,{icon:a.jsx(er,{className:"w-4 h-4"}),label:i("nav.goals"),shortcut:"G G",value:"/goals",onSelect:U}),a.jsx(ft,{icon:a.jsx(Mp,{className:"w-4 h-4"}),label:i("nav.recurring"),value:"/recurring",onSelect:U}),a.jsx(ft,{icon:a.jsx(is,{className:"w-4 h-4"}),label:i("nav.settings"),shortcut:"G S",value:"/settings",onSelect:U})]}),a.jsxs(Et.Group,{heading:i("commandPalette.actions","Actions"),children:[a.jsx(ft,{icon:a.jsx(cp,{className:"w-4 h-4"}),label:i("commandPalette.newTransaction","New Transaction"),shortcut:"Ctrl+N",value:"new-transaction",onSelect:U}),a.jsx(ft,{icon:a.jsx(sr,{className:"w-4 h-4"}),label:i("commandPalette.uploadCsv","Upload CSV"),shortcut:"Ctrl+U",value:"upload",onSelect:U}),a.jsx(ft,{icon:u==="dark"?a.jsx(lu,{className:"w-4 h-4"}):a.jsx(cu,{className:"w-4 h-4"}),label:u==="dark"?i("commandPalette.lightMode","Switch to Light Mode"):i("commandPalette.darkMode","Switch to Dark Mode"),value:"toggle-theme",onSelect:U}),a.jsx(ft,{icon:a.jsx(up,{className:"w-4 h-4"}),label:i("commandPalette.shortcuts","Keyboard Shortcuts"),shortcut:"?",value:"shortcuts",onSelect:U})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-2 flex items-center justify-between text-xs text-gray-400 dark:text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:""}),i("commandPalette.navigate","Navigate")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:""}),i("commandPalette.select","Select")]})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:"Esc"}),i("commandPalette.close","Close")]})]})]})})]});return typeof document>"u"?null:Ft.createPortal(B,document.body)}function ft({icon:e,label:t,shortcut:r,value:n,onSelect:o}){return a.jsxs(Et.Item,{value:n,onSelect:o,className:"flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-primary-50 dark:data-[selected=true]:bg-primary-900/30",children:[a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:e}),a.jsx("span",{className:"flex-1",children:t}),r&&a.jsx("kbd",{className:"text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:r})]})}function ux({open:e,onClose:t}){const{t:r}=_e(),n=typeof navigator<"u"&&/Mac/.test(navigator.userAgent),o=[{title:r("shortcuts.general","General"),shortcuts:[{keys:[n?"":"Ctrl","K"],description:r("shortcuts.commandPalette","Open command palette")},{keys:["Esc"],description:r("shortcuts.closeModal","Close modal/dialog")},{keys:["?"],description:r("shortcuts.showHelp","Show keyboard shortcuts")}]},{title:r("shortcuts.actions","Actions"),shortcuts:[{keys:[n?"":"Ctrl","N"],description:r("shortcuts.newTransaction","New transaction")},{keys:[n?"":"Ctrl","U"],description:r("shortcuts.uploadCsv","Upload CSV")},{keys:[n?"":"Ctrl","F"],description:r("shortcuts.focusSearch","Focus search")}]},{title:r("shortcuts.navigation","Navigation"),shortcuts:[{keys:["G","D"],description:r("shortcuts.gotoDashboard","Go to Dashboard")},{keys:["G","T"],description:r("shortcuts.gotoTransactions","Go to Transactions")},{keys:["G","A"],description:r("shortcuts.gotoAccounts","Go to Accounts")},{keys:["G","B"],description:r("shortcuts.gotoBudget","Go to Budget")},{keys:["G","N"],description:r("shortcuts.gotoAnalytics","Go to Analytics")},{keys:["G","R"],description:r("shortcuts.gotoReport","Go to Monthly Report")},{keys:["G","G"],description:r("shortcuts.gotoGoals","Go to Goals")},{keys:["G","S"],description:r("shortcuts.gotoSettings","Go to Settings")}]}];if(!e)return null;const i=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-lg mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("shortcuts.title","Keyboard Shortcuts")}),a.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:a.jsx(xt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[60vh] space-y-6",children:o.map(l=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:l.title}),a.jsx("div",{className:"space-y-2",children:l.shortcuts.map((u,p)=>a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:u.description}),a.jsx("div",{className:"flex items-center gap-1",children:u.keys.map((h,g)=>a.jsxs("span",{children:[a.jsx("kbd",{className:"px-2 py-1 text-xs font-mono bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded border border-gray-200 dark:border-gray-600",children:h}),g<u.keys.length-1&&a.jsx("span",{className:"text-gray-400 mx-0.5",children:"+"})]},g))})]},p))})]},l.title))}),a.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:r("shortcuts.hint","Press Esc to close")})})]})]});return typeof document>"u"?null:Ft.createPortal(i,document.body)}function dx({onClose:e,credits:t,onClearHistory:r}){const{t:n}=_e(),o=()=>{window.confirm(n("chat.clearHistoryConfirm"))&&(r==null||r())};return a.jsxs("div",{className:Q("flex items-center justify-between","px-4 py-3 border-b border-gray-200 dark:border-gray-700","bg-white dark:bg-gray-800"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-5 h-5 text-primary-500"}),a.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:n("chat.title")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[t!==null&&a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("chat.credits",{count:t})}),r&&a.jsx("button",{onClick:o,className:Q("p-1.5 rounded-lg","text-gray-500 hover:text-gray-700","dark:text-gray-400 dark:hover:text-gray-200","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),"aria-label":n("chat.clearHistory"),children:a.jsx(Ro,{className:"w-4 h-4"})}),a.jsx("button",{onClick:e,className:Q("p-1.5 rounded-lg","text-gray-500 hover:text-gray-700","dark:text-gray-400 dark:hover:text-gray-200","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),"aria-label":n("close"),children:a.jsx(xt,{className:"w-5 h-5"})})]})]})}function fx({role:e,content:t}){const r=e==="user";return a.jsxs("div",{className:Q("flex gap-3",r?"flex-row-reverse":"flex-row"),children:[a.jsx("div",{className:Q("flex-shrink-0 w-8 h-8 rounded-full","flex items-center justify-center",r?"bg-primary-100 dark:bg-primary-900":"bg-gray-100 dark:bg-gray-700"),children:r?a.jsx(ng,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}):a.jsx(ln,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsx("div",{className:Q("max-w-[80%] px-4 py-2.5 rounded-2xl","text-sm leading-relaxed",r?"bg-primary-500 text-white rounded-br-md":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-md"),children:a.jsx("p",{className:"whitespace-pre-wrap",children:t})})]})}function hx({action:e,onApply:t,onSkip:r,isApplying:n=!1}){const{t:o,i18n:i}=_e(),l=()=>e.type==="create_goal"?a.jsx(er,{className:"w-5 h-5 text-primary-500"}):e.type==="create_budget"?a.jsx(nu,{className:"w-5 h-5 text-primary-500"}):null,u=()=>o(`chat.action.${e.type}`),p=x=>{const N=i.language==="ja"?"ja-JP":i.language==="vi"?"vi-VN":"en-US",E=i.language==="ja"?"JPY":i.language==="vi"?"VND":"USD";return new Intl.NumberFormat(N,{style:"currency",currency:E}).format(x)},h=x=>new Intl.NumberFormat(i.language).format(x),g=()=>{if(!e.payload||Object.keys(e.payload).length===0)return null;const x=e.payload,N=Object.entries(x).filter(([E,k])=>k!=null);return N.length===0?null:a.jsxs("div",{className:"mt-3 pt-3 border-t border-primary-200/50 dark:border-primary-700/50",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("chat.action.parameters","Parameters"),":"]}),a.jsx("div",{className:"space-y-1.5",children:N.map(([E,k])=>{const j=o(`chat.action.${E}`,E.replace(/_/g," "));let O=String(k);return E.includes("amount")||E.includes("income")?O=p(Number(k)):E==="years"||typeof k=="number"?O=h(Number(k)):E==="language"?O=o(`languages.${k}`,String(k)):E==="goal_type"&&(O=o(`goals.types.${k}`,String(k))),a.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[j,":"]}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium flex-1 text-right",children:O})]},E)})})]})};return a.jsxs("div",{className:Q("bg-primary-50 dark:bg-primary-900/20","border border-primary-200 dark:border-primary-700","rounded-lg p-3 mt-2","transition-all duration-200","hover:shadow-md hover:border-primary-300 dark:hover:border-primary-600"),children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u()}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:e.description})]})]}),g(),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{onClick:t,disabled:n,className:Q("flex-1 px-3 py-1.5 text-sm font-medium rounded-md","bg-primary-500 text-white","hover:bg-primary-600 active:bg-primary-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-200","flex items-center justify-center gap-1.5",!n&&"hover:shadow-md"),children:n?a.jsxs(a.Fragment,{children:[a.jsx(ei,{className:"w-3.5 h-3.5 animate-spin"}),o("loading")]}):o("chat.apply")}),a.jsx("button",{onClick:r,disabled:n,className:Q("px-3 py-1.5 text-sm font-medium rounded-md","border border-gray-300 dark:border-gray-600","text-gray-700 dark:text-gray-300","hover:bg-gray-100 dark:hover:bg-gray-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors"),children:o("chat.skip")})]})]})}function mx({label:e,route:t,icon:r}){const n=Tt();return a.jsxs("button",{onClick:()=>n({to:t}),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",children:[r&&a.jsx("span",{children:r}),e]})}function px({messages:e,isLoading:t,applyingAction:r,onApplyAction:n,onSkipAction:o}){const{t:i}=_e(),l=y.useRef(null);return y.useEffect(()=>{var u;(u=l.current)==null||u.scrollIntoView({behavior:"smooth"})},[e,t]),a.jsxs("div",{className:Q("flex-1 overflow-y-auto","px-4 py-4 space-y-4","bg-gray-50 dark:bg-gray-900"),children:[e.length===0&&!t&&a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:a.jsx("p",{children:i("chat.welcomeMessage")})}),e.map((u,p)=>a.jsxs("div",{className:"animate-[slideUp_200ms_ease-out]",style:{animationDelay:`${Math.min(p*20,100)}ms`},children:[a.jsx(fx,{role:u.role,content:u.content}),u.action&&a.jsx("div",{className:"ml-11",children:a.jsx(hx,{action:u.action,onApply:()=>n(p),onSkip:()=>o(p),isApplying:r===p})}),u.quickActions&&u.quickActions.length>0&&a.jsx("div",{className:"ml-11 mt-2 flex flex-wrap gap-2",children:u.quickActions.map((h,g)=>a.jsx(mx,{label:h.label,route:h.route,icon:h.icon},g))})]},p)),t&&a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(ei,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 animate-spin"})}),a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2.5 rounded-2xl rounded-bl-md",children:a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:i("chat.thinking")})})]}),a.jsx("div",{ref:l})]})}function gx({onSend:e,disabled:t=!1}){const{t:r}=_e(),[n,o]=y.useState(""),i=y.useRef(null);y.useEffect(()=>{const p=i.current;p&&(p.style.height="auto",p.style.height=Math.min(p.scrollHeight,120)+"px")},[n]);const l=()=>{const p=n.trim();p&&!t&&(e(p),o(""))},u=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),l())};return a.jsx("div",{className:Q("px-4 py-3 border-t border-gray-200 dark:border-gray-700","bg-white dark:bg-gray-800"),children:a.jsxs("div",{className:Q("flex items-end gap-2","bg-gray-100 dark:bg-gray-700 rounded-2xl","px-4 py-2"),children:[a.jsx("textarea",{ref:i,value:n,onChange:p=>o(p.target.value),onKeyDown:u,placeholder:r("chat.placeholder"),disabled:t,rows:1,className:Q("flex-1 bg-transparent resize-none","text-sm text-gray-900 dark:text-white","placeholder-gray-500 dark:placeholder-gray-400","focus:outline-none","disabled:opacity-50 disabled:cursor-not-allowed","max-h-[120px]")}),a.jsx("button",{onClick:l,disabled:t||!n.trim(),className:Q("p-2 rounded-full","bg-primary-500 text-white","hover:bg-primary-600 active:bg-primary-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-200","flex-shrink-0",!t&&n.trim()&&"hover:scale-105 active:scale-95 hover:shadow-lg"),"aria-label":r("chat.send"),children:a.jsx(Kp,{className:"w-4 h-4"})})]})})}async function yx(e,t="ja",r){return(await re.post("/api/chat",{messages:e,language:t,current_page:r})).data}async function sd(){return(await re.get("/api/goals/")).data}async function EN(e){return(await re.get(`/api/goals/${e}`)).data}async function bx(e){return(await re.post("/api/goals/",e)).data}async function PN(e,t){return(await re.put(`/api/goals/${e}`,t)).data}async function TN(e){await re.delete(`/api/goals/${e}`)}async function xx(e,t=!0,r=3){const n=new URLSearchParams;return t&&(n.append("include_achievability","true"),n.append("trend_months",r.toString())),(await re.get(`/api/goals/${e}/progress?${n.toString()}`)).data}async function AN(){return(await re.get("/api/goals/status/has-emergency-fund")).data.has_emergency_fund}async function vx(e){return(await re.post("/api/budgets/generate",e)).data}async function ON(e,t){return(await re.post(`/api/budgets/${e}/regenerate`,t)).data}async function RN(e){return(await re.get(`/api/budgets/${e}`)).data}async function MN(e){return(await re.get("/api/budgets/tracking/current",{params:e?{month:e}:void 0})).data}async function DN(){return(await re.get("/api/budgets/suggestions")).data}async function IN(e,t,r){return(await re.patch(`/api/budgets/${e}/allocations/${encodeURIComponent(t)}`,{amount:r})).data}async function FN(e,t){return(await re.delete(`/api/budgets/${e}/allocations/${encodeURIComponent(t)}`)).data}async function LN(e){return(await re.post("/api/budgets/copy",e)).data}async function qN(e,t){return(await re.get("/api/budgets/copy/preview",{params:{source_month:e,target_month:t}})).data}async function $N(e){return(await re.get(`/api/budgets/${e}/versions`)).data}async function BN(e){return(await re.post(`/api/budgets/${e}/restore`)).data}async function wx(e=!0){return(await re.get("/api/budgets/alerts",{params:{unread_only:e}})).data}async function kx(e){return(await re.get(`/api/budgets/alerts/${e}/read`)).data}const mo="smartmoney_chat_history",jx=20;function Nx({isOpen:e,onClose:t}){const{t:r,i18n:n}=_e(),o=wt(),i=an(),[l,u]=y.useState(()=>{try{const B=localStorage.getItem(mo);if(B)return JSON.parse(B)}catch(B){console.error("Failed to load chat history:",B)}return[]}),[p,h]=y.useState(!1),[g,x]=y.useState(null),[N,E]=y.useState(null);y.useEffect(()=>{try{const B=l.slice(-jx);localStorage.setItem(mo,JSON.stringify(B))}catch(B){console.error("Failed to save chat history:",B)}},[l]),y.useEffect(()=>{const B=q=>{q.key==="Escape"&&e&&t()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[e,t]);const k=y.useCallback(async B=>{const q={role:"user",content:B},ee=[...l,q];u(ee),h(!0);try{const X=await yx(ee,n.language,i.pathname);u(J=>[...J,{role:"assistant",content:X.message,action:X.suggested_action,quickActions:X.quick_actions}]),x(X.credits_remaining)}catch(X){const J=X instanceof Error?X.message:"Unknown error";J.includes("402")||J.includes("credits")?u(xe=>[...xe,{role:"assistant",content:r("chat.noCredits")}]):u(xe=>[...xe,{role:"assistant",content:r("chat.error")}])}finally{h(!1)}},[l,n.language,i.pathname,r]),j=y.useCallback(async B=>{const q=l[B];if(q!=null&&q.action){E(B);try{await O(q.action),u(ee=>{const X=[...ee];return X[B]={...X[B],action:null},[...X,{role:"assistant",content:r("chat.actionApplied")}]}),q.action.type==="create_goal"?o.invalidateQueries({queryKey:["goals"]}):q.action.type==="create_budget"&&o.invalidateQueries({queryKey:["budget"]})}catch(ee){console.error("Failed to apply action:",ee),u(X=>[...X,{role:"assistant",content:r("chat.actionFailed")}])}finally{E(null)}}},[l,o,r]),O=async B=>{if(B.type==="create_goal"){const q=B.payload,X=["emergency_fund","home_down_payment","vacation_travel","vehicle","education","wedding","large_purchase","debt_payoff","retirement","investment","custom"].includes(q.goal_type||"")?q.goal_type:"custom";await bx({goal_type:X,target_amount:q.target_amount||1e5,years:q.years||1,name:q.name})}else if(B.type==="create_budget"){const q=B.payload;await vx({monthly_income:q.monthly_income||3e5,feedback:q.feedback,language:n.language})}},W=y.useCallback(B=>{u(q=>{const ee=[...q];return ee[B]={...ee[B],action:null},ee})},[]),U=y.useCallback(()=>{u([]),localStorage.removeItem(mo)},[]);return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-[99]",onClick:t}),a.jsxs("div",{className:Q("fixed right-0 top-0 h-full z-[100]","w-full sm:w-[448px] lg:w-96","bg-white dark:bg-gray-800","shadow-2xl","flex flex-col","transform transition-transform duration-300 ease-out",e?"translate-x-0":"translate-x-full pointer-events-none"),children:[a.jsx(dx,{onClose:t,credits:g,onClearHistory:U}),a.jsx(px,{messages:l,isLoading:p,applyingAction:N,onApplyAction:j,onSkipAction:W}),a.jsx(gx,{onSend:k,disabled:p})]})]})}function Sx(e,t={}){const{enabled:r=!0}=t,n=y.useCallback(o=>{if(!r)return;const i=o.target;if(!((i.tagName==="INPUT"||i.tagName==="TEXTAREA"||i.isContentEditable)&&o.key!=="Escape"))for(const l of e){const u=o.key.toLowerCase()===l.key.toLowerCase(),p=l.ctrlKey||l.metaKey?o.ctrlKey||o.metaKey:!o.ctrlKey&&!o.metaKey,h=l.shiftKey?o.shiftKey:!o.shiftKey;if(u&&p&&h){o.preventDefault(),l.callback();return}}},[e,r]);y.useEffect(()=>(window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)),[n])}const Yr={ESCAPE:"Escape",COMMAND_PALETTE:"k",SEARCH:"f",NEW_TRANSACTION:"n",UPLOAD:"u",HELP:"?"};function _x({children:e}){const t=Tt(),[r,n]=y.useState(!1),[o,i]=y.useState(!1),[l,u]=y.useState(!1),[p,h]=y.useState(null),g=y.useCallback(x=>{const E={d:"/dashboard",t:"/transactions",a:"/accounts",b:"/budget",n:"/analytics",r:"/analytics?tab=report",g:"/goals",s:"/settings"}[x.toLowerCase()];if(E){const[k,j]=E.split("?"),O=j?Object.fromEntries(new URLSearchParams(j)):void 0;t({to:k,search:O})}h(null)},[t]);return Sx([{key:Yr.COMMAND_PALETTE,ctrlKey:!0,callback:()=>n(!0),description:"Open command palette"},{key:"c",ctrlKey:!0,altKey:!0,callback:()=>u(!0),description:"Open AI chat"},{key:Yr.ESCAPE,callback:()=>{l?u(!1):r?n(!1):o&&i(!1),h(null)},description:"Close modal"},{key:Yr.HELP,shiftKey:!0,callback:()=>i(!0),description:"Show shortcuts help"},{key:Yr.NEW_TRANSACTION,ctrlKey:!0,callback:()=>t({to:"/transactions"}),description:"New transaction"},{key:Yr.UPLOAD,ctrlKey:!0,callback:()=>t({to:"/upload"}),description:"Upload CSV"},{key:Yr.SEARCH,ctrlKey:!0,callback:()=>n(!0),description:"Focus search"},{key:"g",callback:()=>h("g"),description:"Navigation prefix"},...["d","t","a","b","n","r","g","s"].map(x=>({key:x,callback:()=>{p==="g"&&g(x)},description:`Navigate to ${x}`}))]),y.useEffect(()=>{if(p){const x=setTimeout(()=>h(null),1500);return()=>clearTimeout(x)}},[p]),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(N0,{}),a.jsx(g0,{}),a.jsx("main",{className:"flex-1 pb-24 md:pb-0 md:ml-16",children:a.jsx(L0,{children:e})}),a.jsx(b0,{}),a.jsx(k0,{}),a.jsx(F0,{}),a.jsx("button",{onClick:()=>u(!0),className:"fixed bottom-36 right-4 md:bottom-6 md:right-6 z-50 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg transition-all hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",title:"AI Chat Assistant (Ctrl+Alt+C)",children:a.jsx(Pp,{className:"w-6 h-6"})}),a.jsx(lx,{open:r,onOpenChange:n,onShowShortcuts:()=>i(!0)}),a.jsx(ux,{open:o,onClose:()=>i(!1)}),a.jsx(Nx,{isOpen:l,onClose:()=>u(!1)})]})}function Cx({size:e="md",className:t}){const{t:r}=_e("common");return a.jsxs("div",{className:Q("inline-flex items-center justify-center",{"h-4 w-4":e==="sm","h-8 w-8":e==="md","h-12 w-12":e==="lg"},t),role:"status","aria-label":r("common.loading","Loading..."),children:[a.jsxs("svg",{className:"animate-spin text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:e==="sm"?16:e==="md"?24:48,height:e==="sm"?16:e==="md"?24:48,children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"sr-only",children:r("common.loading","Loading...")})]})}function Ex(){const{isAuthenticated:e,isLoading:t}=zn(),r=an(),n=Tt();return y.useEffect(()=>{!t&&!e&&!["/login","/register","/landing"].includes(r.pathname)&&n({to:"/login"})},[e,t,r.pathname,n]),t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Cx,{size:"lg"})}):r.pathname==="/login"||r.pathname==="/register"||r.pathname==="/landing"?a.jsx(Gi,{}):e?a.jsx(_x,{children:a.jsx(Gi,{})}):null}const Ge=nf({component:Ex}),Px=Ze("/upload")({}),Tx=Ze("/transactions")({validateSearch:e=>({categories:typeof e.categories=="string"?e.categories:void 0,month:typeof e.month=="string"?e.month:void 0,accountId:typeof e.accountId=="number"?e.accountId:typeof e.accountId=="string"&&!isNaN(Number(e.accountId))?Number(e.accountId):void 0,fromAccounts:e.fromAccounts===!0||e.fromAccounts==="true",type:e.type==="income"||e.type==="expense"?e.type:void 0,action:e.action==="add-transaction"||e.action==="scan-receipt"?e.action:void 0})}),Ax=Ze("/settings")({}),Ox=Ze("/report")({}),Rx=Ze("/relocation")({}),ht=y.forwardRef(({label:e,error:t,success:r,helperText:n,className:o,...i},l)=>{const u=t||r;return a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:i.id,children:e}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:l,"aria-invalid":!!t,"aria-describedby":t?`${i.id}-error`:n?`${i.id}-helper`:void 0,className:Q("w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","transition-all duration-200 focus:outline-none focus:ring-2 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100 dark:disabled:bg-gray-800","placeholder:text-gray-400 dark:placeholder:text-gray-500",t?"border-red-500 focus:ring-red-500":r?"border-green-500 focus:ring-green-500":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-primary-500",u&&"pr-10",o),...i}),u&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:t?a.jsx(Qo,{className:"w-4 h-4 text-red-500 dark:text-red-400"}):r?a.jsx(op,{className:"w-4 h-4 text-green-500 dark:text-green-400"}):null})]}),t&&a.jsx("p",{id:i.id?`${i.id}-error`:void 0,role:"alert",className:"mt-1.5 text-sm text-red-600 dark:text-red-400 animate-fade-in-down",children:t}),!t&&n&&a.jsx("p",{id:i.id?`${i.id}-helper`:void 0,className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n})]})});ht.displayName="Input";function Ve({children:e,className:t,style:r,hover:n=!1,variant:o="default",onClick:i,...l}){return a.jsx("div",{style:r,className:Q("rounded-xl border transition-all duration-200 p-4 sm:p-5",o==="default"&&"bg-white dark:bg-gray-800 border-gray-200/80 dark:border-gray-700/80 shadow-card",o==="glass"&&"bg-white/90 dark:bg-gray-800/88 backdrop-blur-md border-white/30 dark:border-gray-700/50 shadow-card",o==="gradient"&&"bg-gradient-to-br from-white to-primary-50/30 dark:from-gray-800 dark:to-primary-900/10 border-gray-200/50 dark:border-gray-700/50 shadow-card",o==="elevated"&&"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 shadow-md hover:shadow-lg",n&&"hover:shadow-md hover:border-gray-300 dark:hover:border-gray-600 cursor-pointer",i&&"cursor-pointer",t),onClick:i,...l,children:e})}function KN({children:e,className:t}){return a.jsx("div",{className:Q("",t),children:e})}function WN({children:e,className:t}){return a.jsx("div",{className:Q("mb-4",t),children:e})}function UN({children:e,className:t,as:r="h3"}){return a.jsx(r,{className:Q("text-lg font-semibold",t),children:e})}function Mx(){const{t:e}=_e("common"),t=Tt(),[r,n]=y.useState(""),[o,i]=y.useState(""),[l,u]=y.useState(""),[p,h]=y.useState(""),[g,x]=y.useState(!1),N=async E=>{var k,j;if(E.preventDefault(),h(""),o!==l){h(e("auth.passwordMismatch"));return}if(o.length<6){h(e("auth.passwordTooShort"));return}x(!0);try{await re.post("/api/auth/register",{email:r,password:o}),t({to:"/login"})}catch(O){const W=((j=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:j.detail)||e("auth.registerFailed");h(W)}finally{x(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hero-gradient px-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 -left-20 w-64 h-64 rounded-full bg-primary-300/20 dark:bg-primary-700/10 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 -right-20 w-72 h-72 rounded-full bg-net-300/15 dark:bg-net-800/10 blur-3xl pointer-events-none"}),a.jsxs(Ve,{className:"w-full max-w-md p-8 relative animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"SmartMoney"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("auth.registerDescription")})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[p&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md",children:p}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.email")}),a.jsx(ht,{id:"email",type:"email",value:r,onChange:E=>n(E.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.password")}),a.jsx(ht,{id:"password",type:"password",value:o,onChange:E=>i(E.target.value),placeholder:"********",required:!0,autoComplete:"new-password"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.confirmPassword")}),a.jsx(ht,{id:"confirmPassword",type:"password",value:l,onChange:E=>u(E.target.value),placeholder:"********",required:!0,autoComplete:"new-password"})]}),a.jsx(Je,{type:"submit",className:"w-full",disabled:g,children:e(g?"auth.registering":"auth.register")}),a.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("auth.hasAccount")," ",a.jsx(Ye,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:e("auth.login")})]})]})]})]})}const Dx=Ze("/register")({component:Mx}),Ix=Ze("/recurring")({}),Fx=Ze("/proxy")({});function Lx(){const{t:e}=_e("common"),t=Tt(),{login:r}=zn(),[n,o]=y.useState(""),[i,l]=y.useState(""),[u,p]=y.useState(""),[h,g]=y.useState(!1),x=async N=>{var E,k;N.preventDefault(),p(""),g(!0);try{await r(n,i),t({to:"/"})}catch(j){const O=j instanceof Error?j.message:((k=(E=j==null?void 0:j.response)==null?void 0:E.data)==null?void 0:k.detail)||e("auth.loginFailed");p(O)}finally{g(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hero-gradient px-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 -left-20 w-64 h-64 rounded-full bg-primary-300/20 dark:bg-primary-700/10 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 -right-20 w-72 h-72 rounded-full bg-net-300/15 dark:bg-net-800/10 blur-3xl pointer-events-none"}),a.jsxs(Ve,{className:"w-full max-w-md p-8 relative animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"SmartMoney"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("auth.loginDescription")})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md",children:u}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.email")}),a.jsx(ht,{id:"email",type:"email",value:n,onChange:N=>o(N.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.password")}),a.jsx(ht,{id:"password",type:"password",value:i,onChange:N=>l(N.target.value),placeholder:"********",required:!0,autoComplete:"current-password"})]}),a.jsx(Je,{type:"submit",className:"w-full",disabled:h,children:e(h?"auth.loggingIn":"auth.login")}),a.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("auth.noAccount")," ",a.jsx(Ye,{to:"/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:e("auth.register")})]})]})]})]})}const qx=Ze("/login")({component:Lx});function $x(){const e=Tt(),{t}=_e("landing");return a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-green-600 via-green-700 to-green-800 text-white",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-6 py-16 lg:py-24",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4 leading-tight",children:t("hero.headline")}),a.jsx("p",{className:"text-lg text-green-100 mb-6 leading-relaxed",children:t("hero.subheadline")}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(zp,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp1")})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(ru,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp2")})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(ou,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp3")})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Je,{onClick:()=>e({to:"/register"}),size:"lg",className:"bg-white text-green-700 hover:bg-green-50 shadow-xl",children:t("hero.cta")}),a.jsx(Je,{onClick:()=>e({to:"/login"}),size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:t("hero.seeLiveDemo")})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative bg-white/10 backdrop-blur-lg rounded-2xl p-4 border border-white/20 shadow-2xl",children:a.jsx("img",{src:"/screenshots/dashboard-light.webp",alt:"SmartMoney Dashboard",className:"rounded-lg shadow-lg w-full",loading:"eager"})}),a.jsx("div",{className:"absolute -bottom-8 -left-8 w-32 lg:w-40 hidden md:block",children:a.jsx("img",{src:"/screenshots/dashboard-mobile.webp",alt:"SmartMoney Mobile",className:"rounded-xl shadow-2xl border-4 border-white",loading:"eager"})})]})]})})]})}const Bx=[{id:"dashboard",screenshot:"/screenshots/dashboard-light.webp",screenshotAlt:"Dashboard Screenshot"},{id:"transactions",screenshot:"/screenshots/transactions.webp",screenshotAlt:"Transactions Screenshot"},{id:"budget",screenshot:"/screenshots/budget.webp",screenshotAlt:"Budget Screenshot"},{id:"analytics",screenshot:"/screenshots/analytics.webp",screenshotAlt:"Analytics Screenshot"}];function Kx(){const{t:e}=_e("landing");return a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("features.title")}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("features.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Bx.map(t=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"aspect-video bg-gray-100 overflow-hidden",children:a.jsx("img",{src:t.screenshot,alt:t.screenshotAlt,className:"w-full h-full object-cover object-top",loading:"lazy"})}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e(`features.${t.id}.title`)}),a.jsx("p",{className:"text-gray-600 text-sm",children:e(`features.${t.id}.description`)})]})]},t.id))})]})})}const Wx=[{id:"step1",icon:sr,color:"bg-blue-100 text-blue-700"},{id:"step2",icon:Hn,color:"bg-green-100 text-green-700"},{id:"step3",icon:ru,color:"bg-purple-100 text-purple-700"}];function Ux(){const{t:e}=_e("landing");return a.jsx("section",{id:"how-it-works",className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("howItWorks.title")}),a.jsx("p",{className:"text-lg text-gray-600",children:e("howItWorks.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:Wx.map((t,r)=>a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center mb-4",children:[a.jsx("div",{className:`h-16 w-16 rounded-full ${t.color} flex items-center justify-center`,children:a.jsx(t.icon,{className:"h-8 w-8"})}),a.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-gray-900 text-white text-sm font-bold flex items-center justify-center",children:r+1})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e(`howItWorks.${t.id}.title`)}),a.jsx("p",{className:"text-gray-600 text-sm",children:e(`howItWorks.${t.id}.description`)})]},t.id))}),a.jsx("div",{className:"hidden md:flex items-center justify-center mt-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-blue-300 to-green-300 rounded"}),a.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-green-300 to-purple-300 rounded"})]})})]})})}function zx(){const e=Tt(),{t}=_e("landing");return a.jsx("section",{className:"py-16 bg-gradient-to-br from-green-600 via-green-700 to-green-800 text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:t("cta.title")}),a.jsx("p",{className:"text-lg text-green-100 mb-8",children:t("cta.subtitle")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:[a.jsx(Je,{onClick:()=>e({to:"/register"}),size:"lg",className:"bg-white text-green-700 hover:bg-green-50 shadow-xl",children:t("cta.button")}),a.jsxs(Je,{onClick:()=>window.open("https://github.com/GodStorm91/smartmoney","_blank"),size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:[a.jsx(su,{className:"h-5 w-5 mr-2"}),t("cta.openSource")]})]}),a.jsx("p",{className:"text-sm text-green-200",children:t("cta.noAccount")})]})})}const po=[{code:"en",name:"English",flag:""},{code:"ja",name:"",flag:""},{code:"vi",name:"Ting Vit",flag:""}];function Hx(){const e=Tt(),{t,i18n:r}=_e("landing"),[n,o]=y.useState(!1),i=po.find(u=>u.code===r.language)||po[0],l=u=>{r.changeLanguage(u),o(!1)};return a.jsx("header",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qt,{className:"h-8 w-8 text-green-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"SmartMoney"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>o(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(ou,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm",children:i.flag})]}),n&&a.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:po.map(u=>a.jsxs("button",{onClick:()=>l(u.code),className:`w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 ${r.language===u.code?"bg-green-50 text-green-700":"text-gray-700"}`,children:[a.jsx("span",{children:u.flag}),a.jsx("span",{children:u.name})]},u.code))})]}),a.jsx(Je,{onClick:()=>e({to:"/login"}),variant:"outline",size:"sm",children:"Login"}),a.jsx(Je,{onClick:()=>e({to:"/register"}),size:"sm",children:t("hero.cta")})]})]})})})}function Vx(){const{t:e}=_e("landing");return a.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qt,{className:"h-6 w-6 text-green-500"}),a.jsx("span",{className:"text-lg font-bold text-white",children:"SmartMoney"})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("a",{href:"https://github.com/GodStorm91/smartmoney",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[a.jsx(su,{className:"h-4 w-4"}),"GitHub"]}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.privacy")}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.terms")})]}),a.jsx("p",{className:"text-sm",children:e("footer.copyright")})]})})})}function Yx(){return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Hx,{}),a.jsx($x,{}),a.jsx(Kx,{}),a.jsx(Ux,{}),a.jsx(zx,{}),a.jsx(Vx,{})]})}const Gx=Ze("/landing")({component:Yx}),Xx=Ze("/goals")({}),Qx=Ze("/budget")({}),Jx=Ze("/benchmark")({validateSearch:e=>({})}),Zx=Ze("/analytics")({validateSearch:e=>({tab:typeof e.tab=="string"?e.tab:void 0})}),ev=Ze("/accounts")({});function tv({icon:e,title:t,description:r,action:n,className:o,compact:i=!1}){return a.jsxs("div",{className:Q("flex flex-col items-center justify-center px-4 animate-fade-in",i?"py-6":"py-12",o),children:[e?a.jsx("div",{className:Q("flex items-center justify-center rounded-2xl bg-gray-100 dark:bg-gray-800",i?"w-12 h-12 mb-3":"w-16 h-16 mb-4"),children:a.jsx("div",{className:Q("text-gray-400 dark:text-gray-500",i?"[&>svg]:w-6 [&>svg]:h-6":"[&>svg]:w-8 [&>svg]:h-8"),children:e})}):a.jsx("div",{className:Q("flex items-center justify-center rounded-2xl bg-gray-100 dark:bg-gray-800",i?"w-12 h-12 mb-3":"w-16 h-16 mb-4"),children:a.jsx(ln,{className:Q("text-gray-400 dark:text-gray-500",i?"w-6 h-6":"w-8 h-8")})}),a.jsx("h3",{className:Q("font-semibold text-gray-700 dark:text-gray-300 text-center",i?"text-sm mb-1.5":"text-base mb-2"),children:t}),r&&a.jsx("p",{className:Q("text-gray-500 dark:text-gray-400 text-center max-w-sm",i?"text-xs mb-4":"text-sm mb-6"),children:r}),n&&a.jsx("div",{children:n})]})}function je({className:e}){return a.jsx("div",{className:Q("animate-pulse bg-gray-200 dark:bg-gray-700 rounded-lg",e)})}function zN(){return a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-20 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-32 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-16 h-6 rounded-full"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-24 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-20 h-4 ml-auto"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(je,{className:"w-16 h-6 mx-auto"})})]})}function HN(){return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(je,{className:"w-32 h-5 mb-2"}),a.jsx(je,{className:"w-20 h-4"})]}),a.jsx(je,{className:"w-24 h-6"})]})})}function go({className:e}){return a.jsxs("div",{className:Q("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",e),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(je,{className:"w-10 h-10 rounded-xl"}),a.jsx(je,{className:"w-20 h-4"})]}),a.jsx(je,{className:"w-32 h-8 mb-2"}),a.jsx(je,{className:"w-16 h-4"})]})}function rv({className:e}){return a.jsx("div",{className:Q("space-y-4",e),children:[...Array(4)].map((t,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(je,{className:"w-8 h-8 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(je,{className:"w-24 h-4 mb-1"}),a.jsx(je,{className:"w-full h-2 rounded-full"})]}),a.jsx(je,{className:"w-16 h-4"})]},r))})}function Yc({className:e}){return a.jsxs("div",{className:Q("space-y-3",e),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{className:"w-28 h-4"}),a.jsx(je,{className:"w-16 h-4"})]}),a.jsx(je,{className:"w-full h-3 rounded-full"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(je,{className:"w-20 h-3"}),a.jsx(je,{className:"w-20 h-3"})]})]})}function nv({className:e}){return a.jsxs("div",{className:Q("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 text-center",e),children:[a.jsx(je,{className:"w-24 h-4 mx-auto mb-2"}),a.jsx(je,{className:"w-48 h-10 mx-auto mb-3"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(je,{className:"w-16 h-4"}),a.jsx(je,{className:"w-24 h-5"}),a.jsx(je,{className:"w-12 h-5 rounded-full"})]})]})}function av(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(je,{className:"w-40 h-8 mb-2"}),a.jsx(je,{className:"w-56 h-5"})]}),a.jsx(nv,{className:"mb-6"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[a.jsx(go,{}),a.jsx(go,{}),a.jsx(go,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[a.jsxs(Ve,{className:"lg:col-span-2 h-80",children:[a.jsx(je,{className:"w-32 h-5 mb-4"}),a.jsx(je,{className:"w-full h-56"})]}),a.jsxs(Ve,{children:[a.jsx(je,{className:"w-28 h-5 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(je,{className:"w-full h-12 rounded-lg"}),a.jsx(je,{className:"w-full h-12 rounded-lg"}),a.jsx(je,{className:"w-full h-12 rounded-lg"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ve,{children:[a.jsx(je,{className:"w-40 h-5 mb-6"}),a.jsx(rv,{})]}),a.jsxs(Ve,{children:[a.jsx(je,{className:"w-36 h-5 mb-6"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Yc,{}),a.jsx(Yc,{})]})]})]})]})}function sv(){const e=new Date().getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"}const ov={morning:"",afternoon:"",evening:"",night:""};function iv(e){const{t}=_e("common"),r=sv(),n=`dashboard.greeting${r.charAt(0).toUpperCase()+r.slice(1)}`,o=`dashboard.subtitle${r.charAt(0).toUpperCase()+r.slice(1)}`,i=t(n),l=t(o),u=ov[r];return{greeting:e&&e!=="New User"?`${i}, ${e}`:i,subtitle:l,emoji:u,timeOfDay:r}}const od=6048e5,cv=864e5,id=6e4,cd=36e5,Gc=Symbol.for("constructDateFrom");function It(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Gc in e?e[Gc](t):e instanceof Date?new e.constructor(t):new Date(t)}function pt(e,t){return It(t||e,e)}let lv={};function ms(){return lv}function Ln(e,t){var u,p,h,g;const r=ms(),n=(t==null?void 0:t.weekStartsOn)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,o=pt(e,t==null?void 0:t.in),i=o.getDay(),l=(i<n?7:0)+i-n;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Ga(e,t){return Ln(e,{...t,weekStartsOn:1})}function ld(e,t){const r=pt(e,t==null?void 0:t.in),n=r.getFullYear(),o=It(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const i=Ga(o),l=It(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Ga(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Xc(e){const t=pt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function uv(e,...t){const r=It.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Qc(e,t){const r=pt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function dv(e,t,r){const[n,o]=uv(r==null?void 0:r.in,e,t),i=Qc(n),l=Qc(o),u=+i-Xc(i),p=+l-Xc(l);return Math.round((u-p)/cv)}function fv(e,t){const r=ld(e,t),n=It(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ga(n)}function hv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ud(e){return!(!hv(e)&&typeof e!="number"||isNaN(+pt(e)))}function mv(e,t){const r=pt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const pv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gv=(e,t,r)=>{let n;const o=pv[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dt(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const yv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vv={date:Dt({formats:yv,defaultWidth:"full"}),time:Dt({formats:bv,defaultWidth:"full"}),dateTime:Dt({formats:xv,defaultWidth:"full"})},wv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kv=(e,t,r,n)=>wv[e];function ot(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):l;o=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return o[i]}}const jv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_v={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ev={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pv=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tv={ordinalNumber:Pv,era:ot({values:jv,defaultWidth:"wide"}),quarter:ot({values:Nv,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ot({values:Sv,defaultWidth:"wide"}),day:ot({values:_v,defaultWidth:"wide"}),dayPeriod:ot({values:Cv,defaultWidth:"wide",formattingValues:Ev,defaultFormattingWidth:"wide"})};function it(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const l=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(u)?Ov(u,x=>x.test(l)):Av(u,x=>x.test(l));let h;h=e.valueCallback?e.valueCallback(p):p,h=r.valueCallback?r.valueCallback(h):h;const g=t.slice(l.length);return{value:h,rest:g}}}function Av(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ov(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fi(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(o.length);return{value:l,rest:u}}}const Rv=/^(\d+)(th|st|nd|rd)?/i,Mv=/\d+/i,Dv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Iv={any:[/^b/i,/^(a|c)/i]},Fv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lv={any:[/1/i,/2/i,/3/i,/4/i]},qv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$v={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zv={ordinalNumber:fi({matchPattern:Rv,parsePattern:Mv,valueCallback:e=>parseInt(e,10)}),era:it({matchPatterns:Dv,defaultMatchWidth:"wide",parsePatterns:Iv,defaultParseWidth:"any"}),quarter:it({matchPatterns:Fv,defaultMatchWidth:"wide",parsePatterns:Lv,defaultParseWidth:"any",valueCallback:e=>e+1}),month:it({matchPatterns:qv,defaultMatchWidth:"wide",parsePatterns:$v,defaultParseWidth:"any"}),day:it({matchPatterns:Bv,defaultMatchWidth:"wide",parsePatterns:Kv,defaultParseWidth:"any"}),dayPeriod:it({matchPatterns:Wv,defaultMatchWidth:"any",parsePatterns:Uv,defaultParseWidth:"any"})},hi={code:"en-US",formatDistance:gv,formatLong:vv,formatRelative:kv,localize:Tv,match:zv,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hv(e,t){const r=pt(e,t==null?void 0:t.in);return dv(r,mv(r))+1}function Vv(e,t){const r=pt(e,t==null?void 0:t.in),n=+Ga(r)-+fv(r);return Math.round(n/od)+1}function dd(e,t){var g,x,N,E;const r=pt(e,t==null?void 0:t.in),n=r.getFullYear(),o=ms(),i=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??o.firstWeekContainsDate??((E=(N=o.locale)==null?void 0:N.options)==null?void 0:E.firstWeekContainsDate)??1,l=It((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const u=Ln(l,t),p=It((t==null?void 0:t.in)||e,0);p.setFullYear(n,0,i),p.setHours(0,0,0,0);const h=Ln(p,t);return+r>=+u?n+1:+r>=+h?n:n-1}function Yv(e,t){var u,p,h,g;const r=ms(),n=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=dd(e,t),i=It((t==null?void 0:t.in)||e,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),Ln(i,t)}function Gv(e,t){const r=pt(e,t==null?void 0:t.in),n=+Ln(r,t)-+Yv(r,t);return Math.round(n/od)+1}function Fe(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Fe(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Fe(r+1,2)},d(e,t){return Fe(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Fe(e.getHours()%12||12,t.length)},H(e,t){return Fe(e.getHours(),t.length)},m(e,t){return Fe(e.getMinutes(),t.length)},s(e,t){return Fe(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return Fe(o,t.length)}},Gr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jc={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Xt.y(e,t)},Y:function(e,t,r,n){const o=dd(e,n),i=o>0?o:1-o;if(t==="YY"){const l=i%100;return Fe(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Fe(i,t.length)},R:function(e,t){const r=ld(e);return Fe(r,t.length)},u:function(e,t){const r=e.getFullYear();return Fe(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=Gv(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Fe(o,t.length)},I:function(e,t,r){const n=Vv(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Fe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xt.d(e,t)},D:function(e,t,r){const n=Hv(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Fe(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Fe(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return Fe(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=Gr.noon:n===0?o=Gr.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=Gr.evening:n>=12?o=Gr.afternoon:n>=4?o=Gr.morning:o=Gr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xt.s(e,t)},S:function(e,t){return Xt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return el(n);case"XXXX":case"XX":return kr(n);case"XXXXX":case"XXX":default:return kr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return el(n);case"xxxx":case"xx":return kr(n);case"xxxxx":case"xxx":default:return kr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Zc(n,":");case"OOOO":default:return"GMT"+kr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Zc(n,":");case"zzzz":default:return"GMT"+kr(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Fe(n,t.length)},T:function(e,t,r){return Fe(+e,t.length)}};function Zc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),i=n%60;return i===0?r+String(o):r+String(o)+t+Fe(i,2)}function el(e,t){return e%60===0?(e>0?"-":"+")+Fe(Math.abs(e)/60,2):kr(e,t)}function kr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Fe(Math.trunc(n/60),2),i=Fe(n%60,2);return r+o+t+i}const tl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fd=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Xv=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return tl(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",tl(n,t)).replace("{{time}}",fd(o,t))},Qv={p:fd,P:Xv},Jv=/^D+$/,Zv=/^Y+$/,ew=["D","DD","YY","YYYY"];function tw(e){return Jv.test(e)}function rw(e){return Zv.test(e)}function nw(e,t,r){const n=aw(e,t,r);if(console.warn(n),ew.includes(e))throw new RangeError(n)}function aw(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ow=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iw=/^'([^]*?)'?$/,cw=/''/g,lw=/[a-zA-Z]/;function hd(e,t,r){var g,x,N,E,k,j,O,W;const n=ms(),o=(r==null?void 0:r.locale)??n.locale??hi,i=(r==null?void 0:r.firstWeekContainsDate)??((x=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(N=n.locale)==null?void 0:N.options)==null?void 0:E.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((W=(O=n.locale)==null?void 0:O.options)==null?void 0:W.weekStartsOn)??0,u=pt(e,r==null?void 0:r.in);if(!ud(u))throw new RangeError("Invalid time value");let p=t.match(ow).map(U=>{const B=U[0];if(B==="p"||B==="P"){const q=Qv[B];return q(U,o.formatLong)}return U}).join("").match(sw).map(U=>{if(U==="''")return{isToken:!1,value:"'"};const B=U[0];if(B==="'")return{isToken:!1,value:uw(U)};if(Jc[B])return{isToken:!0,value:U};if(B.match(lw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:U}});o.localize.preprocessor&&(p=o.localize.preprocessor(u,p));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:o};return p.map(U=>{if(!U.isToken)return U.value;const B=U.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&rw(B)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&tw(B))&&nw(B,t,String(e));const q=Jc[B[0]];return q(u,B,o.localize,h)}).join("")}function uw(e){const t=e.match(iw);return t?t[1].replace(cw,"'"):e}function dw(e,t){const r=()=>It(t==null?void 0:t.in,NaN),o=pw(e);let i;if(o.date){const h=gw(o.date,2);i=yw(h.restDateString,h.year)}if(!i||isNaN(+i))return r();const l=+i;let u=0,p;if(o.time&&(u=bw(o.time),isNaN(u)))return r();if(o.timezone){if(p=xw(o.timezone),isNaN(p))return r()}else{const h=new Date(l+u),g=pt(0,t==null?void 0:t.in);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return pt(l+u+p,t==null?void 0:t.in)}const Oa={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fw=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pw(e){const t={},r=e.split(Oa.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Oa.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Oa.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=Oa.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function gw(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function yw(e,t){if(t===null)return new Date(NaN);const r=e.match(fw);if(!r)return new Date(NaN);const n=!!r[4],o=An(r[1]),i=An(r[2])-1,l=An(r[3]),u=An(r[4]),p=An(r[5])-1;if(n)return Nw(t,u,p)?vw(t,u,p):new Date(NaN);{const h=new Date(0);return!kw(t,i,l)||!jw(t,o)?new Date(NaN):(h.setUTCFullYear(t,i,Math.max(o,l)),h)}}function An(e){return e?parseInt(e):1}function bw(e){const t=e.match(hw);if(!t)return NaN;const r=yo(t[1]),n=yo(t[2]),o=yo(t[3]);return Sw(r,n,o)?r*cd+n*id+o*1e3:NaN}function yo(e){return e&&parseFloat(e.replace(",","."))||0}function xw(e){if(e==="Z")return 0;const t=e.match(mw);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return _w(n,o)?r*(n*cd+o*id):NaN}function vw(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,i=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+i),n}const ww=[31,null,31,30,31,30,31,31,30,31,30,31];function md(e){return e%400===0||e%4===0&&e%100!==0}function kw(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ww[t]||(md(e)?29:28))}function jw(e,t){return t>=1&&t<=(md(e)?366:365)}function Nw(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Sw(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function _w(e,t){return t>=0&&t<=59}const Cw={lessThanXSeconds:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:"1",other:"{{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:"1",other:"{{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:"1",other:"{{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:"1",other:"{{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1",other:"{{count}}"},almostXYears:{one:"1",other:"{{count}}"}},Ew=(e,t,r)=>{r=r||{};let n;const o=Cw[e];return typeof o=="string"?n=o:t===1?r.addSuffix&&o.oneWithSuffix?n=o.oneWithSuffix:n=o.one:r.addSuffix&&o.otherWithSuffix?n=o.otherWithSuffix.replace("{{count}}",String(t)):n=o.other.replace("{{count}}",String(t)),r.addSuffix?r.comparison&&r.comparison>0?n+"":n+"":n},Pw={full:"yMdEEEE",long:"yMd",medium:"y/MM/dd",short:"y/MM/dd"},Tw={full:"Hmmss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},Aw={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Ow={date:Dt({formats:Pw,defaultWidth:"full"}),time:Dt({formats:Tw,defaultWidth:"full"}),dateTime:Dt({formats:Aw,defaultWidth:"full"})},Rw={lastWeek:"eeeep",yesterday:"p",today:"p",tomorrow:"p",nextWeek:"eeeep",other:"P"},Mw=(e,t,r,n)=>Rw[e],Dw={narrow:["BC","AC"],abbreviated:["",""],wide:["",""]},Iw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},Fw={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},Lw={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},qw={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},$w={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Bw=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"year":return`${r}`;case"quarter":return`${r}`;case"month":return`${r}`;case"week":return`${r}`;case"date":return`${r}`;case"hour":return`${r}`;case"minute":return`${r}`;case"second":return`${r}`;default:return`${r}`}},Kw={ordinalNumber:Bw,era:ot({values:Dw,defaultWidth:"wide"}),quarter:ot({values:Iw,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:ot({values:Fw,defaultWidth:"wide"}),day:ot({values:Lw,defaultWidth:"wide"}),dayPeriod:ot({values:qw,defaultWidth:"wide",formattingValues:$w,defaultFormattingWidth:"wide"})},Ww=/^?\d+(|||||||)?/i,Uw=/\d+/i,zw={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^([]|)/i,wide:/^([]|)/i},Hw={narrow:[/^B/i,/^A/i],any:[/^()/i,/^(|)/i]},Vw={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^[1234]/i},Yw={any:[/(1||)/i,/(2||)/i,/(3||)/i,/(4||)/i]},Gw={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])/i,wide:/^([123456789]|1[012])/i},Xw={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Qw={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Jw={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Zw={any:/^(AM|PM|||||||)/i},e1={any:{am:/^(A|)/i,pm:/^(P|)/i,midnight:/^|/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},t1={ordinalNumber:fi({matchPattern:Ww,parsePattern:Uw,valueCallback:function(e){return parseInt(e,10)}}),era:it({matchPatterns:zw,defaultMatchWidth:"wide",parsePatterns:Hw,defaultParseWidth:"any"}),quarter:it({matchPatterns:Vw,defaultMatchWidth:"wide",parsePatterns:Yw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:it({matchPatterns:Gw,defaultMatchWidth:"wide",parsePatterns:Xw,defaultParseWidth:"any"}),day:it({matchPatterns:Qw,defaultMatchWidth:"wide",parsePatterns:Jw,defaultParseWidth:"any"}),dayPeriod:it({matchPatterns:Zw,defaultMatchWidth:"any",parsePatterns:e1,defaultParseWidth:"any"})},r1={code:"ja",formatDistance:Ew,formatLong:Ow,formatRelative:Mw,localize:Kw,match:t1,options:{weekStartsOn:0,firstWeekContainsDate:1}},n1={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},a1=(e,t,r)=>{let n;const o=n1[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" na":n+" trc":n},s1={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},o1={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},i1={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},c1={date:Dt({formats:s1,defaultWidth:"full"}),time:Dt({formats:o1,defaultWidth:"full"}),dateTime:Dt({formats:i1,defaultWidth:"full"})},l1={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},u1=(e,t,r,n)=>l1[e],d1={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},f1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},h1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},m1={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},p1={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},g1={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},y1={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},b1={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},x1=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(n==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(r){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(n==="week")return r===1?"th nht":"th "+r;if(n==="dayOfYear")return r===1?"u tin":"th "+r}return String(r)},v1={ordinalNumber:x1,era:ot({values:d1,defaultWidth:"wide"}),quarter:ot({values:f1,defaultWidth:"wide",formattingValues:h1,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:ot({values:m1,defaultWidth:"wide",formattingValues:p1,defaultFormattingWidth:"wide"}),day:ot({values:g1,defaultWidth:"wide"}),dayPeriod:ot({values:y1,defaultWidth:"wide",formattingValues:b1,defaultFormattingWidth:"wide"})},w1=/^(\d+)/i,k1=/\d+/i,j1={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},N1={any:[/^t/i,/^s/i]},S1={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},_1={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},C1={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},E1={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},P1={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},T1={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},A1={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},O1={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},R1={ordinalNumber:fi({matchPattern:w1,parsePattern:k1,valueCallback:e=>parseInt(e,10)}),era:it({matchPatterns:j1,defaultMatchWidth:"wide",parsePatterns:N1,defaultParseWidth:"any"}),quarter:it({matchPatterns:S1,defaultMatchWidth:"wide",parsePatterns:_1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:it({matchPatterns:C1,defaultMatchWidth:"wide",parsePatterns:E1,defaultParseWidth:"wide"}),day:it({matchPatterns:P1,defaultMatchWidth:"wide",parsePatterns:T1,defaultParseWidth:"wide"}),dayPeriod:it({matchPatterns:A1,defaultMatchWidth:"wide",parsePatterns:O1,defaultParseWidth:"any"})},M1={code:"vi",formatDistance:a1,formatLong:c1,formatRelative:u1,localize:v1,match:R1,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function pd(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Ko(XMLHttpRequest))==="object"}function D1(e){return!!e&&typeof e.then=="function"}function I1(e){return D1(e)?e:Promise.resolve(e)}function F1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wo={exports:{}},Ra={exports:{}},rl;function L1(){return rl||(rl=1,function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof _r<"u"&&_r,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(l){var u=typeof i<"u"&&i||typeof self<"u"&&self||typeof u<"u"&&u,p={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(F){return F&&DataView.prototype.isPrototypeOf(F)}if(p.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(F){return F&&g.indexOf(Object.prototype.toString.call(F))>-1};function N(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError('Invalid character in header field name: "'+F+'"');return F.toLowerCase()}function E(F){return typeof F!="string"&&(F=String(F)),F}function k(F){var z={next:function(){var Y=F.shift();return{done:Y===void 0,value:Y}}};return p.iterable&&(z[Symbol.iterator]=function(){return z}),z}function j(F){this.map={},F instanceof j?F.forEach(function(z,Y){this.append(Y,z)},this):Array.isArray(F)?F.forEach(function(z){this.append(z[0],z[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(z){this.append(z,F[z])},this)}j.prototype.append=function(F,z){F=N(F),z=E(z);var Y=this.map[F];this.map[F]=Y?Y+", "+z:z},j.prototype.delete=function(F){delete this.map[N(F)]},j.prototype.get=function(F){return F=N(F),this.has(F)?this.map[F]:null},j.prototype.has=function(F){return this.map.hasOwnProperty(N(F))},j.prototype.set=function(F,z){this.map[N(F)]=E(z)},j.prototype.forEach=function(F,z){for(var Y in this.map)this.map.hasOwnProperty(Y)&&F.call(z,this.map[Y],Y,this)},j.prototype.keys=function(){var F=[];return this.forEach(function(z,Y){F.push(Y)}),k(F)},j.prototype.values=function(){var F=[];return this.forEach(function(z){F.push(z)}),k(F)},j.prototype.entries=function(){var F=[];return this.forEach(function(z,Y){F.push([Y,z])}),k(F)},p.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);function O(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function W(F){return new Promise(function(z,Y){F.onload=function(){z(F.result)},F.onerror=function(){Y(F.error)}})}function U(F){var z=new FileReader,Y=W(z);return z.readAsArrayBuffer(F),Y}function B(F){var z=new FileReader,Y=W(z);return z.readAsText(F),Y}function q(F){for(var z=new Uint8Array(F),Y=new Array(z.length),de=0;de<z.length;de++)Y[de]=String.fromCharCode(z[de]);return Y.join("")}function ee(F){if(F.slice)return F.slice(0);var z=new Uint8Array(F.byteLength);return z.set(new Uint8Array(F)),z.buffer}function X(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:p.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:p.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():p.arrayBuffer&&p.blob&&h(F)?(this._bodyArrayBuffer=ee(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||x(F))?this._bodyArrayBuffer=ee(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var F=O(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=O(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(U)}),this.text=function(){var F=O(this);if(F)return F;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(q(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(Re)}),this.json=function(){return this.text().then(JSON.parse)},this}var J=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function xe(F){var z=F.toUpperCase();return J.indexOf(z)>-1?z:F}function we(F,z){if(!(this instanceof we))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z=z||{};var Y=z.body;if(F instanceof we){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,z.headers||(this.headers=new j(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!Y&&F._bodyInit!=null&&(Y=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new j(z.headers)),this.method=xe(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Y)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Y),(this.method==="GET"||this.method==="HEAD")&&(z.cache==="no-store"||z.cache==="no-cache")){var de=/([?&])_=[^&]*/;if(de.test(this.url))this.url=this.url.replace(de,"$1_="+new Date().getTime());else{var ce=/\?/;this.url+=(ce.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}we.prototype.clone=function(){return new we(this,{body:this._bodyInit})};function Re(F){var z=new FormData;return F.trim().split("&").forEach(function(Y){if(Y){var de=Y.split("="),ce=de.shift().replace(/\+/g," "),pe=de.join("=").replace(/\+/g," ");z.append(decodeURIComponent(ce),decodeURIComponent(pe))}}),z}function he(F){var z=new j,Y=F.replace(/\r?\n[\t ]+/g," ");return Y.split("\r").map(function(de){return de.indexOf(`
`)===0?de.substr(1,de.length):de}).forEach(function(de){var ce=de.split(":"),pe=ce.shift().trim();if(pe){var Ee=ce.join(":").trim();z.append(pe,Ee)}}),z}X.call(we.prototype);function ue(F,z){if(!(this instanceof ue))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText=z.statusText===void 0?"":""+z.statusText,this.headers=new j(z.headers),this.url=z.url||"",this._initBody(F)}X.call(ue.prototype),ue.prototype.clone=function(){return new ue(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},ue.error=function(){var F=new ue(null,{status:0,statusText:""});return F.type="error",F};var Ae=[301,302,303,307,308];ue.redirect=function(F,z){if(Ae.indexOf(z)===-1)throw new RangeError("Invalid status code");return new ue(null,{status:z,headers:{location:F}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(z,Y){this.message=z,this.name=Y;var de=Error(z);this.stack=de.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function Me(F,z){return new Promise(function(Y,de){var ce=new we(F,z);if(ce.signal&&ce.signal.aborted)return de(new l.DOMException("Aborted","AbortError"));var pe=new XMLHttpRequest;function Ee(){pe.abort()}pe.onload=function(){var H={status:pe.status,statusText:pe.statusText,headers:he(pe.getAllResponseHeaders()||"")};H.url="responseURL"in pe?pe.responseURL:H.headers.get("X-Request-URL");var ge="response"in pe?pe.response:pe.responseText;setTimeout(function(){Y(new ue(ge,H))},0)},pe.onerror=function(){setTimeout(function(){de(new TypeError("Network request failed"))},0)},pe.ontimeout=function(){setTimeout(function(){de(new TypeError("Network request failed"))},0)},pe.onabort=function(){setTimeout(function(){de(new l.DOMException("Aborted","AbortError"))},0)};function G(H){try{return H===""&&u.location.href?u.location.href:H}catch{return H}}pe.open(ce.method,G(ce.url),!0),ce.credentials==="include"?pe.withCredentials=!0:ce.credentials==="omit"&&(pe.withCredentials=!1),"responseType"in pe&&(p.blob?pe.responseType="blob":p.arrayBuffer&&ce.headers.get("Content-Type")&&ce.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(pe.responseType="arraybuffer")),z&&typeof z.headers=="object"&&!(z.headers instanceof j)?Object.getOwnPropertyNames(z.headers).forEach(function(H){pe.setRequestHeader(H,E(z.headers[H]))}):ce.headers.forEach(function(H,ge){pe.setRequestHeader(ge,H)}),ce.signal&&(ce.signal.addEventListener("abort",Ee),pe.onreadystatechange=function(){pe.readyState===4&&ce.signal.removeEventListener("abort",Ee)}),pe.send(typeof ce._bodyInit>"u"?null:ce._bodyInit)})}return Me.polyfill=!0,u.fetch||(u.fetch=Me,u.Headers=j,u.Request=we,u.Response=ue),l.Headers=j,l.Request=we,l.Response=ue,l.fetch=Me,l})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=r.fetch?r:n;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(Ra,Ra.exports)),Ra.exports}(function(e,t){var r=typeof fetch=="function"?fetch:void 0;if(typeof _r<"u"&&_r.fetch?r=_r.fetch:typeof window<"u"&&window.fetch&&(r=window.fetch),typeof F1<"u"&&typeof window>"u"){var n=r||L1();n.default&&(n=n.default),t.default=n,e.exports=t.default}})(Wo,Wo.exports);var gd=Wo.exports;const yd=xl(gd),nl=kf({__proto__:null,default:yd},[gd]);function al(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?al(Object(r),!0).forEach(function(n){q1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q1(e,t,r){return(t=$1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1(e){var t=B1(e,"string");return Or(t)=="symbol"?t:t+""}function B1(e,t){if(Or(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Or(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(e)}var ar=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?ar=global.fetch:typeof window<"u"&&window.fetch&&(ar=window.fetch);var qn;pd()&&(typeof global<"u"&&global.XMLHttpRequest?qn=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(qn=window.XMLHttpRequest));var Xa;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Xa=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Xa=window.ActiveXObject));!ar&&nl&&!qn&&!Xa&&(ar=yd||nl);typeof ar!="function"&&(ar=void 0);var Uo=function(t,r){if(r&&Or(r)==="object"){var n="";for(var o in r)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);if(!n)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+n.slice(1)}return t},ol=function(t,r,n,o){var i=function(p){if(!p.ok)return n(p.statusText||"Error",{status:p.status});p.text().then(function(h){n(null,{status:p.status,data:h})}).catch(n)};if(o){var l=o(t,r);if(l instanceof Promise){l.then(i).catch(n);return}}typeof fetch=="function"?fetch(t,r).then(i).catch(n):ar(t,r).then(i).catch(n)},il=!1,K1=function(t,r,n,o){t.queryStringParams&&(r=Uo(r,t.queryStringParams));var i=sl({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(i["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(i["Content-Type"]="application/json");var l=typeof t.requestOptions=="function"?t.requestOptions(n):t.requestOptions,u=sl({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:i},il?{}:l),p=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{ol(r,u,o,p)}catch(h){if(!l||Object.keys(l).length===0||!h.message||h.message.indexOf("not implemented")<0)return o(h);try{Object.keys(l).forEach(function(g){delete u[g]}),ol(r,u,o,p),il=!0}catch(g){o(g)}}},W1=function(t,r,n,o){n&&Or(n)==="object"&&(n=Uo("",n).slice(1)),t.queryStringParams&&(r=Uo(r,t.queryStringParams));try{var i;qn?i=new qn:i=new Xa("MSXML2.XMLHTTP.3.0"),i.open(n?"POST":"GET",r,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!t.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var l=t.customHeaders;if(l=typeof l=="function"?l():l,l)for(var u in l)i.setRequestHeader(u,l[u]);i.onreadystatechange=function(){i.readyState>3&&o(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(p){console&&console.log(p)}},U1=function(t,r,n,o){if(typeof n=="function"&&(o=n,n=void 0),o=o||function(){},ar&&r.indexOf("file:")!==0)return K1(t,r,n,o);if(pd()||typeof ActiveXObject=="function")return W1(t,r,n,o);o(new Error("No fetch and no xhr implementation found!"))};function nn(e){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(e)}function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cl(Object(r),!0).forEach(function(n){bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xd(n.key),n)}}function V1(e,t,r){return t&&H1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bd(e,t,r){return(t=xd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xd(e){var t=Y1(e,"string");return nn(t)=="symbol"?t:t+""}function Y1(e,t){if(nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var G1=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,o){return bd({},n,o||"")},parseLoadPayload:function(r,n){},request:U1,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},vd=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z1(this,e),this.services=t,this.options=r,this.allOptions=n,this.type="backend",this.init(t,r,n)}return V1(e,[{key:"init",value:function(r){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=bo(bo(bo({},G1()),this.options||{}),o),this.allOptions=i,this.services&&this.options.reloadInterval){var l=setInterval(function(){return n.reload()},this.options.reloadInterval);nn(l)==="object"&&typeof l.unref=="function"&&l.unref()}}},{key:"readMulti",value:function(r,n,o){this._readAny(r,r,n,n,o)}},{key:"read",value:function(r,n,o){this._readAny([r],r,[n],n,o)}},{key:"_readAny",value:function(r,n,o,i,l){var u=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(r,o)),p=I1(p),p.then(function(h){if(!h)return l(null,{});var g=u.services.interpolator.interpolate(h,{lng:r.join("+"),ns:o.join("+")});u.loadUrl(g,l,n,i)})}},{key:"loadUrl",value:function(r,n,o,i){var l=this,u=typeof o=="string"?[o]:o,p=typeof i=="string"?[i]:i,h=this.options.parseLoadPayload(u,p);this.options.request(this.options,r,h,function(g,x){if(x&&(x.status>=500&&x.status<600||!x.status))return n("failed loading "+r+"; status code: "+x.status,!0);if(x&&x.status>=400&&x.status<500)return n("failed loading "+r+"; status code: "+x.status,!1);if(!x&&g&&g.message){var N=g.message.toLowerCase(),E=["failed","fetch","network","load"].find(function(O){return N.indexOf(O)>-1});if(E)return n("failed loading "+r+": "+g.message,!0)}if(g)return n(g,!1);var k,j;try{typeof x.data=="string"?k=l.options.parse(x.data,o,i):k=x.data}catch{j="failed parsing "+r+" to json"}if(j)return n(j,!1);n(null,k)})}},{key:"create",value:function(r,n,o,i,l){var u=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var p=this.options.parsePayload(n,o,i),h=0,g=[],x=[];r.forEach(function(N){var E=u.options.addPath;typeof u.options.addPath=="function"&&(E=u.options.addPath(N,n));var k=u.services.interpolator.interpolate(E,{lng:N,ns:n});u.options.request(u.options,k,p,function(j,O){h+=1,g.push(j),x.push(O),h===r.length&&typeof l=="function"&&l(g,x)})})}}},{key:"reload",value:function(){var r=this,n=this.services,o=n.backendConnector,i=n.languageUtils,l=n.logger,u=o.language;if(!(u&&u.toLowerCase()==="cimode")){var p=[],h=function(x){var N=i.toResolveHierarchy(x);N.forEach(function(E){p.indexOf(E)<0&&p.push(E)})};h(u),this.allOptions.preload&&this.allOptions.preload.forEach(function(g){return h(g)}),p.forEach(function(g){r.allOptions.ns.forEach(function(x){o.read(g,x,"read",null,null,function(N,E){N&&l.warn("loading namespace ".concat(x," for language ").concat(g," failed"),N),!N&&E&&l.log("loaded namespace ".concat(x," for language ").concat(g),E),o.loaded("".concat(g,"|").concat(x),N,E)})})})}}}])}();vd.type="backend";function X1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function Q1(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function J1(e){var t=Q1(e,"string");return $n(t)=="symbol"?t:t+""}function Z1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J1(n.key),n)}}function ek(e,t,r){return t&&Z1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var wd=[],tk=wd.forEach,rk=wd.slice;function nk(e){return tk.call(rk.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var ll=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,ak=function(t,r,n){var o=n||{};o.path=o.path||"/";var i=encodeURIComponent(r),l="".concat(t,"=").concat(i);if(o.maxAge>0){var u=o.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age=".concat(Math.floor(u))}if(o.domain){if(!ll.test(o.domain))throw new TypeError("option domain is invalid");l+="; Domain=".concat(o.domain)}if(o.path){if(!ll.test(o.path))throw new TypeError("option path is invalid");l+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite){var p=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(p){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l},ul={create:function(t,r,n,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),o&&(i.domain=o),document.cookie=ak(t,encodeURIComponent(r),i)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(r)===0)return i.substring(r.length,i.length)}return null},remove:function(t){this.create(t,"",-1)}},sk={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=ul.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&ul.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},ok={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=n.substring(1),i=o.split("&"),l=0;l<i.length;l++){var u=i[l].indexOf("=");if(u>0){var p=i[l].substring(0,u);p===t.lookupQuerystring&&(r=i[l].substring(u+1))}}}return r}},On=null,dl=function(){if(On!==null)return On;try{On=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{On=!1}return On},ik={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&dl()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&dl()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Rn=null,fl=function(){if(Rn!==null)return Rn;try{Rn=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Rn=!1}return Rn},ck={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&fl()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&fl()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},lk={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},uk={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},dk={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},fk={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},kd=!1;try{document.cookie,kd=!0}catch{}var jd=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kd||jd.splice(1,1);function hk(){return{order:jd,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var Nd=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};X1(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return ek(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=nk(n,this.options||{},hk()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(i){return i.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(sk),this.addDetector(ok),this.addDetector(ik),this.addDetector(ck),this.addDetector(lk),this.addDetector(uk),this.addDetector(dk),this.addDetector(fk)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var o=[];return r.forEach(function(i){if(n.detectors[i]){var l=n.detectors[i].lookup(n.options);l&&typeof l=="string"&&(l=[l]),l&&(o=o.concat(l))}}),o=o.map(function(i){return n.options.convertDetectedLanguage(i)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var o=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(i){o.detectors[i]&&o.detectors[i].cacheUserLanguage(r,o.options)}))}}])}();Nd.type="languageDetector";Rr.use(vd).use(Nd).use(wf).init({fallbackLng:"ja",supportedLngs:["ja","en","vi"],defaultNS:"common",ns:["common"],backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},debug:!1});const mk={ja:r1,vi:M1,en:hi};function pk(){return mk[Rr.language]||hi}function VN(){const e=Rr.language;return e==="ja"?"ja-JP":e==="vi"?"vi-VN":"en-US"}function mt(e,t="yyyy/MM/dd"){try{const r=typeof e=="string"?dw(e):e;return ud(r)?hd(r,t,{locale:pk()}):"---"}catch{return"---"}}function YN(e){const t=Rr.language;return t==="ja"?mt(e,"yyyyMd HH:mm"):t==="vi"?mt(e,"dd/MM/yyyy HH:mm"):mt(e,"MMM d, yyyy HH:mm")}function gk(e){const t=Rr.language;return t==="ja"?mt(e,"yyyyM"):mt(e,"MMMM yyyy")}function yk(e){const t=Rr.language;return t==="ja"?mt(e,"yyyyMd"):t==="vi"?mt(e,"dd MMMM yyyy"):mt(e,"MMMM d, yyyy")}function GN(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0");return{start:`${t}-${r}-01`,end:hd(new Date(t,e.getMonth()+1,0),"yyyy-MM-dd")}}function XN(e){const t=Rr.language;return t==="ja"?mt(e,"Md (EEE)"):t==="vi"?mt(e,"EEE, d MMM"):mt(e,"MMM d (EEE)")}function bk({isOpen:e,onClose:t,date:r,transactions:n}){const{t:o}=_e("common"),{currency:i}=cn(),{isPrivacyMode:l}=Mr(),u=P0();if(!e)return null;const p=n.reduce((x,N)=>{if(N.type==="income")return x;const E=N.currency||"JPY",k=u[E]||1,j=Math.abs(N.amount)/k;return x+j},0),h=(x,N)=>nr(x,N||i,u,!0,l),g=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 animate-in fade-in",onClick:t}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 animate-in zoom-in-95 duration-200",onClick:x=>{x.target===x.currentTarget&&t()},children:a.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl shadow-xl w-full max-w-md max-h-[85dvh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between z-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"w-5 h-5 text-primary-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:yk(r)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.length," ",o("transactions.count","transactions")]})]})]}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(xt,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{className:"px-4 py-3 bg-expense-50 dark:bg-expense-900/20 border-b border-gray-200 dark:border-gray-700 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cs,{className:"w-4 h-4 text-expense-600 dark:text-expense-300"}),a.jsx("span",{className:"text-sm text-expense-600 dark:text-expense-300",children:o("spendingCalendar.totalSpending","Total Spending")})]}),a.jsxs("span",{className:"text-lg font-bold text-expense-600 dark:text-expense-300 font-numbers",children:["-",h(p,"JPY")]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 min-h-0",children:n.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Q("w-8 h-8 rounded-full flex items-center justify-center text-sm",x.type==="income"?"bg-income-100 text-income-600 dark:bg-income-900/30 dark:text-income-300":"bg-expense-100 text-expense-600 dark:bg-expense-900/30 dark:text-expense-300"),children:x.type==="income"?"+":"-"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:x.description||x.category}),a.jsx("p",{className:"text-xs text-gray-500",children:x.source})]})]}),a.jsxs("span",{className:Q("text-sm font-semibold font-numbers",x.type==="income"?"text-income-600 dark:text-income-300":"text-gray-900 dark:text-gray-100"),children:[x.type==="income"?"+":"-",h(Math.abs(x.amount),x.currency||"JPY")]})]},x.id))}),a.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 shrink-0",children:a.jsx(Je,{onClick:t,className:"w-full",children:o("close")})})]})})]});return typeof document>"u"?null:Ft.createPortal(g,document.body)}const Qa=["bank","cash","investment","receivable","crypto"];function Ja(e,t,r){if(t==="JPY"||!r[t])return e;const n=r[t];if(n===0)return e;const o=t==="USD"?e/100:e;return Math.round(o/n)}function xk(e,t){const r=e.filter(o=>Qa.includes(o.type)).reduce((o,i)=>o+Ja(i.current_balance,i.currency||"JPY",t),0),n=e.filter(o=>!Qa.includes(o.type)).reduce((o,i)=>o+Math.abs(Ja(i.current_balance,i.currency||"JPY",t)),0);return{assets:r,liabilities:n,netWorth:r-n}}function vk({summary:e,accounts:t}){const{t:r}=_e("common"),{currency:n}=cn(),{data:o}=$t(),{isPrivacyMode:i}=Mr(),[l,u]=y.useState(!1),{assets:p,liabilities:h,netWorth:g}=xk(t,(o==null?void 0:o.rates)||{}),x=(e==null?void 0:e.net_change)||0,N=E=>nr(E,n,(o==null?void 0:o.rates)||{},!1,i);return a.jsxs(Ve,{variant:"gradient",className:Q("cursor-pointer transition-all duration-300 bg-hero-gradient overflow-hidden relative",l?"shadow-hero ring-glow":"hover:shadow-hero"),onClick:()=>u(!l),children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary-400 via-primary-500 to-net-300 opacity-60"}),a.jsxs("div",{className:"flex items-center gap-2 mb-1 pt-1",children:[a.jsx(un,{className:"w-4 h-4 text-primary-600 dark:text-primary-300"}),a.jsx("span",{className:"text-[11px] font-bold text-gray-500 dark:text-gray-300 uppercase tracking-[0.12em]",children:r("dashboard.netWorth","Net Worth")})]}),a.jsx("p",{className:Q("text-[2.75rem] sm:text-[3.5rem] font-extrabold font-numbers tracking-[-0.02em] sm:tracking-[-0.03em] leading-tight",g>=0?"text-gray-900 dark:text-gray-100":"text-expense-600 dark:text-expense-300"),children:N(g)}),x!==0&&a.jsxs("div",{className:Q("inline-flex items-center gap-1.5 mt-3 px-3 py-1.5 rounded-full text-xs font-bold",x>=0?"bg-income-100/80 text-income-600 dark:bg-income-900/20 dark:text-income-300":"bg-expense-100/80 text-expense-600 dark:bg-expense-900/20 dark:text-expense-300"),children:[x>=0?a.jsx(qt,{className:"w-3.5 h-3.5"}):a.jsx(cs,{className:"w-3.5 h-3.5"}),x>=0?"+":"",N(x),a.jsx("span",{className:"text-[10px] font-medium opacity-70 ml-0.5",children:r("dashboard.thisMonth","this month")})]}),l&&a.jsx("div",{className:"mt-5 pt-4 border-t border-gray-200/40 dark:border-gray-700/40",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-400 dark:text-gray-400 uppercase tracking-wider mb-0.5",children:r("dashboard.assets","Assets")}),a.jsx("p",{className:"text-lg font-bold font-numbers text-income-600 dark:text-income-300",children:N(p)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-semibold text-gray-400 dark:text-gray-400 uppercase tracking-wider mb-0.5",children:r("dashboard.liabilities","Liabilities")}),a.jsx("p",{className:"text-lg font-bold font-numbers text-expense-600 dark:text-expense-300",children:N(h)})]})]})})]})}function wk({data:e}){const{t}=_e("common"),{currency:r}=cn(),{data:n}=$t(),{isPrivacyMode:o}=Mr(),{resolvedTheme:i}=as(),l=i==="dark",u=l?"#45475a":"#E5E7EB",p=l?"#a6adc8":"#6B7280",h=l?"#1e1e2e":"#fff",g=l?"#45475a":"#E5E7EB",x=l?"#cdd6f4":"#374151",N=k=>nr(k,r,(n==null?void 0:n.rates)||{},!1,o),E=e==null?void 0:e.reduce((k,j)=>{const O=k.length>0?k[k.length-1].netWorth:0;return k.push({month:j.month,netWorth:O+j.net}),k},[]);return!E||E.length===0?null:a.jsxs(Ve,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-primary-100 dark:bg-primary-900/30",children:a.jsx(qt,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:t("dashboard.netWorthTrend","Net Worth Trend")})]}),a.jsx("div",{className:"h-48",children:a.jsx(mf,{width:"100%",height:"100%",children:a.jsxs(pf,{data:E,margin:{top:5,right:10,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"netWorthGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),a.jsx(gf,{strokeDasharray:"3 3",stroke:u,vertical:!1}),a.jsx(yf,{dataKey:"month",stroke:p,tick:{fontSize:11},tickLine:!1,axisLine:!1}),a.jsx(bf,{stroke:p,tick:{fontSize:11},tickLine:!1,axisLine:!1,tickFormatter:N,width:70}),a.jsx(xf,{contentStyle:{backgroundColor:h,border:`1px solid ${g}`,borderRadius:"8px",fontSize:"13px",color:x},formatter:k=>[N(k),t("dashboard.netWorth","Net Worth")]}),a.jsx(vf,{type:"monotone",dataKey:"netWorth",stroke:"#3B82F6",strokeWidth:2,fill:"url(#netWorthGrad)",animationDuration:1200,animationEasing:"ease-out"})]})})})]})}class kk extends y.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback||a.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-500 text-sm",children:"Chart failed to load"}):this.props.children}}y.lazy(()=>Ke(()=>import("./TrendLineChart-BSw_Z91Z.js"),__vite__mapDeps([6,3,2,5,4,1])).then(e=>({default:e.TrendLineChart})));y.lazy(()=>Ke(()=>import("./ZoomableChart-Dmt_lPgt.js"),__vite__mapDeps([7,3,2])).then(e=>({default:e.ZoomableChart})));y.lazy(()=>Ke(()=>import("./IncomeExpenseBarChart-Dmq1ZIYG.js"),__vite__mapDeps([8,3,2,5,4,1])).then(e=>({default:e.IncomeExpenseBarChart})));y.lazy(()=>Ke(()=>import("./CategoryBarChart-3SeiRIgJ.js"),__vite__mapDeps([9,3,2,5,4,10,1])).then(e=>({default:e.CategoryBarChart})));y.lazy(()=>Ke(()=>import("./CategoryPieChart-BUGu43sG.js"),__vite__mapDeps([11,3,2,4,1,5])).then(e=>({default:e.CategoryPieChart})));y.lazy(()=>Ke(()=>import("./CashFlowSummary-Di3qOs_8.js"),__vite__mapDeps([12,3,2,5,4,1])).then(e=>({default:e.CashFlowSummary})));const jk=y.lazy(()=>Ke(()=>import("./ForecastChart-Dkevh_Ed.js"),__vite__mapDeps([13,3,2,5,4,1])).then(e=>({default:e.ForecastChart})));function Nk({height:e="h-64"}){return a.jsx("div",{className:`${e} flex items-center justify-center`,children:a.jsx(je,{className:"w-full h-full rounded-lg"})})}function Sk(e){return a.jsx(kk,{children:a.jsx(y.Suspense,{fallback:a.jsx(Nk,{height:"h-80"}),children:a.jsx(jk,{...e})})})}async function QN(e){const t=new URLSearchParams;return e!=null&&e.start&&t.append("start_date",e.start),e!=null&&e.end&&t.append("end_date",e.end),(await re.get(`/api/analytics?${t.toString()}`)).data}async function _k(e=12){return(await re.get(`/api/analytics/monthly?months=${e}`)).data}async function JN(e){const t=new URLSearchParams;return e!=null&&e.start&&t.append("start_date",e.start),e!=null&&e.end&&t.append("end_date",e.end),(await re.get(`/api/analytics/categories?${t.toString()}`)).data}async function Ck(e){return(await re.get("/api/dashboard/summary")).data}async function ZN(){return(await re.get("/api/analytics/insights")).data}async function Ek(e=6){return(await re.get(`/api/analytics/forecast?months=${e}`)).data}function Pk(){const{t:e}=_e("common"),{currency:t}=cn(),{data:r}=$t(),{data:n,isLoading:o,error:i}=We({queryKey:["forecast",6],queryFn:()=>Ek(6),staleTime:5*60*1e3});if(o)return a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[a.jsx(je,{className:"h-7 w-7 rounded-xl"}),a.jsx(je,{className:"h-5 w-48"})]}),a.jsx(je,{className:"h-80 w-full rounded-lg"}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsx(je,{className:"h-20 rounded-lg"}),a.jsx(je,{className:"h-20 rounded-lg"})]})]});if(i||!n)return a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-4",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-primary-100 dark:bg-primary-900/30",children:a.jsx(Ao,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:e("forecast.title")})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400 dark:text-gray-500",children:[a.jsx(za,{className:"w-8 h-8 mb-2"}),a.jsx("p",{children:e("forecast.error")})]})]});const{months:l,summary:u,current_balance:p}=n,h=l&&l.length>0,g=l[l.length-1],x=u.end_balance-p,N=x>=0,E=u.months_until_negative!==null;return a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-primary-100 dark:bg-primary-900/30",children:a.jsx(Ao,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:e("forecast.title")})]}),E&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-amber-600 dark:text-amber-400",children:[a.jsx(za,{className:"w-4 h-4"}),a.jsx("span",{children:e("forecast.warningNegative",{months:u.months_until_negative})})]})]}),h?a.jsx("div",{className:"h-80",role:"img","aria-label":e("forecast.chartLabel"),children:a.jsx(Sk,{data:l})}):a.jsx("div",{className:"flex items-center justify-center h-80 text-gray-400 dark:text-gray-500",children:e("forecast.noData")}),h&&a.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:Q("p-4 rounded-lg",N?"bg-income-50 dark:bg-income-900/20":"bg-expense-50 dark:bg-expense-900/20"),children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e("forecast.projectedBalance",{month:g==null?void 0:g.month.split("-")[1]})}),a.jsx("p",{className:Q("text-2xl font-bold",N?"text-income-600 dark:text-income-300":"text-expense-600 dark:text-expense-300"),children:Mn(u.end_balance,t,(r==null?void 0:r.rates)||{},!1)}),a.jsxs("div",{className:Q("flex items-center gap-1 mt-1 text-sm",N?"text-income-600 dark:text-income-300":"text-expense-600 dark:text-expense-300"),children:[N?a.jsx(qt,{className:"w-4 h-4"}):a.jsx(cs,{className:"w-4 h-4"}),a.jsxs("span",{children:[N?"+":"",Mn(x,t,(r==null?void 0:r.rates)||{},!1)]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:e("forecast.avgMonthlySavings")}),a.jsxs("p",{className:Q("text-2xl font-bold",u.avg_monthly_net>=0?"text-gray-900 dark:text-gray-100":"text-expense-600 dark:text-expense-300"),children:[u.avg_monthly_net>=0?"+":"",Mn(u.avg_monthly_net,t,(r==null?void 0:r.rates)||{},!1)]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e("forecast.perMonth")})]})]})]})}const hl=5,ml={1:{icon:za,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100/80 dark:bg-amber-900/20"},2:{icon:za,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100/80 dark:bg-amber-900/20"},3:{icon:Oo,color:"text-primary-600 dark:text-primary-400",bg:"bg-primary-100/80 dark:bg-primary-900/20"},4:{icon:Jo,color:"text-income-600 dark:text-income-400",bg:"bg-income-100/80 dark:bg-income-900/20"},5:{icon:Oo,color:"text-gray-500 dark:text-gray-400",bg:"bg-gray-100 dark:bg-gray-800"}};function Tk({insights:e}){const{t}=_e("common"),{currency:r}=cn(),{isPrivacyMode:n}=Mr(),{data:o}=$t(),[i,l]=y.useState(!1);if(!e||e.length===0)return null;const u=i?e:e.slice(0,hl),p=e.length>hl,h=g=>nr(g,r,(o==null?void 0:o.rates)||{},!1,n);return a.jsxs(Ve,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-purple-100 dark:bg-purple-900/30",children:a.jsx(ln,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:t("insights.title","Insights")})]}),a.jsxs("span",{className:"text-[10px] font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-[0.12em]",children:[e.length," ",t("insights.items","items")]})]}),a.jsx("div",{className:"space-y-2",children:u.map((g,x)=>{var O;const N=g.priority,E=ml[N]||ml[3],k=E.icon,j=(O=g.data)==null?void 0:O.current;return a.jsxs("div",{className:"flex items-start gap-3 py-2.5 border-b border-gray-100 dark:border-gray-700 last:border-0 animate-stagger-in",style:{"--stagger-index":x},children:[a.jsx("div",{className:Q("p-1.5 rounded-lg shrink-0 mt-0.5",E.bg),children:a.jsx(k,{className:Q("w-3.5 h-3.5",E.color)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 leading-snug",children:g.title}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5 leading-relaxed",children:g.message})]}),j!=null&&j>0&&a.jsx("span",{className:"text-xs font-bold font-numbers text-gray-600 dark:text-gray-300 shrink-0 mt-0.5",children:h(j)})]},`${g.type}-${x}`)})}),p&&a.jsx("button",{onClick:()=>l(!i),className:"w-full mt-2 py-1.5 text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center justify-center gap-1 hover:bg-primary-50 dark:hover:bg-primary-900/10 rounded-lg transition-colors",children:i?a.jsxs(a.Fragment,{children:[t("insights.showLess","Show less"),a.jsx(Jm,{className:"w-3.5 h-3.5"})]}):a.jsxs(a.Fragment,{children:[t("insights.viewAll","View all")," (",e.length,")",a.jsx(Vm,{className:"w-3.5 h-3.5"})]})})]})}function pl({label:e,value:t,change:r,isPositive:n,formatCurrency:o,className:i}){return a.jsxs(Ve,{className:Q("p-4 shadow-card",i),children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-300 mb-2 uppercase tracking-[0.12em]",children:e}),a.jsx("p",{className:"text-[1.65rem] font-extrabold font-numbers text-gray-900 dark:text-gray-100 tracking-tight leading-none",children:o(t)}),r!==0&&a.jsxs("div",{className:Q("flex items-center gap-1 mt-2 text-xs font-bold",n&&r>0||!n&&r<0?"text-income-600 dark:text-income-300":"text-expense-600 dark:text-expense-300"),children:[r>0?a.jsx(qt,{className:"w-3.5 h-3.5"}):a.jsx(cs,{className:"w-3.5 h-3.5"}),Math.abs(r),"%"]})]})}function Ak({rate:e}){const{t}=_e("common"),n=e>=20?{color:"text-income-600 dark:text-income-300",bg:"bg-income-100 dark:bg-income-900/30",label:t("dashboard.savingsGood","Healthy")}:e>=10?{color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/30",label:t("dashboard.savingsFair","Fair")}:{color:"text-expense-600 dark:text-expense-300",bg:"bg-expense-100 dark:bg-expense-900/30",label:t("dashboard.savingsLow","Low")};return a.jsxs(Ve,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-300 uppercase tracking-[0.12em]",children:t("dashboard.savingsRate","Savings Rate")}),a.jsx("span",{className:Q("text-[11px] font-bold px-2.5 py-1 rounded-full",n.bg,n.color),children:n.label})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:"text-[2.75rem] font-extrabold font-numbers text-gray-900 dark:text-gray-100 tracking-[-0.03em] leading-none",children:[Math.round(e),"%"]}),a.jsx("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-400",children:t("dashboard.ofIncome","of income")})]}),a.jsx("div",{className:"w-full h-3 bg-gray-100 dark:bg-gray-700/60 rounded-full mt-4 overflow-hidden",children:a.jsx("div",{className:Q("h-full rounded-full animate-progress-fill progress-glow",e>=20?"bg-income-600":e>=10?"bg-amber-500":"bg-expense-600"),style:{width:`${Math.min(100,e)}%`}})})]})}function Ok({years:e,progress:t,formatCurrency:r}){var l,u,p;const{t:n}=_e("common"),o=t.target_amount>0?Math.min(100,t.total_saved/t.target_amount*100):0,i=((l=t.achievability)==null?void 0:l.current_monthly_net)>=((u=t.achievability)==null?void 0:u.required_monthly);return a.jsxs("div",{className:"flex items-center gap-3 p-3.5 bg-gray-50/80 dark:bg-gray-700/50 rounded-xl border border-gray-100 dark:border-gray-700/50",children:[a.jsx("div",{className:Q("w-11 h-11 rounded-xl flex items-center justify-center text-sm font-extrabold shrink-0",i?"bg-income-100 text-income-600 dark:bg-income-900/20 dark:text-income-300":"bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"),children:o>=100?"":`${Math.round(o)}%`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:n("goals.yearGoal",{years:e})}),a.jsx("span",{className:Q("text-[10px] font-medium px-1.5 py-0.5 rounded-full",i?"bg-income-100 text-income-600 dark:bg-income-900/20 dark:text-income-300":"bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"),children:n(i?"goals.onTrack":"goals.behind")})]}),a.jsxs("p",{className:"text-xs font-bold font-numbers text-gray-500 dark:text-gray-400 mt-0.5",children:[r(t.total_saved),a.jsx("span",{className:"font-normal ml-1.5",children:n("goals.monthsLeft",{count:t.months_remaining??((p=t.achievability)==null?void 0:p.months_remaining)??0})})]}),a.jsx("div",{className:"w-full h-2.5 bg-gray-200 dark:bg-gray-600 rounded-full mt-2 overflow-hidden",children:a.jsx("div",{className:Q("h-full rounded-full animate-progress-fill",i?"bg-income-600":"bg-amber-500"),style:{width:`${o}%`}})})]}),a.jsx(Sr,{className:"w-4 h-4 text-gray-400"})]})}function gl({end:e,duration:t=1e3,decimals:r=0,prefix:n="",suffix:o="",className:i="",formatter:l,onComplete:u}){const[p,h]=y.useState(0),g=y.useRef(null),x=y.useRef(null),N=y.useRef(e);y.useEffect(()=>{if(Math.abs(N.current-e)<.01)return;if(N.current=e,h(0),g.current=null,e===0){h(0);return}const k=O=>1-Math.pow(1-O,4),j=O=>{g.current||(g.current=O);const W=O-g.current,U=Math.min(W/t,1),B=k(U);h(B*e),U<1?x.current=requestAnimationFrame(j):(h(e),u==null||u())};return x.current=requestAnimationFrame(j),()=>{x.current&&cancelAnimationFrame(x.current)}},[e,t,u]);const E=l?l(p):`${n}${p.toFixed(r)}${o}`;return a.jsx("span",{className:i,children:E})}function Rk({summary:e,formatCurrency:t,accounts:r,exchangeRates:n={}}){const{t:o}=_e("common"),i=(r==null?void 0:r.filter(p=>Qa.includes(p.type)).reduce((p,h)=>p+Ja(h.current_balance,h.currency||"JPY",n),0))||0,l=(r==null?void 0:r.filter(p=>!Qa.includes(p.type)).reduce((p,h)=>p+Math.abs(Ja(h.current_balance,h.currency||"JPY",n)),0))||0,u=[{label:o("dashboard.assets","Assets"),value:i,color:"text-income-600 dark:text-income-300"},{label:o("dashboard.liabilities","Liabilities"),value:l,color:"text-expense-600 dark:text-expense-300"},{label:o("nav.transactions","Transactions"),value:(e==null?void 0:e.transaction_count)||0,color:"text-gray-900 dark:text-gray-100",isCount:!0}];return a.jsx("div",{className:"grid grid-cols-3 gap-2.5",children:u.map((p,h)=>a.jsxs("div",{className:Q("text-center p-3 rounded-xl border animate-stagger-in",h===0&&"bg-income-50/60 dark:bg-income-900/10 border-income-100/60 dark:border-income-900/20",h===1&&"bg-expense-50/60 dark:bg-expense-900/10 border-expense-100/60 dark:border-expense-900/20",h===2&&"bg-gray-50/80 dark:bg-gray-800/80 border-gray-100 dark:border-gray-700/50"),style:{"--stagger-index":h},children:[a.jsx("p",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-300 mb-1.5 uppercase tracking-[0.12em]",children:p.label}),a.jsx("p",{className:Q("text-lg font-extrabold font-numbers tracking-tight",p.color),children:p.isCount?a.jsx(gl,{end:p.value,duration:800}):a.jsx(gl,{end:p.value,duration:800,formatter:t})})]},p.label))})}function Mk({children:e,variant:t="default",className:r}){return a.jsx("span",{className:Q("inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",{"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":t==="default","bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400":t==="success","bg-yellow-100 text-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-400":t==="warning","bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400":t==="error","bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400":t==="info","bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-400":t==="purple"},r),children:e})}function Dk({alerts:e,unreadAnomalyCount:t,budgetAlerts:r=[],onDismissBudgetAlert:n}){const{t:o}=_e("common"),i=e.length>0,l=t&&t>0,u=r.length>0;if(!i&&!l&&!u)return null;const p=h=>h==="threshold_100"||h==="over_budget";return a.jsxs("div",{className:"space-y-2",children:[i&&a.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:e.map((h,g)=>a.jsxs("div",{className:Q("flex-shrink-0 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-1.5",h.type==="danger"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"),children:[a.jsx(Nc,{className:"w-3.5 h-3.5"}),h.message]},g))}),u&&a.jsx("div",{className:"space-y-2",children:r.map((h,g)=>{const x=h.budget_amount>0?Math.round(h.current_spending/h.budget_amount*100):0,N=p(h.alert_type);return a.jsx(Ye,{to:"/budget",className:"block animate-stagger-in",style:{"--stagger-index":g},children:a.jsxs("div",{className:Q("p-3 rounded-xl border transition-colors",N?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"),children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:Q("text-xs font-semibold",N?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300"),children:o("alerts.budgetWarning","{{category}}: {{pct}}% spent",{category:h.category,pct:x})}),n&&a.jsx("button",{onClick:E=>{E.preventDefault(),n(h.id)},className:"p-0.5 rounded hover:bg-black/10 dark:hover:bg-white/10",children:a.jsx(xt,{className:"w-3.5 h-3.5"})})]}),a.jsx("div",{className:"w-full h-2 rounded-full bg-gray-200 dark:bg-gray-700",children:a.jsx("div",{className:Q("h-full rounded-full transition-all",N?"bg-red-500":"bg-amber-500"),style:{width:`${Math.min(x,100)}%`}})}),a.jsx("p",{className:Q("text-[10px] mt-1",N?"text-red-500 dark:text-red-400":"text-amber-500 dark:text-amber-400"),children:o("alerts.budgetRemaining","{{amount}} remaining",{amount:h.amount_remaining.toFixed(0)})})]})},h.id)})}),l&&a.jsx("a",{href:"/settings?section=anomaly",children:a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[a.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:a.jsx(Nc,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:o("anomaly.title")}),a.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:o("anomaly.alertsDetected","{{count}} alerts detected",{count:t})})]}),a.jsx(Mk,{variant:"error",children:t})]})})]})}function Ik(){const{t:e}=_e("common"),[t,r]=y.useState(!1);y.useEffect(()=>{localStorage.getItem("onboarding_dismissed")==="true"&&r(!0)},[]);const{data:n=[]}=We({queryKey:["accounts"],queryFn:()=>bu()}),{data:o=[]}=We({queryKey:["transactions-check"],queryFn:()=>ci()}),{data:i=[]}=We({queryKey:["goals"],queryFn:sd}),l=n.length>0,u=o.length>0,p=i.length>0,h=[{id:"account",titleKey:"onboarding.steps.account.title",descriptionKey:"onboarding.steps.account.description",icon:a.jsx(un,{className:"h-5 w-5"}),link:"/accounts",isComplete:l},{id:"upload",titleKey:"onboarding.steps.upload.title",descriptionKey:"onboarding.steps.upload.description",icon:a.jsx(sr,{className:"h-5 w-5"}),link:"/upload",isComplete:u},{id:"goals",titleKey:"onboarding.steps.goals.title",descriptionKey:"onboarding.steps.goals.description",icon:a.jsx(er,{className:"h-5 w-5"}),link:"/goals",isComplete:p}],g=h.filter(k=>k.isComplete).length,x=g===h.length,N=Math.round(g/h.length*100);if(t||x)return null;const E=()=>{localStorage.setItem("onboarding_dismissed","true"),r(!0)};return a.jsxs(Ve,{className:"mb-6 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-950 dark:to-blue-950 border-primary-200 dark:border-primary-800",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900 rounded-lg",children:a.jsx(ln,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("onboarding.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("onboarding.subtitle",{completed:g,total:h.length})})]})]}),a.jsx("button",{onClick:E,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":e("button.close"),children:a.jsx(xt,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500 transition-[width] duration-500",style:{width:`${N}%`}})})}),a.jsx("div",{className:"space-y-2",children:h.map(k=>a.jsxs(Ye,{to:k.link,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${k.isComplete?"bg-green-50 dark:bg-green-950/50":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[a.jsx("div",{className:`p-2 rounded-full ${k.isComplete?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:k.isComplete?a.jsx(zm,{className:"h-5 w-5"}):k.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-medium ${k.isComplete?"text-green-700 dark:text-green-400 line-through":"text-gray-900 dark:text-gray-100"}`,children:e(k.titleKey)}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e(k.descriptionKey)})]}),!k.isComplete&&a.jsx(Dn,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]},k.id))})]})}function xo(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function Xr(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function Fk({isOpen:e,onClose:t}){const{t:r}=_e("common"),n=wt(),{data:o=[]}=ls(),{data:i}=$t(),[l,u]=y.useState(1),[p,h]=y.useState(null),[g,x]=y.useState(""),[N,E]=y.useState(""),[k,j]=y.useState(null),[O,W]=y.useState(new Date().toISOString().split("T")[0]),[U,B]=y.useState(""),[q,ee]=y.useState(""),[X,J]=y.useState(""),[xe,we]=y.useState({}),Re=y.useMemo(()=>o.filter(Z=>Z.type==="receivable"&&Z.is_active),[o]),he=y.useMemo(()=>o.filter(Z=>Z.type!=="receivable"&&Z.is_active),[o]),ue=y.useMemo(()=>{var Z;return(Z=i==null?void 0:i.rates)!=null&&Z.VND?i.rates.VND:170},[i]),Ae=Xr(N),Me=Xr(U),F=parseFloat(q)||ue,z=Me*F,Y=Me-Ae,de=Ae>0?(Y/Ae*100).toFixed(1):"0";y.useEffect(()=>{e&&(u(1),h(null),x(""),E(""),j(null),W(new Date().toISOString().split("T")[0]),B(""),ee(ue.toFixed(1)),J(""),we({}))},[e,ue]),y.useEffect(()=>{!q&&ue&&ee(ue.toFixed(1))},[ue]);const ce=()=>{const Z={};return p||(Z.client=r("proxy.errors.clientRequired")),g.trim()||(Z.item=r("proxy.errors.itemRequired")),(!N||Xr(N)<=0)&&(Z.cost=r("proxy.errors.costRequired")),k||(Z.payment=r("proxy.errors.paymentRequired")),we(Z),Object.keys(Z).length===0},pe=()=>{const Z={};return(!U||Xr(U)<=0)&&(Z.markup=r("proxy.errors.markupRequired")),(!q||parseFloat(q)<=0)&&(Z.rate=r("proxy.errors.rateRequired")),we(Z),Object.keys(Z).length===0},Ee=()=>{ce()&&(U||B(N),u(2))},G=Lt({mutationFn:xu,onSuccess:()=>{n.invalidateQueries({queryKey:["transactions"]}),n.invalidateQueries({queryKey:["accounts"]}),n.invalidateQueries({queryKey:["proxy-outstanding"]}),t()}}),H=()=>{pe()&&G.mutate({client_account_id:p,item:g.trim(),cost:Xr(N),payment_account_id:k,markup_price:Xr(U),exchange_rate:parseFloat(q),purchase_date:O,notes:X.trim()||void 0})},ge=Re.find(Z=>Z.id===p);if(!e)return null;const ye=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-5 h-5 text-blue-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:r("proxy.title")})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(xt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-4 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx("span",{children:r("proxy.step",{current:l,total:2})}),a.jsx("span",{children:""}),a.jsx("span",{children:r(l===1?"proxy.step1Title":"proxy.step2Title")})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:Q("h-1 flex-1 rounded",l>=1?"bg-blue-500":"bg-gray-200 dark:bg-gray-700")}),a.jsx("div",{className:Q("h-1 flex-1 rounded",l>=2?"bg-blue-500":"bg-gray-200 dark:bg-gray-700")})]})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:l===1?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.client")," *"]}),a.jsxs("select",{value:p||"",onChange:Z=>h(Number(Z.target.value)||null),className:Q("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",xe.client?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:r("proxy.selectClient")}),Re.map(Z=>a.jsx("option",{value:Z.id,children:Z.name.replace("Receivable: ","")},Z.id))]}),xe.client&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.client}),Re.length===0&&a.jsx("p",{className:"text-amber-600 text-xs mt-1",children:r("proxy.noClients")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.item")," *"]}),a.jsx(ht,{value:g,onChange:Z=>x(Z.target.value),placeholder:r("proxy.itemPlaceholder"),className:xe.item?"border-red-500":""}),xe.item&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.item})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.cost")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:N,onChange:Z=>E(xo(Z.target.value)),placeholder:"1,000",className:Q("pl-8",xe.cost?"border-red-500":""),inputMode:"numeric"})]}),xe.cost&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.cost})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.paymentMethod")," *"]}),a.jsxs("select",{value:k||"",onChange:Z=>j(Number(Z.target.value)||null),className:Q("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",xe.payment?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:r("proxy.selectPayment")}),he.map(Z=>a.jsx("option",{value:Z.id,children:Z.name},Z.id))]}),xe.payment&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.payment})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.purchaseDate")}),a.jsx(ht,{type:"date",value:O,onChange:Z=>W(Z.target.value)})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{className:"font-medium",children:g})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r("proxy.yourCost"),": ",N]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r("proxy.client"),": ",ge==null?void 0:ge.name.replace("Receivable: ","")]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.markupPrice")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:U,onChange:Z=>B(xo(Z.target.value)),placeholder:"1,200",className:Q("pl-8",xe.markup?"border-red-500":""),inputMode:"numeric"})]}),xe.markup&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.markup}),a.jsx("div",{className:"flex gap-2 mt-2",children:[10,15,20].map(Z=>a.jsxs("button",{type:"button",onClick:()=>B(xo(String(Math.round(Ae*(1+Z/100))))),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:["+",Z,"%"]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.exchangeRate")}),a.jsxs("div",{className:"relative",children:[a.jsx(ht,{value:q,onChange:Z=>ee(Z.target.value),placeholder:"170",className:xe.rate?"border-red-500":"",inputMode:"decimal"}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"VND/JPY"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r("proxy.currentRate"),": ",ue.toFixed(1)," VND/JPY"]}),xe.rate&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:xe.rate})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{children:[r("proxy.clientPays"),":"]}),a.jsxs("span",{className:"font-bold",children:["",z.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{children:[r("proxy.yourProfit"),":"]}),a.jsxs("span",{className:Q("font-bold",Y>=0?"text-green-600":"text-red-600"),children:["",Y.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[r("proxy.profitMargin"),":"]}),a.jsxs("span",{className:"font-medium",children:[de,"%"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.notes")}),a.jsx("textarea",{value:X,onChange:Z=>J(Z.target.value),placeholder:r("proxy.notesPlaceholder"),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 resize-none",rows:2})]})]})}),a.jsx("div",{className:"flex justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:l===1?a.jsxs(a.Fragment,{children:[a.jsx(Je,{variant:"secondary",onClick:t,children:r("button.cancel")}),a.jsxs(Je,{onClick:Ee,disabled:Re.length===0,children:[r("button.next")," ",a.jsx(Sr,{className:"w-4 h-4 ml-1"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Je,{variant:"secondary",onClick:()=>u(1),children:[a.jsx(Rm,{className:"w-4 h-4 mr-1"})," ",r("button.back")]}),a.jsx(Je,{onClick:H,disabled:G.isPending,children:G.isPending?r("button.creating"):r("proxy.createPurchase")})]})})]})]});return typeof document>"u"?null:Ft.createPortal(ye,document.body)}function yl(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function bl(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function Lk({isOpen:e,onClose:t,client:r}){const{t:n}=_e("common"),o=wt(),{data:i=[]}=ls(),[l,u]=y.useState(new Set),[p,h]=y.useState(null),[g,x]=y.useState(""),[N,E]=y.useState(new Date().toISOString().split("T")[0]),[k,j]=y.useState({}),O=y.useMemo(()=>i.filter(he=>he.type!=="receivable"&&he.is_active),[i]),W=y.useMemo(()=>r?r.items.filter(he=>l.has(he.transaction_id)):[],[r,l]),U=W.reduce((he,ue)=>he+ue.amount_jpy,0),B=W.reduce((he,ue)=>he+ue.charge_vnd,0);y.useEffect(()=>{e&&r&&(u(new Set(r.items.map(he=>he.transaction_id))),h(null),x(""),E(new Date().toISOString().split("T")[0]),j({}))},[e,r]),y.useEffect(()=>{B>0&&x(yl(String(B)))},[B]);const q=he=>{u(ue=>{const Ae=new Set(ue);return Ae.has(he)?Ae.delete(he):Ae.add(he),Ae})},ee=()=>{r&&u(new Set(r.items.map(he=>he.transaction_id)))},X=()=>u(new Set),J=()=>{const he={};return l.size===0&&(he.items=n("proxy.errors.selectItems")),p||(he.receive=n("proxy.errors.receiveRequired")),(!g||bl(g)<=0)&&(he.amount=n("proxy.errors.amountRequired")),j(he),Object.keys(he).length===0},xe=Lt({mutationFn:A0,onSuccess:()=>{o.invalidateQueries({queryKey:["transactions"]}),o.invalidateQueries({queryKey:["accounts"]}),o.invalidateQueries({queryKey:["proxy-outstanding"]}),t()}}),we=()=>{!J()||!r||xe.mutate({client_account_id:r.client_id,transaction_ids:Array.from(l),receive_account_id:p,vnd_amount:bl(g),payment_date:N})};if(!e||!r)return null;const Re=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 z-0",onClick:t}),a.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Im,{className:"w-5 h-5 text-green-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:n("proxy.settleTitle")})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(xt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("proxy.client")}),a.jsx("p",{className:"font-semibold text-lg",children:r.client_name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[n("proxy.outstanding"),": ",r.total_jpy.toLocaleString()]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:n("proxy.selectItemsToSettle")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ee,className:"text-xs text-blue-500 hover:underline",children:n("proxy.selectAll")}),a.jsx("button",{onClick:X,className:"text-xs text-blue-500 hover:underline",children:n("proxy.selectNone")})]})]}),a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg max-h-40 overflow-y-auto",children:r.items.map(he=>a.jsxs("label",{className:Q("flex items-center gap-3 p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50","border-b border-gray-100 dark:border-gray-700 last:border-0"),children:[a.jsx("input",{type:"checkbox",checked:l.has(he.transaction_id),onChange:()=>q(he.transaction_id),className:"rounded border-gray-300 text-blue-600"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:he.item}),a.jsx("p",{className:"text-xs text-gray-500",children:he.date})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-mono text-sm",children:["",he.amount_jpy.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["",he.charge_vnd.toLocaleString()]})]})]},he.transaction_id))}),k.items&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.items})]}),a.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg mb-4",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[n("proxy.settlementAmount")," (JPY):"]}),a.jsxs("span",{className:"font-bold",children:["",U.toLocaleString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("proxy.receiveTo")," *"]}),a.jsxs("select",{value:p||"",onChange:he=>h(Number(he.target.value)||null),className:Q("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",k.receive?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:n("proxy.selectAccount")}),O.map(he=>a.jsxs("option",{value:he.id,children:[he.name," (",he.currency,")"]},he.id))]}),k.receive&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.receive})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("proxy.amountReceived")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:g,onChange:he=>x(yl(he.target.value)),placeholder:"544,000",className:Q("pl-8",k.amount?"border-red-500":""),inputMode:"numeric"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n("proxy.expected"),": ",B.toLocaleString()]}),k.amount&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.amount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:n("proxy.paymentDate")}),a.jsx(ht,{type:"date",value:N,onChange:he=>E(he.target.value)})]})]}),a.jsxs("div",{className:"flex justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(Je,{variant:"secondary",onClick:t,children:n("button.cancel")}),a.jsx(Je,{onClick:we,disabled:xe.isPending||l.size===0,children:xe.isPending?n("button.processing"):n("proxy.confirmPayment")})]})]})]});return typeof document>"u"?null:Ft.createPortal(Re,document.body)}function qk(){const{t:e}=_e("common"),[t,r]=y.useState(!1),[n,o]=y.useState(null),{data:i=[],isLoading:l}=We({queryKey:["proxy-outstanding"],queryFn:T0}),u=i.reduce((h,g)=>h+g.total_jpy,0),p=h=>{if(!h)return 0;const g=new Date(h);return Math.floor((new Date().getTime()-g.getTime())/(1e3*60*60*24))};return l?a.jsx(Ve,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})}):i.length===0?null:a.jsxs(a.Fragment,{children:[a.jsxs(Ve,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sg,{className:"w-5 h-5 text-blue-500"}),a.jsx("h3",{className:"font-semibold",children:e("proxy.outstandingReceivables")})]}),a.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-600",children:[a.jsx(os,{className:"w-4 h-4"}),e("proxy.newPurchase")]})]}),a.jsx("div",{className:"space-y-2",children:i.map(h=>{const g=p(h.oldest_date);return a.jsxs("button",{onClick:()=>o(h),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:h.client_name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[h.item_count," ",e("proxy.items"),g>0&&`  ${e("proxy.oldestDays",{days:g})}`]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-mono font-semibold",children:["",h.total_jpy.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["",h.total_vnd.toLocaleString()]})]}),a.jsx(Dn,{className:"w-4 h-4 text-gray-400"})]})]},h.client_id)})}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:[e("proxy.total"),":"]}),a.jsxs("span",{className:"font-bold",children:["",u.toLocaleString()]})]})})]}),a.jsx(Fk,{isOpen:t,onClose:()=>r(!1)}),a.jsx(Lk,{isOpen:!!n,onClose:()=>o(null),client:n})]})}async function e2(e,t){return(await re.get(`/api/reports/monthly-usage/${e}/${t}`)).data}async function t2(e,t){return(await re.get(`/api/reports/monthly-usage/${e}/${t}/pdf`,{responseType:"blob"})).data}async function r2(e,t,r,n){return(await re.post(`/api/reports/monthly/${e}/${t}/ai-summary`,null,{params:{language:r,force_regenerate:n}})).data}async function $k(e,t,r){try{return(await re.get(`/api/reports/monthly/${e}/${t}/ai-summary`,{params:{language:r}})).data}catch{return null}}function Bk(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1);return{year:t.getFullYear(),month:t.getMonth()+1}}function Kk(e,t){return new Date(2026,e-1,1).toLocaleString(t,{month:"long"})}function Wk({className:e}){const{t,i18n:r}=_e("common"),o=new Date().getDate(),{year:i,month:l}=Bk(),u=`report-banner-dismissed-${i}-${l}`,[p,h]=y.useState(()=>{try{return localStorage.getItem(u)==="1"}catch{return!1}}),g=o<=7&&!p,{data:x}=We({queryKey:["ai-summary",i,l,r.language],queryFn:()=>$k(i,l,r.language),enabled:g,retry:!1,staleTime:1/0});if(!g)return null;const N=Kk(l,r.language),E=(x==null?void 0:x.win)??t("report.bannerFallback",{month:N}),k=()=>{try{localStorage.setItem(u,"1")}catch{}h(!0)};return a.jsxs("div",{className:Q("relative rounded-xl p-4 bg-gradient-to-r from-primary-500/10 to-primary-500/5","border border-primary-200 dark:border-primary-800","animate-slide-in-top",e),children:[a.jsx("button",{onClick:k,"aria-label":t("report.bannerDismiss"),className:"absolute top-2 right-2 p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(xt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary-100 dark:bg-primary-900/30 shrink-0",children:a.jsx(au,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-0.5",children:t("report.bannerTitle",{month:N})}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:E}),a.jsxs(Ye,{to:"/analytics",search:{tab:"report"},className:"inline-flex items-center gap-1 text-xs font-medium text-primary-600 dark:text-primary-400 hover:underline",children:[t("report.bannerCta"),a.jsx(Sr,{className:"w-3 h-3"})]})]})]})]})}async function Uk(e=!1){const t=new URLSearchParams;return e&&t.append("active_only","true"),(await re.get(`/api/recurring/?${t.toString()}`)).data.recurring_transactions}async function n2(e){return(await re.post("/api/recurring/",e)).data}async function a2(e,t){return(await re.patch(`/api/recurring/${e}`,t)).data}async function s2(e){await re.delete(`/api/recurring/${e}`)}async function o2(e=3){return(await re.get(`/api/recurring/suggestions?min_occurrences=${e}`)).data.suggestions}async function i2(e){await re.post(`/api/recurring/suggestions/${e}/dismiss`)}async function c2(){return(await re.get("/api/anomalies/config")).data}async function l2(e){return(await re.put("/api/anomalies/config",e)).data}async function zk(){return(await re.get("/api/anomalies/unread/count")).data}async function Hk(e){return(await re.get("/api/insights/live",{params:{limit:e}})).data}function Vk(){const{tier:e}=as(),t=e==="lite";return{tier:e,isLite:t,recentTransactions:t?3:5,categoryChips:t?4:8,dashboardGoals:t?1:2,insightCards:t?3:5,savingsRecs:t?3:5,anomalyAlerts:t?2:3,quickActions:t?4:6,categoryBreakdown:t?5:999,searchResults:t?3:5}}const Yk=y.lazy(()=>Ke(()=>import("./SpendingCalendar-BR9JoFRX.js"),__vite__mapDeps([14,3,2,1,5,15,16,4])));function Gk(){const{t:e}=_e("common"),{currency:t}=cn(),{data:r}=$t(),{isPrivacyMode:n}=Mr(),o=Vk(),{data:i}=yu(),{greeting:l,subtitle:u,emoji:p}=iv(i==null?void 0:i.display_name),[h,g]=y.useState(new Date),{data:x,isLoading:N}=We({queryKey:["dashboard-summary"],queryFn:()=>Ck()}),{data:E,isLoading:k}=We({queryKey:["monthly-trends",12],queryFn:()=>_k(12)}),{data:j,isLoading:O}=We({queryKey:["goals"],queryFn:sd}),{data:W}=We({queryKey:["goals-progress",j==null?void 0:j.map(H=>H.id)],queryFn:async()=>!j||j.length===0?[]:Promise.all(j.map(H=>xx(H.id,!0))),enabled:!!j&&j.length>0}),{data:U}=We({queryKey:["recent-transactions"],queryFn:async()=>(await ci()).slice(0,o.recentTransactions)}),{data:B}=ls(),{data:q}=We({queryKey:["unreadAnomalyCount"],queryFn:zk}),{data:ee}=We({queryKey:["recurring-transactions",!0],queryFn:()=>Uk(!0),staleTime:5*60*1e3}),X=wt(),{data:J}=We({queryKey:["budget-alerts"],queryFn:()=>wx(!0)}),xe=Lt({mutationFn:kx,onSuccess:()=>X.invalidateQueries({queryKey:["budget-alerts"]})}),{data:we}=We({queryKey:["live-insights"],queryFn:()=>Hk(10),staleTime:30*60*1e3}),[Re,he]=y.useState(null),[ue,Ae]=y.useState(null),Me=(H,ge)=>{ge.length>0&&(Ae(H.toISOString()),he(ge))},F=()=>{he(null),Ae(null)},z=N||k||O,Y=y.useCallback(H=>nr(H,t,(r==null?void 0:r.rates)||{},!1,n),[t,r==null?void 0:r.rates,n]),de=y.useCallback((H,ge="JPY")=>nr(H,ge,(r==null?void 0:r.rates)||{},!0,n),[r==null?void 0:r.rates,n]),ce=E==null?void 0:E[E.length-1],pe=ce&&ce.income>0?(ce.income-ce.expenses)/ce.income*100:0,Ee=[{icon:os,label:e("quickActions.add","Add"),color:"bg-primary-500",to:"/transactions?action=add-transaction"},{icon:Bm,label:e("quickActions.scan","Scan"),color:"bg-purple-500",to:"/transactions?action=scan-receipt"},{icon:sr,label:e("quickActions.upload","Upload"),color:"bg-blue-500",to:"/upload"},{icon:nu,label:e("quickActions.analytics","Analytics"),color:"bg-green-500",to:"/analytics"}],G=[];return ce&&ce.expenses>ce.income&&ce.income>0&&G.push({type:"danger",message:e("alerts.overspending","Overspending")}),pe<10&&pe>=0&&G.push({type:"warning",message:e("alerts.lowSavings","Low savings")}),z?a.jsx(av,{}):a.jsxs("div",{className:"min-h-screen pb-32",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-b border-gray-200/50 dark:border-gray-700/50",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-3.5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("button",{onClick:()=>{const H=new Date(h);H.setMonth(H.getMonth()-1),g(H)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:a.jsx(Gm,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("h1",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-[0.1em]",children:gk(h)}),a.jsx("button",{onClick:()=>{const H=new Date(h);H.setMonth(H.getMonth()+1),g(H)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:a.jsx(Dn,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-[1.75rem] sm:text-[2rem] font-extrabold text-gray-900 dark:text-white tracking-tight leading-tight",children:[p," ",l]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5 font-medium",children:u})]})]})}),a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-5 space-y-5",children:[a.jsx(Ik,{}),a.jsx(qk,{}),a.jsx("div",{className:"pt-1",children:a.jsx(vk,{summary:x,accounts:B||[]})}),a.jsx(wk,{data:E}),a.jsx(Pk,{}),we&&we.insights.length>0&&a.jsx(Tk,{insights:we.insights}),a.jsx(Dk,{alerts:G,unreadAnomalyCount:q==null?void 0:q.count,budgetAlerts:(J==null?void 0:J.alerts)||[],onDismissBudgetAlert:H=>xe.mutate(H)}),a.jsx(Wk,{}),a.jsx("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4",children:a.jsx("div",{className:"flex gap-3 pb-2 min-w-max",children:Ee.map((H,ge)=>{const ye=H.icon;return a.jsxs(Ye,{to:H.to,className:"flex flex-col items-center gap-2 p-1 animate-stagger-in",style:{"--stagger-index":ge},children:[a.jsx("div",{className:Q("w-14 h-14 rounded-2xl flex items-center justify-center shadow-md","transition-all duration-150 ease-out hover:scale-[1.08] hover:shadow-lg active:scale-95 active:duration-[50ms]","focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",H.color),children:a.jsx(ye,{className:"w-6 h-6 text-white",strokeWidth:2})}),a.jsx("span",{className:"text-[11px] font-bold text-gray-600 dark:text-gray-400",children:H.label})]},ge)})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Rk,{summary:x,formatCurrency:Y,accounts:B||[],exchangeRates:(r==null?void 0:r.rates)||{}}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":0},children:a.jsx(pl,{label:e("dashboard.income","Income"),value:(ce==null?void 0:ce.income)||0,change:5.2,isPositive:!0,formatCurrency:Y,className:"bg-income-50/50 dark:bg-income-900/10 border-income-100 dark:border-income-900/20"})}),a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":1},children:a.jsx(pl,{label:e("dashboard.expenses","Expenses"),value:(ce==null?void 0:ce.expenses)||0,change:-2.1,isPositive:!1,formatCurrency:Y,className:"bg-expense-50/50 dark:bg-expense-900/10 border-expense-100 dark:border-expense-900/20"})})]}),a.jsx(Ak,{rate:pe})]}),a.jsxs(Ve,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-primary-100 dark:bg-primary-900/30",children:a.jsx(Zt,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:e("dashboard.recentTransactions","Recent")})]}),a.jsxs(Ye,{to:"/transactions",className:"text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center gap-1 hover:gap-1.5 transition-all",children:[e("viewAll")," ",a.jsx(Sr,{className:"w-3.5 h-3.5"})]})]}),U&&U.length>0?a.jsx("div",{className:"space-y-1",children:U.slice(0,5).map((H,ge)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray-100 dark:border-gray-700 last:border-0 animate-stagger-in",style:{"--stagger-index":ge},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Q("w-9 h-9 rounded-xl flex items-center justify-center text-sm font-bold",H.type==="income"?"bg-income-100 text-income-600 dark:bg-income-900/20 dark:text-income-300":"bg-expense-100 text-expense-600 dark:bg-expense-900/20 dark:text-expense-300"),children:H.type==="income"?"+":"-"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:H.description||H.category}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:mt(H.date,"MM/dd")})]})]}),a.jsxs("span",{className:Q("text-base font-bold font-numbers tracking-tight",H.type==="income"?"text-income-600 dark:text-income-300":"text-gray-900 dark:text-gray-100"),children:[H.type==="income"?"+":"-",de(Math.abs(H.amount),H.currency||"JPY")]})]},H.id))}):a.jsx(tv,{compact:!0,icon:a.jsx(Zt,{}),title:e("emptyState.dashboardRecent.title","No recent activity"),description:e("emptyState.dashboardRecent.description","Your latest transactions will appear here"),action:a.jsx(Ye,{to:"/transactions",className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:e("emptyState.transactions.cta","Add Transaction")})})]}),a.jsx(y.Suspense,{fallback:a.jsx("div",{className:"h-64 rounded-xl bg-gray-100 dark:bg-gray-800 animate-pulse"}),children:a.jsx(Yk,{onDayClick:Me})}),W&&W.length>0&&a.jsxs(Ve,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-pink-100 dark:bg-pink-900/30",children:a.jsx(er,{className:"w-4 h-4 text-pink-600 dark:text-pink-400"})}),a.jsx("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:e("dashboard.goals","Goals")})]}),a.jsxs(Ye,{to:"/goals",className:"text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center gap-1 hover:gap-1.5 transition-all",children:[e("viewAll")," ",a.jsx(Sr,{className:"w-3.5 h-3.5"})]})]}),a.jsx("div",{className:"space-y-3",children:W.slice(0,2).map((H,ge)=>H.achievability&&a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":ge},children:a.jsx(Ok,{years:H.years,progress:H,formatCurrency:de})},H.goal_id))})]}),(!W||W.length===0)&&j&&j.length===0&&a.jsx(Ye,{to:"/goals",children:a.jsx(Ve,{className:"p-4 shadow-card border-2 border-dashed border-pink-200 dark:border-pink-800/40 hover:border-pink-300 dark:hover:border-pink-700 hover:shadow-lg transition-all cursor-pointer group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-pink-100 dark:bg-pink-900/30 rounded-xl group-hover:scale-110 transition-transform",children:a.jsx(er,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:e("dashboard.createFirstGoal","Create your first goal")}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("dashboard.goalMotivation","Track your savings progress")})]}),a.jsx(Sr,{className:"w-4 h-4 text-gray-400 ml-auto group-hover:translate-x-1 transition-transform"})]})})}),(()=>{const H=(ee||[]).filter(Z=>!Z.is_income&&!Z.is_transfer);if(H.length===0)return null;const ge=(Z,De)=>{switch(De){case"daily":return Z*30;case"weekly":return Z*4.33;case"biweekly":return Z*2.17;case"yearly":return Z/12;default:return Z}},ye=H.reduce((Z,De)=>Z+ge(De.amount,De.frequency),0);return a.jsxs(Ve,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-xl bg-blue-100 dark:bg-blue-900/30",children:a.jsx(Zo,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("h3",{className:"text-base font-extrabold text-gray-900 dark:text-gray-100 tracking-tight",children:[e("subscriptions.title","Subscriptions"),": ",Y(ye),"/",e("subscriptions.mo","mo")]})]}),a.jsxs(Ye,{to:"/recurring",search:{tab:"subscriptions"},className:"text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center gap-1 hover:gap-1.5 transition-all",children:[e("viewAll")," ",a.jsx(Sr,{className:"w-3.5 h-3.5"})]})]}),a.jsx("div",{className:"space-y-1",children:H.slice(0,3).map(Z=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:Z.description}),a.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100 font-numbers shrink-0 ml-3",children:[Y(ge(Z.amount,Z.frequency)),"/",e("subscriptions.mo","mo")]})]},Z.id))})]})})()]}),Re&&ue&&a.jsx(bk,{isOpen:!!Re,onClose:F,date:new Date(ue),transactions:Re})]})}const Xk=Ze("/")({component:Gk}),Qk=Ze("/profile")(),Jk=Ze("/gamification")(),Zk=Qk.update({id:"/profile",path:"/profile",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./profile.lazy-BnifUekw.js"),__vite__mapDeps([17,3,2,18,5,19,1,4])).then(e=>e.Route)),ej=Jk.update({id:"/gamification",path:"/gamification",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./gamification.lazy-BpV982iv.js"),__vite__mapDeps([20,3,2,1,0,4,5,18,19,21,22,23])).then(e=>e.Route)),tj=Px.update({id:"/upload",path:"/upload",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./upload.lazy-D3YknoIv.js"),__vite__mapDeps([24,3,2,1,5,4])).then(e=>e.Route)),rj=Tx.update({id:"/transactions",path:"/transactions",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./transactions.lazy-BvuaStCL.js"),__vite__mapDeps([25,3,2,1,26,27,28,29,5,22,30,31,32,33,34,23,35,4])).then(e=>e.Route)),nj=Ax.update({id:"/settings",path:"/settings",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./settings.lazy-2DdgeNcZ.js"),__vite__mapDeps([36,3,2,1,37,26,38,5,34,29,35,39,4,40,19,41,42,43,30])).then(e=>e.Route)),aj=Ox.update({id:"/report",path:"/report",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./report.lazy-Cud8-YCp.js"),__vite__mapDeps([44,3,2])).then(e=>e.Route)),sj=Rx.update({id:"/relocation",path:"/relocation",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./relocation.lazy-CwzQDJIv.js"),__vite__mapDeps([45,3,2,1,26,39,4,5,42,10,46])).then(e=>e.Route)),oj=Dx.update({id:"/register",path:"/register",getParentRoute:()=>Ge}),ij=Ix.update({id:"/recurring",path:"/recurring",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./recurring.lazy-DI-AqK28.js"),__vite__mapDeps([47,3,2,1,38,5,26,32,29,46,4])).then(e=>e.Route)),cj=Fx.update({id:"/proxy",path:"/proxy",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./proxy.lazy-CyndIK2w.js"),__vite__mapDeps([48,3,2,1,5,16,23,49,4])).then(e=>e.Route)),lj=qx.update({id:"/login",path:"/login",getParentRoute:()=>Ge}),uj=Gx.update({id:"/landing",path:"/landing",getParentRoute:()=>Ge}),dj=Xx.update({id:"/goals",path:"/goals",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./goals.lazy-pjJyam5M.js"),__vite__mapDeps([50,3,2,1,5,35,33,4])).then(e=>e.Route)),fj=Qx.update({id:"/budget",path:"/budget",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./budget.lazy-CdK5xgIj.js"),__vite__mapDeps([51,3,2,1,5,41,29,28,4,21,39,52,53,35,27,26,22,30,33])).then(e=>e.Route)),hj=Jx.update({id:"/benchmark",path:"/benchmark",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./benchmark.lazy-CuM8JE53.js"),__vite__mapDeps([54,3,2,1,5,42,4,46,43])).then(e=>e.Route)),mj=Zx.update({id:"/analytics",path:"/analytics",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./analytics.lazy-DINH395T.js"),__vite__mapDeps([55,3,2,1,8,5,4,9,10,6,12,7,52,15,30,40])).then(e=>e.Route)),pj=ev.update({id:"/accounts",path:"/accounts",getParentRoute:()=>Ge}).lazy(()=>Ke(()=>import("./accounts.lazy-BaFpH67O.js"),__vite__mapDeps([56,3,2,31,1,28,29,5,32,33,37,4,16,49,53])).then(e=>e.Route)),gj=Xk.update({id:"/",path:"/",getParentRoute:()=>Ge}),yj={IndexRoute:gj,AccountsRoute:pj,AnalyticsRoute:mj,BenchmarkRoute:hj,BudgetRoute:fj,GoalsRoute:dj,LandingRoute:uj,LoginRoute:lj,ProxyRoute:cj,RecurringRoute:ij,RegisterRoute:oj,RelocationRoute:sj,ReportRoute:aj,SettingsRoute:nj,TransactionsRoute:rj,UploadRoute:tj,GamificationLazyRoute:ej,ProfileLazyRoute:Zk},bj=Ge._addFileChildren(yj)._addFileTypes();function xj(){const{isOnline:e,isSyncing:t,pendingCount:r,lastError:n}=_m(),{t:o}=_e(),[i,l]=y.useState(!1);if(y.useEffect(()=>{if(e&&!t&&r===0&&!n){l(!0);const p=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(p)}},[e,t,r,n]),e&&!t&&r===0&&!i&&!n)return null;const u=()=>e?n?"bg-red-500 dark:bg-red-600":t?"bg-blue-500 dark:bg-blue-600":"bg-green-500 dark:bg-green-600":"bg-gray-600 dark:bg-gray-700";return a.jsx("div",{className:"fixed top-4 right-4 z-[9999]",role:"status","aria-live":"polite",children:a.jsxs("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg
        ${u()}
        text-white text-sm font-medium
        transition-all duration-300 ease-in-out
      `,children:[!e&&a.jsxs(a.Fragment,{children:[a.jsx(cg,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.offline","Offline")}),r>0&&a.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs",children:r})]}),e&&n&&a.jsxs(a.Fragment,{children:[a.jsx(Qo,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.error","Sync error")})]}),e&&t&&a.jsxs(a.Fragment,{children:[a.jsx(Ip,{size:16,className:"animate-spin","aria-hidden":"true"}),a.jsxs("span",{children:[o("sync.syncing","Syncing"),r>0&&` (${r})`]})]}),e&&!t&&!n&&i&&a.jsxs(a.Fragment,{children:[a.jsx(Jo,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.synced","All synced")})]})]})})}const vj=af({routeTree:bj});function wj(){return a.jsxs(a.Fragment,{children:[a.jsx(xj,{}),a.jsx(sf,{router:vj})]})}ym().then(e=>{e||console.warn("IndexedDB initialization failed - offline features may not work")});vo.createRoot(document.getElementById("root")).render(a.jsx(Qr.StrictMode,{children:a.jsx(fm,{children:a.jsx(_f,{client:Qg,persistOptions:{persister:n0,maxAge:1e3*60*60*24,dehydrateOptions:{shouldDehydrateQuery:e=>e.state.status==="success"&&Jg([...e.queryKey])}},children:a.jsx(Vg,{children:a.jsx(Hg,{children:a.jsx(Sm,{children:a.jsx(nm,{children:a.jsx(sm,{children:a.jsx(om,{children:a.jsx(wj,{})})})})})})})})})}));export{zN as $,$t as A,Je as B,Ve as C,CN as D,yk as E,au as F,Zo as G,P0 as H,ht as I,NN as J,mt as K,ei as L,cn as M,GN as N,ls as O,os as P,vN as Q,Ip as R,ln as S,Ro as T,ng as U,wN as V,kN as W,xt as X,Rm as Y,nr as Z,gN as _,fN as a,MN as a$,HN as a0,XN as a1,tv as a2,li as a3,_N as a4,bN as a5,ci as a6,za as a7,l2 as a8,is as a9,Lk as aA,T0 as aB,Qo as aC,D0 as aD,Vn as aE,SN as aF,PN as aG,bx as aH,AN as aI,EN as aJ,TN as aK,JN as aL,Gm as aM,Mn as aN,Zt as aO,fp as aP,op as aQ,je as aR,IN as aS,FN as aT,$p as aU,yp as aV,vx as aW,ON as aX,LN as aY,BN as aZ,RN as a_,c2 as aa,Nc as ab,as as ac,Yl as ad,lu as ae,cu as af,ou as ag,Xo as ah,sg as ai,un as aj,Hj as ak,Jo as al,am,Sr as an,Jm as ao,cs as ap,qt as aq,sd as ar,xx as as,iu as at,n2 as au,a2 as av,i2 as aw,o2 as ax,Uk as ay,s2 as az,iN as b,DN as b0,qN as b1,$N as b2,xN as b3,Bm as b4,KN as b5,WN as b6,UN as b7,Hn as b8,ZN as b9,gk as ba,r2 as bb,$k as bc,t2 as bd,e2 as be,nu as bf,hd as bg,QN as bh,mN as bi,pN as bj,hN as bk,pp as bl,qa as bm,aN as bn,jN as bo,sN as bp,It as bq,uv as br,Qc as bs,pt as bt,pk as bu,Ln as bv,cN as c,lN as d,uN as e,zm as f,Mk as g,sr as h,be as i,Q as j,ti as k,er as l,Dn as m,Vm as n,Ao as o,VN as p,Pt as q,dN as r,oN as s,Ha as t,yu as u,Cx as v,YN as w,re as x,bu as y,Mr as z};

import{k as Ut,u as ut,j as m,l as L,b0 as jt,aZ as Qt,ar as yt,ah as b,ai as At,r as M,$ as Nt,N as $t,aW as Ct,as as ht,ay as te,az as ee}from"./index-CqkF-9Du.js";import{f as T,L as C,I as tt,n as W,C as rt,A as Bt,l as $,h as z,J as ne,m as vt,K as re,o as q,u as Tt,i as it,G as Ft,j as V,M as at,D as ie,S as wt,N as ae,d as oe,r as zt,O as se,P as le,s as ot,x as Kt,H as U,Q as It,R as Lt,B as Mt,E as ce}from"./generateCategoricalChart-B0OhJUud.js";import{X as pt,Y as ft,L as Rt,C as ue}from"./YAxis-CMN-KoFi.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M5 12h14",key:"1ays0h"}]],fe=Ut("minus",pe);function He({label:t,value:e,change:r,trend:n="neutral",subtitle:i,className:a}){const{t:o}=ut("common"),u=()=>n==="positive"?"text-green-600 dark:text-green-400":n==="negative"?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400",s=()=>r==null?null:r>0?"↑":r<0?"↓":"→";return m.jsxs("div",{className:L("bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm","border border-gray-100 dark:border-gray-700",a),children:[m.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:t}),m.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 truncate",children:e}),r!=null&&m.jsxs("div",{className:L("flex items-center gap-1 mt-1",u()),children:[m.jsxs("span",{className:"text-sm font-medium",children:[s()," ",Math.abs(r).toFixed(1),"%"]}),m.jsx("span",{className:"text-xs text-gray-400",children:o("analytics.vsLastPeriod")})]}),i&&m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:i})]})}function Ze({selectedMonth:t,onChange:e,className:r}){const{i18n:n}=ut(),i=s=>{const p=n.language;return p==="ja"?yt(s,"yyyy年M月"):p==="vi"?`Tháng ${yt(s,"M/yyyy")}`:yt(s,"MMMM yyyy")},a=()=>{e(Qt(t,1))},o=()=>{const s=jt(t,1);s<=new Date&&e(s)},u=jt(t,1)>new Date;return m.jsxs("div",{className:L("flex items-center gap-2",r),children:[m.jsx("button",{onClick:a,className:L("p-2 rounded-lg text-gray-600 dark:text-gray-400","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),"aria-label":"Previous month",children:"←"}),m.jsx("span",{className:"min-w-[140px] text-center font-medium text-gray-900 dark:text-gray-100",children:i(t)}),m.jsx("button",{onClick:o,disabled:u,className:L("p-2 rounded-lg text-gray-600 dark:text-gray-400","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors",u&&"opacity-50 cursor-not-allowed"),"aria-label":"Next month",children:"→"})]})}var de=["layout","type","stroke","connectNulls","isRange","ref"],me=["key"],Wt;function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function Vt(t,e){if(t==null)return{};var r=ye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I.apply(this,arguments)}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?St(Object(r),!0).forEach(function(n){B(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jt(n.key),n)}}function ve(t,e,r){return e&&Et(t.prototype,e),r&&Et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xe(t,e,r){return e=st(e),be(t,Yt()?Reflect.construct(e,r||[],st(t).constructor):e.apply(t,r))}function be(t,e){if(e&&(Y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ge(t)}function ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yt=function(){return!!t})()}function st(t){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},st(t)}function Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xt(t,e)}function B(t,e,r){return e=Jt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jt(t){var e=Oe(t,"string");return Y(e)=="symbol"?e:e+""}function Oe(t,e){if(Y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R=function(t){function e(){var r;he(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xe(this,e,[].concat(i)),B(r,"state",{isAnimationFinished:!0}),B(r,"id",Tt("recharts-area-")),B(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(o)&&o()}),B(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(o)&&o()}),r}return Ae(e,t),ve(e,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var s=this.props,p=s.dot,l=s.points,c=s.dataKey,d=T(this.props,!1),f=T(p,!0),x=l.map(function(A,j){var v=F(F(F({key:"dot-".concat(j),r:3},d),f),{},{index:j,cx:A.x,cy:A.y,dataKey:c,value:A.value,payload:A.payload,points:l});return e.renderDotItem(p,v)}),O={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return b.createElement(C,I({className:"recharts-area-dots"},O),x)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,s=o[0].x,p=o[o.length-1].x,l=n*Math.abs(s-p),c=tt(o.map(function(d){return d.y||0}));return W(a)&&typeof a=="number"?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(tt(a.map(function(d){return d.y||0})),c)),W(c)?b.createElement("rect",{x:s<p?s:s-l,y:0,width:l,height:Math.floor(c+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,u=i.strokeWidth,s=o[0].y,p=o[o.length-1].y,l=n*Math.abs(s-p),c=tt(o.map(function(d){return d.x||0}));return W(a)&&typeof a=="number"?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(tt(a.map(function(d){return d.x||0})),c)),W(c)?b.createElement("rect",{x:0,y:s<p?s:s-l,width:c+(u?parseInt("".concat(u),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var u=this.props,s=u.layout,p=u.type,l=u.stroke,c=u.connectNulls,d=u.isRange;u.ref;var f=Vt(u,de);return b.createElement(C,{clipPath:a?"url(#clipPath-".concat(o,")"):null},b.createElement(rt,I({},T(f,!0),{points:n,connectNulls:c,type:p,baseLine:i,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&b.createElement(rt,I({},T(this.props,!1),{className:"recharts-area-curve",layout:s,type:p,connectNulls:c,fill:"none",points:n})),l!=="none"&&d&&b.createElement(rt,I({},T(this.props,!1),{className:"recharts-area-curve",layout:s,type:p,connectNulls:c,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,u=o.points,s=o.baseLine,p=o.isAnimationActive,l=o.animationBegin,c=o.animationDuration,d=o.animationEasing,f=o.animationId,x=this.state,O=x.prevPoints,A=x.prevBaseLine;return b.createElement(Bt,{begin:l,duration:c,isActive:p,easing:d,from:{t:0},to:{t:1},key:"area-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var v=j.t;if(O){var y=O.length/u.length,h=u.map(function(S,D){var _=Math.floor(D*y);if(O[_]){var k=O[_],N=$(k.x,S.x),H=$(k.y,S.y);return F(F({},S),{},{x:N(v),y:H(v)})}return S}),g;if(W(s)&&typeof s=="number"){var P=$(A,s);g=P(v)}else if(z(s)||ne(s)){var w=$(A,0);g=w(v)}else g=s.map(function(S,D){var _=Math.floor(D*y);if(A[_]){var k=A[_],N=$(k.x,S.x),H=$(k.y,S.y);return F(F({},S),{},{x:N(v),y:H(v)})}return S});return a.renderAreaStatically(h,g,n,i)}return b.createElement(C,null,b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),b.createElement(C,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(u,s,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,u=a.baseLine,s=a.isAnimationActive,p=this.state,l=p.prevPoints,c=p.prevBaseLine,d=p.totalLength;return s&&o&&o.length&&(!l&&d>0||!vt(l,o)||!vt(c,u))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,u,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,u=i.points,s=i.className,p=i.top,l=i.left,c=i.xAxis,d=i.yAxis,f=i.width,x=i.height,O=i.isAnimationActive,A=i.id;if(a||!u||!u.length)return null;var j=this.state.isAnimationFinished,v=u.length===1,y=At("recharts-area",s),h=c&&c.allowDataOverflow,g=d&&d.allowDataOverflow,P=h||g,w=z(A)?this.id:A,S=(n=T(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},D=S.r,_=D===void 0?3:D,k=S.strokeWidth,N=k===void 0?2:k,H=re(o)?o:{},Ot=H.clipDot,Pt=Ot===void 0?!0:Ot,Q=_*2+N;return b.createElement(C,{className:y},h||g?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(w)},b.createElement("rect",{x:h?l:l-f/2,y:g?p:p-x/2,width:h?f:f*2,height:g?x:x*2})),!Pt&&b.createElement("clipPath",{id:"clipPath-dots-".concat(w)},b.createElement("rect",{x:l-Q/2,y:p-Q/2,width:f+Q,height:x+Q}))):null,v?null:this.renderArea(P,w),(o||v)&&this.renderDots(P,Pt,w),(!O||j)&&q.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(M.PureComponent);Wt=R;B(R,"displayName","Area");B(R,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ft.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});B(R,"getBaseValue",function(t,e,r,n){var i=t.layout,a=t.baseValue,o=e.props.baseValue,u=o??a;if(W(u)&&typeof u=="number")return u;var s=i==="horizontal"?n:r,p=s.scale.domain();if(s.type==="number"){var l=Math.max(p[0],p[1]),c=Math.min(p[0],p[1]);return u==="dataMin"?c:u==="dataMax"||l<0?l:Math.max(Math.min(p[0],p[1]),0)}return u==="dataMin"?p[0]:u==="dataMax"?p[1]:p[0]});B(R,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,u=t.bandSize,s=t.dataKey,p=t.stackedData,l=t.dataStartIndex,c=t.displayedData,d=t.offset,f=e.layout,x=p&&p.length,O=Wt.getBaseValue(e,r,n,i),A=f==="horizontal",j=!1,v=c.map(function(h,g){var P;x?P=p[l+g]:(P=V(h,s),Array.isArray(P)?j=!0:P=[O,P]);var w=P[1]==null||x&&V(h,s)==null;return A?{x:at({axis:n,ticks:a,bandSize:u,entry:h,index:g}),y:w?null:i.scale(P[1]),value:P,payload:h}:{x:w?null:n.scale(P[1]),y:at({axis:i,ticks:o,bandSize:u,entry:h,index:g}),value:P,payload:h}}),y;return x||j?y=v.map(function(h){var g=Array.isArray(h.value)?h.value[0]:null;return A?{x:h.x,y:g!=null&&h.y!=null?i.scale(g):null}:{x:g!=null?n.scale(g):null,y:h.y}}):y=A?i.scale(O):n.scale(O),F({points:v,baseLine:y,layout:f,isRange:j},d)});B(R,"renderDotItem",function(t,e){var r;if(b.isValidElement(t))r=b.cloneElement(t,e);else if(it(t))r=t(e);else{var n=At("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Vt(e,me);r=b.createElement(ie,I({},a,{key:i,className:n}))}return r});function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function je(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zt(n.key),n)}}function we(t,e,r){return e&&je(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t,e,r){return e=lt(e),Ee(t,Xt()?Reflect.construct(e,r||[],lt(t).constructor):e.apply(t,r))}function Ee(t,e){if(e&&(J(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(t)}function _e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xt=function(){return!!t})()}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lt(t)}function ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bt(t,e)}function Ht(t,e,r){return e=Zt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zt(t){var e=De(t,"string");return J(e)=="symbol"?e:e+""}function De(t,e){if(J(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(J(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dt=function(t){function e(){return Pe(this,e),Se(this,e,arguments)}return ke(e,t),we(e,[{key:"render",value:function(){return null}}])}(M.Component);Ht(dt,"displayName","ZAxis");Ht(dt,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Ne=["option","isActive"];function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z.apply(this,arguments)}function $e(t,e){if(t==null)return{};var r=Ce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Be(t){var e=t.option,r=t.isActive,n=$e(t,Ne);return typeof e=="string"?M.createElement(wt,Z({option:M.createElement(ae,Z({type:e},n)),isActive:r,shapeType:"symbols"},n)):M.createElement(wt,Z({option:e,isActive:r,shapeType:"symbols"},n))}function X(t){"@babel/helpers - typeof";return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(t)}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G.apply(this,arguments)}function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(r),!0).forEach(function(n){K(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qt(n.key),n)}}function Fe(t,e,r){return e&&kt(t.prototype,e),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ze(t,e,r){return e=ct(e),Ke(t,Gt()?Reflect.construct(e,r||[],ct(t).constructor):e.apply(t,r))}function Ke(t,e){if(e&&(X(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gt=function(){return!!t})()}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ct(t)}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gt(t,e)}function K(t,e,r){return e=qt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qt(t){var e=Me(t,"string");return X(e)=="symbol"?e:e+""}function Me(t,e){if(X(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(X(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mt=function(t){function e(){var r;Te(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ze(this,e,[].concat(i)),K(r,"state",{isAnimationFinished:!1}),K(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),K(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),K(r,"id",Tt("recharts-scatter-")),r}return Le(e,t),Fe(e,[{key:"renderSymbolsStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.activeShape,s=a.activeIndex,p=T(this.props,!1);return n.map(function(l,c){var d=s===c,f=d?u:o,x=E(E({},p),l);return b.createElement(C,G({className:"recharts-scatter-symbol",key:"symbol-".concat(l==null?void 0:l.cx,"-").concat(l==null?void 0:l.cy,"-").concat(l==null?void 0:l.size,"-").concat(c)},oe(i.props,l,c),{role:"img"}),b.createElement(Be,G({option:f,isActive:d,key:"symbol-".concat(c)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,i=this.props,a=i.points,o=i.isAnimationActive,u=i.animationBegin,s=i.animationDuration,p=i.animationEasing,l=i.animationId,c=this.state.prevPoints;return b.createElement(Bt,{begin:u,duration:s,isActive:o,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var f=d.t,x=a.map(function(O,A){var j=c&&c[A];if(j){var v=$(j.cx,O.cx),y=$(j.cy,O.cy),h=$(j.size,O.size);return E(E({},O),{},{cx:v(f),cy:y(f),size:h(f)})}var g=$(0,O.size);return E(E({},O),{},{size:g(f)})});return b.createElement(C,null,n.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var n=this.props,i=n.points,a=n.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!vt(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,u=i.yAxis,s=i.children,p=zt(s,se);return p?p.map(function(l,c){var d=l.props,f=d.direction,x=d.dataKey;return b.cloneElement(l,{key:"".concat(f,"-").concat(x,"-").concat(a[c]),data:a,xAxis:o,yAxis:u,layout:f==="x"?"vertical":"horizontal",dataPointFormatter:function(A,j){return{x:A.cx,y:A.cy,value:f==="x"?+A.node.x:+A.node.y,errorVal:V(A,j)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,i=n.points,a=n.line,o=n.lineType,u=n.lineJointType,s=T(this.props,!1),p=T(a,!1),l,c;if(o==="joint")l=i.map(function(y){return{x:y.cx,y:y.cy}});else if(o==="fitting"){var d=le(i),f=d.xmin,x=d.xmax,O=d.a,A=d.b,j=function(h){return O*h+A};l=[{x:f,y:j(f)},{x,y:j(x)}]}var v=E(E(E({},s),{},{fill:"none",stroke:s&&s.fill},p),{},{points:l});return b.isValidElement(a)?c=b.cloneElement(a,v):it(a)?c=a(v):c=b.createElement(rt,G({},v,{type:u})),b.createElement(C,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.points,o=n.line,u=n.className,s=n.xAxis,p=n.yAxis,l=n.left,c=n.top,d=n.width,f=n.height,x=n.id,O=n.isAnimationActive;if(i||!a||!a.length)return null;var A=this.state.isAnimationFinished,j=At("recharts-scatter",u),v=s&&s.allowDataOverflow,y=p&&p.allowDataOverflow,h=v||y,g=z(x)?this.id:x;return b.createElement(C,{className:j,clipPath:h?"url(#clipPath-".concat(g,")"):null},v||y?b.createElement("defs",null,b.createElement("clipPath",{id:"clipPath-".concat(g)},b.createElement("rect",{x:v?l:l-d/2,y:y?c:c-f/2,width:v?d:d*2,height:y?f:f*2}))):null,o&&this.renderLine(),this.renderErrorBar(),b.createElement(C,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!O||A)&&q.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}}])}(M.PureComponent);K(mt,"displayName","Scatter");K(mt,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ft.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});K(mt,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,i=t.item,a=t.displayedData,o=t.xAxisTicks,u=t.yAxisTicks,s=t.offset,p=i.props.tooltipType,l=zt(i.props.children,ot),c=z(e.dataKey)?i.props.dataKey:e.dataKey,d=z(r.dataKey)?i.props.dataKey:r.dataKey,f=n&&n.dataKey,x=n?n.range:dt.defaultProps.range,O=x&&x[0],A=e.scale.bandwidth?e.scale.bandwidth():0,j=r.scale.bandwidth?r.scale.bandwidth():0,v=a.map(function(y,h){var g=V(y,c),P=V(y,d),w=!z(f)&&V(y,f)||"-",S=[{name:z(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:g,payload:y,dataKey:c,type:p},{name:z(r.dataKey)?i.props.name:r.name||r.dataKey,unit:r.unit||"",value:P,payload:y,dataKey:d,type:p}];w!=="-"&&S.push({name:n.name||n.dataKey,unit:n.unit||"",value:w,payload:y,dataKey:f,type:p});var D=at({axis:e,ticks:o,bandSize:A,entry:y,index:h,dataKey:c}),_=at({axis:r,ticks:u,bandSize:j,entry:y,index:h,dataKey:d}),k=w!=="-"?n.scale(w):O,N=Math.sqrt(Math.max(k,0)/Math.PI);return E(E({},y),{},{cx:D,cy:_,x:D-N,y:_-N,xAxis:e,yAxis:r,zAxis:n,width:2*N,height:2*N,size:k,node:{x:g,y:P,z:w},tooltipPayload:S,tooltipPosition:{x:D,y:_},payload:y},l&&l[h]&&l[h].props)});return E({points:v},s)});var Re=Kt({chartName:"BarChart",GraphicalChild:U,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pt},{axisType:"yAxis",AxisComp:ft}],formatAxisMap:It}),We=Kt({chartName:"ComposedChart",GraphicalChild:[Rt,R,U,mt],axisComponents:[{axisType:"xAxis",AxisComp:pt},{axisType:"yAxis",AxisComp:ft},{axisType:"zAxis",AxisComp:dt}],formatAxisMap:It});const et=7,nt=["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336","#00BCD4","#FFEB3B","#795548","#607D8B"];function Ve({changePercent:t}){if(t==null)return null;const e=t>0,r=Math.abs(t)>=20;return t===0?m.jsxs("span",{className:"inline-flex items-center gap-0.5 text-xs text-gray-500 dark:text-gray-400",children:[m.jsx(fe,{className:"w-3 h-3"}),m.jsx("span",{children:"0%"})]}):m.jsxs("span",{className:L("inline-flex items-center gap-0.5 text-xs font-medium",e?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",r&&"font-bold"),children:[e?m.jsx(te,{className:"w-3 h-3"}):m.jsx(ee,{className:"w-3 h-3"}),m.jsxs("span",{children:[e?"+":"",t.toFixed(0),"%"]})]})}function Ge({data:t}){const{t:e}=ut("common"),{currency:r}=Nt(),{data:n}=$t(),{resolvedTheme:i}=Ct(),a=i==="dark",[o,u]=M.useState(!1),s=a?"#1e1e2e":"#fff",p=a?"#45475a":"#E5E7EB",l=a?"#cdd6f4":"#374151",c=t.reduce((v,y)=>v+y.amount,0),d=[...t].sort((v,y)=>y.amount-v.amount),x=(()=>{if(d.length<=et||o)return d.map((P,w)=>({...P,percentage:c>0?P.amount/c*100:0,color:nt[w%nt.length]}));const v=d.slice(0,et),y=d.slice(et),h=y.reduce((P,w)=>P+w.amount,0),g=v.map((P,w)=>({...P,percentage:c>0?P.amount/c*100:0,color:nt[w%nt.length]}));return y.length>0&&g.push({category:`${e("analytics.otherCategories")} (${y.length})`,amount:h,percentage:c>0?h/c*100:0,color:"#9E9E9E",isOther:!0,otherCount:y.length}),g})(),O=d.length>et,A=v=>{const{x:y,y:h,width:g,height:P,value:w}=v;return m.jsxs("text",{x:y+g+8,y:h+P/2,fill:l,textAnchor:"start",dominantBaseline:"middle",fontSize:12,children:[w.toFixed(1),"%"]})},j=Math.max(200,x.length*32);return m.jsxs("div",{className:"w-full",children:[m.jsx(Lt,{width:"100%",height:j,children:m.jsxs(Re,{data:x,layout:"vertical",margin:{top:5,right:60,left:0,bottom:5},children:[m.jsx(pt,{type:"number",hide:!0,domain:[0,100]}),m.jsx(ft,{type:"category",dataKey:"category",width:100,tick:{fill:l,fontSize:12},axisLine:!1,tickLine:!1}),m.jsx(Mt,{contentStyle:{backgroundColor:s,border:`1px solid ${p}`,borderRadius:"8px",fontSize:"14px",color:l},content:({active:v,payload:y})=>{if(!v||!(y!=null&&y[0]))return null;const h=y[0].payload,g=h.change_percent!==null&&h.change_percent!==void 0;return m.jsxs("div",{className:"p-3 rounded-lg shadow-lg",style:{backgroundColor:s,border:`1px solid ${p}`},children:[m.jsx("p",{className:"font-medium mb-1",children:h.category}),m.jsx("p",{className:"text-sm",children:ht(h.amount,r,(n==null?void 0:n.rates)||{},!1)}),g&&m.jsxs("div",{className:"mt-1 pt-1 border-t border-gray-200 dark:border-gray-600",children:[m.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e("analytics.vsPrevious"),": "]}),m.jsx(Ve,{changePercent:h.change_percent})]})]})}}),m.jsxs(U,{dataKey:"percentage",radius:[0,4,4,0],maxBarSize:24,isAnimationActive:!0,animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:[x.map((v,y)=>m.jsx(ot,{fill:v.color},`cell-${y}`)),m.jsx(q,{dataKey:"percentage",content:A})]})]})}),O&&m.jsx("button",{onClick:()=>u(!o),className:L("w-full mt-2 py-2 px-4 text-sm font-medium rounded-lg transition-colors","text-primary-600 dark:text-primary-400","hover:bg-primary-50 dark:hover:bg-primary-900/20"),children:o?e("analytics.showLessCategories"):e("analytics.showAllCategories",{count:d.length})})]})}function Dt(t,e){if(t===0)return"";const r=Math.abs(t);return e==="VND"?r>=1e6?`${(t/1e6).toFixed(1)}M`:r>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString():e==="JPY"?r>=1e4?`${(t/1e4).toFixed(1)}万`:r>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString():r>=1e6?`${(t/1e6).toFixed(1)}M`:r>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString()}function qe({data:t}){const{currency:e}=Nt(),{data:r}=$t(),{t:n}=ut("common"),{resolvedTheme:i}=Ct(),a=i==="dark",o=a?"#45475a":"#E5E7EB",u=a?"#a6adc8":"#6B7280",s=a?"#1e1e2e":"#fff",p=a?"#45475a":"#E5E7EB",l=a?"#cdd6f4":"#374151",c=t.every(f=>f.expenses===0),d=t.map(f=>({...f,net:f.income-f.expenses}));return m.jsx(Lt,{width:"100%",height:"100%",children:m.jsxs(We,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[m.jsx(ue,{strokeDasharray:"3 3",stroke:o}),m.jsx(pt,{dataKey:"month",stroke:u,style:{fontSize:"12px",fontFamily:"Noto Sans JP, sans-serif"}}),m.jsx(ft,{stroke:u,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:f=>ht(f,e,(r==null?void 0:r.rates)||{},!1)}),m.jsx(Mt,{contentStyle:{backgroundColor:s,border:`1px solid ${p}`,borderRadius:"8px",fontSize:"14px",color:l},formatter:(f,x)=>[ht(f,e,(r==null?void 0:r.rates)||{},!1),x],labelFormatter:f=>f}),m.jsx(ce,{wrapperStyle:{fontSize:"14px",fontFamily:"Noto Sans JP, sans-serif",color:l}}),m.jsx(U,{dataKey:"income",fill:"#4CAF50",name:n("chart.income"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:m.jsx(q,{dataKey:"income",position:"top",formatter:f=>Dt(f,e),style:{fontSize:"10px",fill:"#4CAF50",fontWeight:500}})}),m.jsxs(U,{dataKey:"expenses",fill:"#F44336",name:n("chart.expense"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:200,animationDuration:800,animationEasing:"ease-out",children:[c?d.map((f,x)=>m.jsx(ot,{fill:"#F4433633"},`cell-${x}`)):d.map((f,x)=>m.jsx(ot,{fill:f.expenses===0?"#F4433633":"#F44336"},`cell-${x}`)),m.jsx(q,{dataKey:"expenses",position:"top",formatter:f=>Dt(f,e),style:{fontSize:"10px",fill:"#F44336",fontWeight:500}})]}),m.jsx(Rt,{type:"monotone",dataKey:"net",name:n("chart.net"),stroke:"#2196F3",strokeWidth:2,dot:{fill:"#2196F3",strokeWidth:2,r:4},activeDot:{r:6},isAnimationActive:!0,animationBegin:400,animationDuration:1e3,animationEasing:"ease-out"})]})})}export{Re as B,Ge as C,qe as I,Ze as M,He as a};

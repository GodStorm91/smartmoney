import{j as e}from"./vendor-router-DONIM_LE.js";import{M as _,A as B,ac as L,aN as K,p as z}from"./index-8QQOl6s4.js";import{u as T}from"./vendor-i18n-CNDlYvyf.js";import{R as M,i as R,C as N,X as w,Y as j,T as J,h as P,j as W,e as C,d as y,g as Y}from"./vendor-charts-BwEA5mzu.js";import"./vendor-react-Cwh1aMWO.js";import"./vendor-query-B0NEAgzV.js";function O(o){const[i,s]=o.split("-"),r=new Date(parseInt(i),parseInt(s)-1),l=z();return r.toLocaleDateString(l,{month:"short"})}function k(o,i,s){if(o===0)return"";const r=Math.abs(o);if(i==="VND")return r>=1e6?`${(o/1e6).toFixed(1)}M`:r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString();if(i==="JPY"){if(r>=1e4){const l=s==="ja"?"ä¸‡":"W";return`${(o/1e4).toFixed(1)}${l}`}return r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString()}return r>=1e6?`${(o/1e6).toFixed(1)}M`:r>=1e3?`${(o/1e3).toFixed(0)}K`:o.toString()}function Q({data:o}){var g;const{currency:i}=_(),{data:s}=B(),{t:r,i18n:l}=T("common"),{resolvedTheme:F}=L(),u=l.language,c=F==="dark",A=c?"#45475a":"#E5E7EB",d=c?"#a6adc8":"#6B7280",S=c?"#1e1e2e":"#fff",b=c?"#45475a":"#E5E7EB",p=c?"#cdd6f4":"#374151",$="#4CAF50",D="#F44336",I="#81C784",E="#E57373",x="#2196F3",f=o.map(t=>({...t,monthLabel:O(t.month)})),h=f.findIndex(t=>!t.is_actual);return e.jsx(M,{width:"100%",height:"100%",children:e.jsxs(R,{data:f,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(N,{strokeDasharray:"3 3",stroke:A}),e.jsx(w,{dataKey:"monthLabel",stroke:d,style:{fontSize:"12px",fontFamily:"Noto Sans JP, sans-serif"}}),e.jsx(j,{yAxisId:"left",stroke:d,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>k(t,i,u)}),e.jsx(j,{yAxisId:"right",orientation:"right",stroke:x,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>k(t,i,u)}),e.jsx(J,{contentStyle:{backgroundColor:S,border:`1px solid ${b}`,borderRadius:"8px",fontSize:"14px",color:p},formatter:(t,a)=>[K(t,i,(s==null?void 0:s.rates)||{},!1),a],labelFormatter:(t,a)=>{if(a&&a[0]){const m=a[0].payload;return`${m.month} ${m.is_actual?`(${r("forecast.actual")})`:`(${r("forecast.projected")})`}`}return""}}),e.jsx(P,{wrapperStyle:{fontSize:"14px",fontFamily:"Noto Sans JP, sans-serif",color:p}}),h>0&&e.jsx(W,{x:(g=f[h])==null?void 0:g.monthLabel,stroke:c?"#6c7086":"#9CA3AF",strokeDasharray:"5 5",label:{value:r("forecast.projected"),position:"top",fill:d,fontSize:11}}),e.jsx(C,{yAxisId:"left",dataKey:"income",name:r("chart.income"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:0,animationDuration:800,children:f.map((t,a)=>e.jsx(y,{fill:t.is_actual?$:I,fillOpacity:t.is_actual?1:.7},`income-${a}`))}),e.jsx(C,{yAxisId:"left",dataKey:"expense",name:r("chart.expense"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:200,animationDuration:800,children:f.map((t,a)=>e.jsx(y,{fill:t.is_actual?D:E,fillOpacity:t.is_actual?1:.7},`expense-${a}`))}),e.jsx(Y,{yAxisId:"right",type:"monotone",dataKey:"balance",name:r("forecast.balance"),stroke:x,strokeWidth:2,dot:t=>{const{cx:a,cy:m,payload:n}=t;return a===void 0||m===void 0?e.jsx("circle",{cx:0,cy:0,r:0,fill:"transparent"}):e.jsx("circle",{cx:a,cy:m,r:n!=null&&n.is_actual?4:5,fill:x,stroke:n!=null&&n.is_actual?x:"#fff",strokeWidth:n!=null&&n.is_actual?0:2,strokeDasharray:n!=null&&n.is_actual?void 0:"2 2"})},activeDot:{r:6},isAnimationActive:!0,animationBegin:400,animationDuration:1e3,strokeDasharray:void 0})]})})}export{Q as ForecastChart};

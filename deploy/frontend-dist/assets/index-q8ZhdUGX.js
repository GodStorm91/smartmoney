const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gamification-service-C79jyPbB.js","assets/vendor-query-B0NEAgzV.js","assets/vendor-react-Cwh1aMWO.js","assets/vendor-router-DONIM_LE.js","assets/vendor-charts-D-N8xF42.js","assets/vendor-i18n-CNDlYvyf.js","assets/SpendingCalendar-B0VdKaOD.js","assets/subMonths-BSQnBxYz.js","assets/dollar-sign-BHctzpHg.js","assets/profile.lazy-D9o9_-F5.js","assets/heic-converter-D5jHv3Pk.js","assets/crown-CdAfJoR0.js","assets/gamification.lazy-a42XOyW5.js","assets/chevron-down-CvGBm_XV.js","assets/ResponsiveModal-QLu_BJOy.js","assets/zoom-out-CqJ-TSuS.js","assets/funnel-u2j-9Vgd.js","assets/upload.lazy-9pCbtKjg.js","assets/transactions.lazy-DchlgyVa.js","assets/Select-BX2cSNjs.js","assets/TransactionEditModal-BtEjqZHU.js","assets/BudgetInsightWidget-C1kxLu30.js","assets/useCategories-BEgXmcdj.js","assets/download-C9LwI2F9.js","assets/useDebouncedValue-LlOXFYCp.js","assets/recurring-service-CIfHa8Jb.js","assets/RecurringOptions-BKWtt6DF.js","assets/useXPGain-zlIkEOyo.js","assets/tag-B5CsLdRh.js","assets/pencil-H4F9f-cQ.js","assets/settings.lazy-BFQIoNP0.js","assets/crypto-CuubRAPk.js","assets/RecurringTransactionsList-EpHwxdnC.js","assets/triangle-alert-BU-aznPv.js","assets/Switch-BfYpPkqu.js","assets/mail-FAc3zPA4.js","assets/zap-D6-Cz_Ie.js","assets/map-pin-B47Ljlcj.js","assets/benchmark-service-CesMWl5x.js","assets/report.lazy-Cud8-YCp.js","assets/relocation.lazy-CMXO-BUz.js","assets/chevron-up-DqQod2kw.js","assets/minus-Dop-Bv7I.js","assets/lightbulb-DhGY60Xd.js","assets/recurring.lazy-DckTfajS.js","assets/proxy.lazy-DUdP2pad.js","assets/clock-CWEKaCTM.js","assets/goals.lazy-BROnOxsr.js","assets/budget.lazy-D040vLD-.js","assets/ai-categorization-service-BM1sKbmf.js","assets/square-BQKHE5Y0.js","assets/benchmark.lazy-DeHOogaE.js","assets/analytics.lazy-D1Mu5URk.js","assets/accounts.lazy-DnV49Z9V.js"])))=>i.map(i=>d[i]);
var Xd=Object.defineProperty;var Qd=(e,t,r)=>t in e?Xd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var yr=(e,t,r)=>Qd(e,typeof t!="symbol"?t+"":t,r);import{j as a,L as Qe,u as rn,a as Pt,c as Jd,O as Bi,b as Xe,d as Zd,R as ef}from"./vendor-router-DONIM_LE.js";import{a as Ft,r as y,c as kr,g as dl,R as Vr,b as Io,d as tf}from"./vendor-react-Cwh1aMWO.js";import{h as rf,d as nf,Q as af,I as sf,u as Ye,a as of,t as Ki,b as Tt,c as tr}from"./vendor-query-B0NEAgzV.js";import{c as cf}from"./vendor-charts-D-N8xF42.js";import{u as Te,i as Pr,a as lf}from"./vendor-i18n-CNDlYvyf.js";function uf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const c=Object.getOwnPropertyDescriptor(n,o);c&&Object.defineProperty(e,o,c.get?c:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var ho={},Ui=Ft;ho.createRoot=Ui.createRoot,ho.hydrateRoot=Ui.hydrateRoot;var df=["added","removed","updated"];function Wi(e){return df.includes(e)}async function ff({queryClient:e,persister:t,maxAge:r=1e3*60*60*24,buster:n="",hydrateOptions:o}){try{const c=await t.restoreClient();if(c)if(c.timestamp){const l=Date.now()-c.timestamp>r,u=c.buster!==n;if(l||u)return t.removeClient();rf(e,c.clientState,o)}else return t.removeClient()}catch(c){throw await t.removeClient(),c}}async function zi({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){const o={buster:r,timestamp:Date.now(),clientState:nf(e,n)};await t.persistClient(o)}function hf(e){const t=e.queryClient.getQueryCache().subscribe(n=>{Wi(n.type)&&zi(e)}),r=e.queryClient.getMutationCache().subscribe(n=>{Wi(n.type)&&zi(e)});return()=>{t(),r()}}var mf=({children:e,persistOptions:t,onSuccess:r,onError:n,...o})=>{const[c,l]=y.useState(!0),u=y.useRef({persistOptions:t,onSuccess:r,onError:n}),p=y.useRef(!1);return y.useEffect(()=>{u.current={persistOptions:t,onSuccess:r,onError:n}}),y.useEffect(()=>{const m={...u.current.persistOptions,queryClient:o.client};return p.current||(p.current=!0,ff(m).then(()=>{var b,x;return(x=(b=u.current).onSuccess)==null?void 0:x.call(b)}).catch(()=>{var b,x;return(x=(b=u.current).onError)==null?void 0:x.call(b)}).finally(()=>{l(!1)})),c?void 0:hf(m)},[o.client,c]),a.jsx(af,{...o,children:a.jsx(sf,{value:c,children:e})})};function fl(e,t){return function(){return e.apply(t,arguments)}}const{toString:pf}=Object.prototype,{getPrototypeOf:Fo}=Object,{iterator:Ya,toStringTag:hl}=Symbol,Ga=(e=>t=>{const r=pf.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vt=e=>(e=e.toLowerCase(),t=>Ga(t)===e),Xa=e=>t=>typeof t===e,{isArray:nn}=Array,Zr=Xa("undefined");function Fn(e){return e!==null&&!Zr(e)&&e.constructor!==null&&!Zr(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ml=vt("ArrayBuffer");function gf(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ml(e.buffer),t}const yf=Xa("string"),ct=Xa("function"),pl=Xa("number"),Ln=e=>e!==null&&typeof e=="object",bf=e=>e===!0||e===!1,Oa=e=>{if(Ga(e)!=="object")return!1;const t=Fo(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(hl in e)&&!(Ya in e)},xf=e=>{if(!Ln(e)||Fn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vf=vt("Date"),wf=vt("File"),kf=vt("Blob"),jf=vt("FileList"),Nf=e=>Ln(e)&&ct(e.pipe),Sf=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=Ga(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},_f=vt("URLSearchParams"),[Cf,Ef,Pf,Tf]=["ReadableStream","Request","Response","Headers"].map(vt),Af=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),nn(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Fn(e))return;const c=r?Object.getOwnPropertyNames(e):Object.keys(e),l=c.length;let u;for(n=0;n<l;n++)u=c[n],t.call(null,e[u],u,e)}}function gl(e,t){if(Fn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,o;for(;n-- >0;)if(o=r[n],t===o.toLowerCase())return o;return null}const vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yl=e=>!Zr(e)&&e!==vr;function mo(){const{caseless:e,skipUndefined:t}=yl(this)&&this||{},r={},n=(o,c)=>{const l=e&&gl(r,c)||c;Oa(r[l])&&Oa(o)?r[l]=mo(r[l],o):Oa(o)?r[l]=mo({},o):nn(o)?r[l]=o.slice():(!t||!Zr(o))&&(r[l]=o)};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&qn(arguments[o],n);return r}const Of=(e,t,r,{allOwnKeys:n}={})=>(qn(t,(o,c)=>{r&&ct(o)?e[c]=fl(o,r):e[c]=o},{allOwnKeys:n}),e),Rf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Mf=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Df=(e,t,r,n)=>{let o,c,l;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),c=o.length;c-- >0;)l=o[c],(!n||n(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=r!==!1&&Fo(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},If=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Ff=e=>{if(!e)return null;if(nn(e))return e;let t=e.length;if(!pl(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Lf=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fo(Uint8Array)),qf=(e,t)=>{const n=(e&&e[Ya]).call(e);let o;for(;(o=n.next())&&!o.done;){const c=o.value;t.call(e,c[0],c[1])}},$f=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Bf=vt("HTMLFormElement"),Kf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Hi=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Uf=vt("RegExp"),bl=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};qn(r,(o,c)=>{let l;(l=t(o,c,e))!==!1&&(n[c]=l||o)}),Object.defineProperties(e,n)},Wf=e=>{bl(e,(t,r)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ct(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zf=(e,t)=>{const r={},n=o=>{o.forEach(c=>{r[c]=!0})};return nn(e)?n(e):n(String(e).split(t)),r},Hf=()=>{},Vf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Yf(e){return!!(e&&ct(e.append)&&e[hl]==="FormData"&&e[Ya])}const Gf=e=>{const t=new Array(10),r=(n,o)=>{if(Ln(n)){if(t.indexOf(n)>=0)return;if(Fn(n))return n;if(!("toJSON"in n)){t[o]=n;const c=nn(n)?[]:{};return qn(n,(l,u)=>{const p=r(l,o+1);!Zr(p)&&(c[u]=p)}),t[o]=void 0,c}}return n};return r(e,0)},Xf=vt("AsyncFunction"),Qf=e=>e&&(Ln(e)||ct(e))&&ct(e.then)&&ct(e.catch),xl=((e,t)=>e?setImmediate:t?((r,n)=>(vr.addEventListener("message",({source:o,data:c})=>{o===vr&&c===r&&n.length&&n.shift()()},!1),o=>{n.push(o),vr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ct(vr.postMessage)),Jf=typeof queueMicrotask<"u"?queueMicrotask.bind(vr):typeof process<"u"&&process.nextTick||xl,Zf=e=>e!=null&&ct(e[Ya]),$={isArray:nn,isArrayBuffer:ml,isBuffer:Fn,isFormData:Sf,isArrayBufferView:gf,isString:yf,isNumber:pl,isBoolean:bf,isObject:Ln,isPlainObject:Oa,isEmptyObject:xf,isReadableStream:Cf,isRequest:Ef,isResponse:Pf,isHeaders:Tf,isUndefined:Zr,isDate:vf,isFile:wf,isBlob:kf,isRegExp:Uf,isFunction:ct,isStream:Nf,isURLSearchParams:_f,isTypedArray:Lf,isFileList:jf,forEach:qn,merge:mo,extend:Of,trim:Af,stripBOM:Rf,inherits:Mf,toFlatObject:Df,kindOf:Ga,kindOfTest:vt,endsWith:If,toArray:Ff,forEachEntry:qf,matchAll:$f,isHTMLForm:Bf,hasOwnProperty:Hi,hasOwnProp:Hi,reduceDescriptors:bl,freezeMethods:Wf,toObjectSet:zf,toCamelCase:Kf,noop:Hf,toFiniteNumber:Vf,findKey:gl,global:vr,isContextDefined:yl,isSpecCompliantForm:Yf,toJSONObject:Gf,isAsyncFn:Xf,isThenable:Qf,setImmediate:xl,asap:Jf,isIterable:Zf};function Ne(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}$.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const vl=Ne.prototype,wl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wl[e]={value:e}});Object.defineProperties(Ne,wl);Object.defineProperty(vl,"isAxiosError",{value:!0});Ne.from=(e,t,r,n,o,c)=>{const l=Object.create(vl);$.toFlatObject(e,l,function(b){return b!==Error.prototype},m=>m!=="isAxiosError");const u=e&&e.message?e.message:"Error",p=t==null&&e?e.code:t;return Ne.call(l,u,p,r,n,o),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",c&&Object.assign(l,c),l};const eh=null;function po(e){return $.isPlainObject(e)||$.isArray(e)}function kl(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function Vi(e,t,r){return e?e.concat(t).map(function(o,c){return o=kl(o),!r&&c?"["+o+"]":o}).join(r?".":""):t}function th(e){return $.isArray(e)&&!e.some(po)}const rh=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Qa(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,O){return!$.isUndefined(O[j])});const n=r.metaTokens,o=r.visitor||b,c=r.dots,l=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function m(k){if(k===null)return"";if($.isDate(k))return k.toISOString();if($.isBoolean(k))return k.toString();if(!p&&$.isBlob(k))throw new Ne("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(k)||$.isTypedArray(k)?p&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function b(k,j,O){let U=k;if(k&&!O&&typeof k=="object"){if($.endsWith(j,"{}"))j=n?j:j.slice(0,-2),k=JSON.stringify(k);else if($.isArray(k)&&th(k)||($.isFileList(k)||$.endsWith(j,"[]"))&&(U=$.toArray(k)))return j=kl(j),U.forEach(function(B,q){!($.isUndefined(B)||B===null)&&t.append(l===!0?Vi([j],q,c):l===null?j:j+"[]",m(B))}),!1}return po(k)?!0:(t.append(Vi(O,j,c),m(k)),!1)}const x=[],_=Object.assign(rh,{defaultVisitor:b,convertValue:m,isVisitable:po});function A(k,j){if(!$.isUndefined(k)){if(x.indexOf(k)!==-1)throw Error("Circular reference detected in "+j.join("."));x.push(k),$.forEach(k,function(U,W){(!($.isUndefined(U)||U===null)&&o.call(t,U,$.isString(W)?W.trim():W,j,_))===!0&&A(U,j?j.concat(W):[W])}),x.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return A(e),t}function Yi(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Lo(e,t){this._pairs=[],e&&Qa(e,this,t)}const jl=Lo.prototype;jl.append=function(t,r){this._pairs.push([t,r])};jl.toString=function(t){const r=t?function(n){return t.call(this,n,Yi)}:Yi;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function nh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Nl(e,t,r){if(!t)return e;const n=r&&r.encode||nh;$.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let c;if(o?c=o(t,r):c=$.isURLSearchParams(t)?t.toString():new Lo(t,r).toString(n),c){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Gi{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Sl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ah=typeof URLSearchParams<"u"?URLSearchParams:Lo,sh=typeof FormData<"u"?FormData:null,oh=typeof Blob<"u"?Blob:null,ih={isBrowser:!0,classes:{URLSearchParams:ah,FormData:sh,Blob:oh},protocols:["http","https","file","blob","url","data"]},qo=typeof window<"u"&&typeof document<"u",go=typeof navigator=="object"&&navigator||void 0,ch=qo&&(!go||["ReactNative","NativeScript","NS"].indexOf(go.product)<0),lh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uh=qo&&window.location.href||"http://localhost",dh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qo,hasStandardBrowserEnv:ch,hasStandardBrowserWebWorkerEnv:lh,navigator:go,origin:uh},Symbol.toStringTag,{value:"Module"})),tt={...dh,...ih};function fh(e,t){return Qa(e,new tt.classes.URLSearchParams,{visitor:function(r,n,o,c){return tt.isNode&&$.isBuffer(r)?(this.append(n,r.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function hh(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mh(e){const t={},r=Object.keys(e);let n;const o=r.length;let c;for(n=0;n<o;n++)c=r[n],t[c]=e[c];return t}function _l(e){function t(r,n,o,c){let l=r[c++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),p=c>=r.length;return l=!l&&$.isArray(o)?o.length:l,p?($.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!u):((!o[l]||!$.isObject(o[l]))&&(o[l]=[]),t(r,n,o[l],c)&&$.isArray(o[l])&&(o[l]=mh(o[l])),!u)}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,(n,o)=>{t(hh(n),o,r,0)}),r}return null}function ph(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const $n={transitional:Sl,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,c=$.isObject(t);if(c&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return o?JSON.stringify(_l(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(c){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fh(t,this.formSerializer).toString();if((u=$.isFileList(t))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Qa(u?{"files[]":t}:t,p&&new p,this.formSerializer)}}return c||o?(r.setContentType("application/json",!1),ph(t)):t}],transformResponse:[function(t){const r=this.transitional||$n.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ne.from(u,Ne.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{$n.headers[e]={}});const gh=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yh=e=>{const t={};let r,n,o;return e&&e.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||t[r]&&gh[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Xi=Symbol("internals");function jn(e){return e&&String(e).trim().toLowerCase()}function Ra(e){return e===!1||e==null?e:$.isArray(e)?e.map(Ra):String(e)}function bh(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const xh=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Us(e,t,r,n,o){if($.isFunction(n))return n.call(this,t,r);if(o&&(t=r),!!$.isString(t)){if($.isString(n))return t.indexOf(n)!==-1;if($.isRegExp(n))return n.test(t)}}function vh(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function wh(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(o,c,l){return this[n].call(this,t,o,c,l)},configurable:!0})})}let lt=class{constructor(t){t&&this.set(t)}set(t,r,n){const o=this;function c(u,p,m){const b=jn(p);if(!b)throw new Error("header name must be a non-empty string");const x=$.findKey(o,b);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||p]=Ra(u))}const l=(u,p)=>$.forEach(u,(m,b)=>c(m,b,p));if($.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if($.isString(t)&&(t=t.trim())&&!xh(t))l(yh(t),r);else if($.isObject(t)&&$.isIterable(t)){let u={},p,m;for(const b of t){if(!$.isArray(b))throw TypeError("Object iterator must return a key-value pair");u[m=b[0]]=(p=u[m])?$.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}l(u,r)}else t!=null&&c(r,t,n);return this}get(t,r){if(t=jn(t),t){const n=$.findKey(this,t);if(n){const o=this[n];if(!r)return o;if(r===!0)return bh(o);if($.isFunction(r))return r.call(this,o,n);if($.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=jn(t),t){const n=$.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Us(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let o=!1;function c(l){if(l=jn(l),l){const u=$.findKey(n,l);u&&(!r||Us(n,n[u],u,r))&&(delete n[u],o=!0)}}return $.isArray(t)?t.forEach(c):c(t),o}clear(t){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const c=r[n];(!t||Us(this,this[c],c,t,!0))&&(delete this[c],o=!0)}return o}normalize(t){const r=this,n={};return $.forEach(this,(o,c)=>{const l=$.findKey(n,c);if(l){r[l]=Ra(o),delete r[c];return}const u=t?vh(c):String(c).trim();u!==c&&delete r[c],r[u]=Ra(o),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=t&&$.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[Xi]=this[Xi]={accessors:{}}).accessors,o=this.prototype;function c(l){const u=jn(l);n[u]||(wh(o,l),n[u]=!0)}return $.isArray(t)?t.forEach(c):c(t),this}};lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(lt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});$.freezeMethods(lt);function Ws(e,t){const r=this||$n,n=t||r,o=lt.from(n.headers);let c=n.data;return $.forEach(e,function(u){c=u.call(r,c,o.normalize(),t?t.status:void 0)}),o.normalize(),c}function Cl(e){return!!(e&&e.__CANCEL__)}function an(e,t,r){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(an,Ne,{__CANCEL__:!0});function El(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ne("Request failed with status code "+r.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kh(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jh(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o=0,c=0,l;return t=t!==void 0?t:1e3,function(p){const m=Date.now(),b=n[c];l||(l=m),r[o]=p,n[o]=m;let x=c,_=0;for(;x!==o;)_+=r[x++],x=x%e;if(o=(o+1)%e,o===c&&(c=(c+1)%e),m-l<t)return;const A=b&&m-b;return A?Math.round(_*1e3/A):void 0}}function Nh(e,t){let r=0,n=1e3/t,o,c;const l=(m,b=Date.now())=>{r=b,o=null,c&&(clearTimeout(c),c=null),e(...m)};return[(...m)=>{const b=Date.now(),x=b-r;x>=n?l(m,b):(o=m,c||(c=setTimeout(()=>{c=null,l(o)},n-x)))},()=>o&&l(o)]}const $a=(e,t,r=3)=>{let n=0;const o=jh(50,250);return Nh(c=>{const l=c.loaded,u=c.lengthComputable?c.total:void 0,p=l-n,m=o(p),b=l<=u;n=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:p,rate:m||void 0,estimated:m&&u&&b?(u-l)/m:void 0,event:c,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(x)},r)},Qi=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ji=e=>(...t)=>$.asap(()=>e(...t)),Sh=tt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,_h=tt.hasStandardBrowserEnv?{write(e,t,r,n,o,c,l){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];$.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),$.isString(n)&&u.push(`path=${n}`),$.isString(o)&&u.push(`domain=${o}`),c===!0&&u.push("secure"),$.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ch(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Eh(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pl(e,t,r){let n=!Ch(t);return e&&(n||r==!1)?Eh(e,t):t}const Zi=e=>e instanceof lt?{...e}:e;function Nr(e,t){t=t||{};const r={};function n(m,b,x,_){return $.isPlainObject(m)&&$.isPlainObject(b)?$.merge.call({caseless:_},m,b):$.isPlainObject(b)?$.merge({},b):$.isArray(b)?b.slice():b}function o(m,b,x,_){if($.isUndefined(b)){if(!$.isUndefined(m))return n(void 0,m,x,_)}else return n(m,b,x,_)}function c(m,b){if(!$.isUndefined(b))return n(void 0,b)}function l(m,b){if($.isUndefined(b)){if(!$.isUndefined(m))return n(void 0,m)}else return n(void 0,b)}function u(m,b,x){if(x in t)return n(m,b);if(x in e)return n(void 0,m)}const p={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,b,x)=>o(Zi(m),Zi(b),x,!0)};return $.forEach(Object.keys({...e,...t}),function(b){const x=p[b]||o,_=x(e[b],t[b],b);$.isUndefined(_)&&x!==u||(r[b]=_)}),r}const Tl=e=>{const t=Nr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:c,headers:l,auth:u}=t;if(t.headers=l=lt.from(l),t.url=Nl(Pl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),$.isFormData(r)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if($.isFunction(r.getHeaders)){const p=r.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([b,x])=>{m.includes(b.toLowerCase())&&l.set(b,x)})}}if(tt.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(t)),n||n!==!1&&Sh(t.url))){const p=o&&c&&_h.read(c);p&&l.set(o,p)}return t},Ph=typeof XMLHttpRequest<"u",Th=Ph&&function(e){return new Promise(function(r,n){const o=Tl(e);let c=o.data;const l=lt.from(o.headers).normalize();let{responseType:u,onUploadProgress:p,onDownloadProgress:m}=o,b,x,_,A,k;function j(){A&&A(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let O=new XMLHttpRequest;O.open(o.method.toUpperCase(),o.url,!0),O.timeout=o.timeout;function U(){if(!O)return;const B=lt.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),J={data:!u||u==="text"||u==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:B,config:e,request:O};El(function(Q){r(Q),j()},function(Q){n(Q),j()},J),O=null}"onloadend"in O?O.onloadend=U:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(U)},O.onabort=function(){O&&(n(new Ne("Request aborted",Ne.ECONNABORTED,e,O)),O=null)},O.onerror=function(q){const J=q&&q.message?q.message:"Network Error",Y=new Ne(J,Ne.ERR_NETWORK,e,O);Y.event=q||null,n(Y),O=null},O.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const J=o.transitional||Sl;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),n(new Ne(q,J.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,O)),O=null},c===void 0&&l.setContentType(null),"setRequestHeader"in O&&$.forEach(l.toJSON(),function(q,J){O.setRequestHeader(J,q)}),$.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),u&&u!=="json"&&(O.responseType=o.responseType),m&&([_,k]=$a(m,!0),O.addEventListener("progress",_)),p&&O.upload&&([x,A]=$a(p),O.upload.addEventListener("progress",x),O.upload.addEventListener("loadend",A)),(o.cancelToken||o.signal)&&(b=B=>{O&&(n(!B||B.type?new an(null,e,O):B),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const W=kh(o.url);if(W&&tt.protocols.indexOf(W)===-1){n(new Ne("Unsupported protocol "+W+":",Ne.ERR_BAD_REQUEST,e));return}O.send(c||null)})},Ah=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,o;const c=function(m){if(!o){o=!0,u();const b=m instanceof Error?m:this.reason;n.abort(b instanceof Ne?b:new an(b instanceof Error?b.message:b))}};let l=t&&setTimeout(()=>{l=null,c(new Ne(`timeout ${t} of ms exceeded`,Ne.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),e=null)};e.forEach(m=>m.addEventListener("abort",c));const{signal:p}=n;return p.unsubscribe=()=>$.asap(u),p}},Oh=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,o;for(;n<r;)o=n+t,yield e.slice(n,o),n=o},Rh=async function*(e,t){for await(const r of Mh(e))yield*Oh(r,t)},Mh=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},ec=(e,t,r,n)=>{const o=Rh(e,t);let c=0,l,u=p=>{l||(l=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await o.next();if(m){u(),p.close();return}let x=b.byteLength;if(r){let _=c+=x;r(_)}p.enqueue(new Uint8Array(b))}catch(m){throw u(m),m}},cancel(p){return u(p),o.return()}},{highWaterMark:2})},tc=64*1024,{isFunction:ka}=$,Dh=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:rc,TextEncoder:nc}=$.global,ac=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ih=e=>{e=$.merge.call({skipUndefined:!0},Dh,e);const{fetch:t,Request:r,Response:n}=e,o=t?ka(t):typeof fetch=="function",c=ka(r),l=ka(n);if(!o)return!1;const u=o&&ka(rc),p=o&&(typeof nc=="function"?(k=>j=>k.encode(j))(new nc):async k=>new Uint8Array(await new r(k).arrayBuffer())),m=c&&u&&ac(()=>{let k=!1;const j=new r(tt.origin,{body:new rc,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!j}),b=l&&u&&ac(()=>$.isReadableStream(new n("").body)),x={stream:b&&(k=>k.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!x[k]&&(x[k]=(j,O)=>{let U=j&&j[k];if(U)return U.call(j);throw new Ne(`Response type '${k}' is not supported`,Ne.ERR_NOT_SUPPORT,O)})});const _=async k=>{if(k==null)return 0;if($.isBlob(k))return k.size;if($.isSpecCompliantForm(k))return(await new r(tt.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if($.isArrayBufferView(k)||$.isArrayBuffer(k))return k.byteLength;if($.isURLSearchParams(k)&&(k=k+""),$.isString(k))return(await p(k)).byteLength},A=async(k,j)=>{const O=$.toFiniteNumber(k.getContentLength());return O??_(j)};return async k=>{let{url:j,method:O,data:U,signal:W,cancelToken:B,timeout:q,onDownloadProgress:J,onUploadProgress:Y,responseType:Q,headers:ge,withCredentials:Se="same-origin",fetchOptions:Me}=Tl(k),fe=t||fetch;Q=Q?(Q+"").toLowerCase():"text";let ce=Ah([W,B&&B.toAbortSignal()],q),Oe=null;const we=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let F;try{if(Y&&m&&O!=="get"&&O!=="head"&&(F=await A(ge,U))!==0){let Ee=new r(j,{method:"POST",body:U,duplex:"half"}),X;if($.isFormData(U)&&(X=Ee.headers.get("content-type"))&&ge.setContentType(X),Ee.body){const[he,ve]=Qi(F,$a(Ji(Y)));U=ec(Ee.body,tc,he,ve)}}$.isString(Se)||(Se=Se?"include":"omit");const z=c&&"credentials"in r.prototype,V={...Me,signal:ce,method:O.toUpperCase(),headers:ge.normalize().toJSON(),body:U,duplex:"half",credentials:z?Se:void 0};Oe=c&&new r(j,V);let G=await(c?fe(Oe,Me):fe(j,V));const ue=b&&(Q==="stream"||Q==="response");if(b&&(J||ue&&we)){const Ee={};["status","statusText","headers"].forEach(ye=>{Ee[ye]=G[ye]});const X=$.toFiniteNumber(G.headers.get("content-length")),[he,ve]=J&&Qi(X,$a(Ji(J),!0))||[];G=new n(ec(G.body,tc,he,()=>{ve&&ve(),we&&we()}),Ee)}Q=Q||"text";let pe=await x[$.findKey(x,Q)||"text"](G,k);return!ue&&we&&we(),await new Promise((Ee,X)=>{El(Ee,X,{data:pe,headers:lt.from(G.headers),status:G.status,statusText:G.statusText,config:k,request:Oe})})}catch(z){throw we&&we(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,k,Oe),{cause:z.cause||z}):Ne.from(z,z&&z.code,k,Oe)}}},Fh=new Map,Al=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:o}=t,c=[n,o,r];let l=c.length,u=l,p,m,b=Fh;for(;u--;)p=c[u],m=b.get(p),m===void 0&&b.set(p,m=u?new Map:Ih(t)),b=m;return m};Al();const $o={http:eh,xhr:Th,fetch:{get:Al}};$.forEach($o,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sc=e=>`- ${e}`,Lh=e=>$.isFunction(e)||e===null||e===!1;function qh(e,t){e=$.isArray(e)?e:[e];const{length:r}=e;let n,o;const c={};for(let l=0;l<r;l++){n=e[l];let u;if(o=n,!Lh(n)&&(o=$o[(u=String(n)).toLowerCase()],o===void 0))throw new Ne(`Unknown adapter '${u}'`);if(o&&($.isFunction(o)||(o=o.get(t))))break;c[u||"#"+l]=o}if(!o){const l=Object.entries(c).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=r?l.length>1?`since :
`+l.map(sc).join(`
`):" "+sc(l[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o}const Ol={getAdapter:qh,adapters:$o};function zs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new an(null,e)}function oc(e){return zs(e),e.headers=lt.from(e.headers),e.data=Ws.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ol.getAdapter(e.adapter||$n.adapter,e)(e).then(function(n){return zs(e),n.data=Ws.call(e,e.transformResponse,n),n.headers=lt.from(n.headers),n},function(n){return Cl(n)||(zs(e),n&&n.response&&(n.response.data=Ws.call(e,e.transformResponse,n.response),n.response.headers=lt.from(n.response.headers))),Promise.reject(n)})}const Rl="1.13.2",Ja={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ja[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ic={};Ja.transitional=function(t,r,n){function o(c,l){return"[Axios v"+Rl+"] Transitional option '"+c+"'"+l+(n?". "+n:"")}return(c,l,u)=>{if(t===!1)throw new Ne(o(l," has been removed"+(r?" in "+r:"")),Ne.ERR_DEPRECATED);return r&&!ic[l]&&(ic[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(c,l,u):!0}};Ja.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $h(e,t,r){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const c=n[o],l=t[c];if(l){const u=e[c],p=u===void 0||l(u,c,e);if(p!==!0)throw new Ne("option "+c+" must be "+p,Ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ne("Unknown option "+c,Ne.ERR_BAD_OPTION)}}const Ma={assertOptions:$h,validators:Ja},_t=Ma.validators;let jr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gi,response:new Gi}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?c&&!String(n.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+c):n.stack=c}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Nr(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:c}=r;n!==void 0&&Ma.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),o!=null&&($.isFunction(o)?r.paramsSerializer={serialize:o}:Ma.assertOptions(o,{encode:_t.function,serialize:_t.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ma.assertOptions(r,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=c&&$.merge(c.common,c[r.method]);c&&$.forEach(["delete","get","head","post","put","patch","common"],k=>{delete c[k]}),r.headers=lt.concat(l,c);const u=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(p=p&&j.synchronous,u.unshift(j.fulfilled,j.rejected))});const m=[];this.interceptors.response.forEach(function(j){m.push(j.fulfilled,j.rejected)});let b,x=0,_;if(!p){const k=[oc.bind(this),void 0];for(k.unshift(...u),k.push(...m),_=k.length,b=Promise.resolve(r);x<_;)b=b.then(k[x++],k[x++]);return b}_=u.length;let A=r;for(;x<_;){const k=u[x++],j=u[x++];try{A=k(A)}catch(O){j.call(this,O);break}}try{b=oc.call(this,A)}catch(k){return Promise.reject(k)}for(x=0,_=m.length;x<_;)b=b.then(m[x++],m[x++]);return b}getUri(t){t=Nr(this.defaults,t);const r=Pl(t.baseURL,t.url,t.allowAbsoluteUrls);return Nl(r,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){jr.prototype[t]=function(r,n){return this.request(Nr(n||{},{method:t,url:r,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(n){return function(c,l,u){return this.request(Nr(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:c,data:l}))}}jr.prototype[t]=r(),jr.prototype[t+"Form"]=r(!0)});let Bh=class Ml{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(c){r=c});const n=this;this.promise.then(o=>{if(!n._listeners)return;let c=n._listeners.length;for(;c-- >0;)n._listeners[c](o);n._listeners=null}),this.promise.then=o=>{let c;const l=new Promise(u=>{n.subscribe(u),c=u}).then(o);return l.cancel=function(){n.unsubscribe(c)},l},t(function(c,l,u){n.reason||(n.reason=new an(c,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Ml(function(o){t=o}),cancel:t}}};function Kh(e){return function(r){return e.apply(null,r)}}function Uh(e){return $.isObject(e)&&e.isAxiosError===!0}const yo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yo).forEach(([e,t])=>{yo[t]=e});function Dl(e){const t=new jr(e),r=fl(jr.prototype.request,t);return $.extend(r,jr.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return Dl(Nr(e,o))},r}const Ke=Dl($n);Ke.Axios=jr;Ke.CanceledError=an;Ke.CancelToken=Bh;Ke.isCancel=Cl;Ke.VERSION=Rl;Ke.toFormData=Qa;Ke.AxiosError=Ne;Ke.Cancel=Ke.CanceledError;Ke.all=function(t){return Promise.all(t)};Ke.spread=Kh;Ke.isAxiosError=Uh;Ke.mergeConfig=Nr;Ke.AxiosHeaders=lt;Ke.formToJSON=e=>_l($.isHTMLForm(e)?new FormData(e):e);Ke.getAdapter=Ol.getAdapter;Ke.HttpStatusCode=yo;Ke.default=Ke;const{Axios:rj,AxiosError:nj,CanceledError:aj,isCancel:sj,CancelToken:oj,VERSION:ij,all:cj,Cancel:lj,isAxiosError:uj,spread:dj,toFormData:fj,AxiosHeaders:hj,HttpStatusCode:mj,formToJSON:pj,getAdapter:gj,mergeConfig:yj}=Ke,Wh="",oe=Ke.create({baseURL:Wh,timeout:6e4,headers:{"Content-Type":"application/json"},maxRedirects:0});async function cc(e,t){const r=await fetch(e,{method:"GET",headers:{...t&&{Authorization:t}}});if(!r.ok){const n=await r.json().catch(()=>({detail:"Request failed"})),o=new Error(n.detail||"Request failed");throw o.response={status:r.status,statusText:r.statusText,data:n},o}return r.json()}oe.interceptors.response.use(e=>{if(e.status===307||e.status===301){const t=e.headers.location;if(t){const r=e.config,n=typeof r.headers.Authorization=="string"?r.headers.Authorization:void 0;if(n)return cc(t,n)}}return e},e=>{var t,r,n;if(((t=e.response)==null?void 0:t.status)===307||((r=e.response)==null?void 0:r.status)===301){const o=e.response.headers.location;if(o&&e.config){const c=typeof e.config.headers.Authorization=="string"?e.config.headers.Authorization:void 0;if(c)return cc(o,c)}}return console.error("API Error:",((n=e.response)==null?void 0:n.data)||e.message),Promise.reject(e)});const Il=y.createContext(void 0),br="smartmoney_access_token",Nn="smartmoney_refresh_token";function zh({children:e}){const[t,r]=y.useState(null),[n,o]=y.useState(!0),c=y.useCallback(()=>{localStorage.removeItem(br),localStorage.removeItem(Nn),r(null),o(!1)},[]),l=y.useCallback(async()=>{const p=localStorage.getItem(Nn);if(!p)return!1;try{const b=await Ke.post("/api/auth/refresh",{refresh_token:p}),{access_token:x,refresh_token:_}=b.data;localStorage.setItem(br,x),localStorage.setItem(Nn,_);const A=await oe.get("/api/auth/me",{headers:{Authorization:`Bearer ${x}`}});return r(A.data),!0}catch{return localStorage.removeItem(br),localStorage.removeItem(Nn),!1}},[]);y.useEffect(()=>{const p=oe.interceptors.request.use(b=>{const x=localStorage.getItem(br);return x?(b.headers.Authorization=`Bearer ${x}`,console.log("[AuthInterceptor] Added auth header to request:",b.url)):console.log("[AuthInterceptor] No token found for:",b.url),b},b=>Promise.reject(b)),m=oe.interceptors.response.use(b=>b,async b=>{var A,k;const x=b.config,_=(A=x==null?void 0:x.url)==null?void 0:A.includes("/api/auth/");if(((k=b.response)==null?void 0:k.status)===401&&!x._retry&&!_)if(x._retry=!0,await l()){const O=localStorage.getItem(br);return x.headers.Authorization=`Bearer ${O}`,oe(x)}else c();return Promise.reject(b)});return()=>{oe.interceptors.request.eject(p),oe.interceptors.response.eject(m)}},[l,c]),y.useEffect(()=>{(async()=>{if(localStorage.getItem(br))try{const b=await oe.get("/api/auth/me");r(b.data)}catch{await l()||r(null)}o(!1)})()},[l]);const u=async(p,m)=>{const b=new URLSearchParams;b.append("username",p),b.append("password",m);const x=await oe.post("/api/auth/login",b,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{access_token:_,refresh_token:A}=x.data;localStorage.setItem(br,_),localStorage.setItem(Nn,A);const k=await oe.get("/api/auth/me",{headers:{Authorization:`Bearer ${_}`}});r(k.data)};return a.jsx(Il.Provider,{value:{user:t,isLoading:n,isAuthenticated:!!t,login:u,logout:c,refreshToken:l},children:e})}function Bn(){const e=y.useContext(Il);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}async function Hh(){return(await oe.get("/api/settings")).data}async function bj(e){return(await oe.put("/api/settings",e)).data}const Fl=y.createContext(void 0);function Vh({children:e}){const{data:t,isLoading:r}=Ye({queryKey:["settings"],queryFn:Hh}),n={settings:t,isLoading:r,currency:(t==null?void 0:t.currency)||"JPY",baseDate:(t==null?void 0:t.base_date)||25};return a.jsx(Fl.Provider,{value:n,children:e})}function Bo(){const e=y.useContext(Fl);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e}const Ll=y.createContext(void 0),lc="smartmoney_privacy_mode";function Yh({children:e}){const[t,r]=y.useState(()=>localStorage.getItem(lc)==="true");y.useEffect(()=>{localStorage.setItem(lc,String(t))},[t]);const n=()=>{r(o=>!o)};return a.jsx(Ll.Provider,{value:{isPrivacyMode:t,togglePrivacyMode:n},children:e})}function Kn(){const e=y.useContext(Ll);if(e===void 0)throw new Error("usePrivacy must be used within a PrivacyProvider");return e}const ql="smartmoney-theme",bo="smartmoney-accent",xo="smartmoney-color-theme",vo="smartmoney-tier",Ko=[{id:"green",label:"Emerald",preview:"#4CAF50"},{id:"blue",label:"Ocean",preview:"#3B82F6"},{id:"purple",label:"Royal",preview:"#8B5CF6"},{id:"orange",label:"Sunset",preview:"#F97316"},{id:"rose",label:"Rose",preview:"#F43F5E"},{id:"teal",label:"Teal",preview:"#14B8A6"}],$l=[{id:"default",mode:"light",preview:{base:"#f9fafb",surface:"#ffffff",text:"#111827",primary:"#4CAF50"}},{id:"catppuccin-latte",mode:"light",preview:{base:"#eff1f5",surface:"#ccd0da",text:"#4c4f69",primary:"#7c3aed"}},{id:"catppuccin-frappe",mode:"dark",preview:{base:"#303446",surface:"#414559",text:"#c6d0f5",primary:"#babbf1"}},{id:"catppuccin-macchiato",mode:"dark",preview:{base:"#24273a",surface:"#363a4f",text:"#cad3f5",primary:"#91d7e3"}},{id:"catppuccin-mocha",mode:"dark",preview:{base:"#1e1e2e",surface:"#313244",text:"#cdd6f4",primary:"#cba6f7"}},{id:"dracula",mode:"dark",preview:{base:"#282a36",surface:"#44475a",text:"#f8f8f2",primary:"#bd93f9"}},{id:"dracula-light",mode:"light",preview:{base:"#fffbeb",surface:"#dedccf",text:"#1f1f1f",primary:"#644ac9"}}],Bl=$l.map(e=>e.id);function uc(){return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function dc(){if(typeof window<"u"){const e=localStorage.getItem(ql);if(e==="light"||e==="dark"||e==="system")return e}return"system"}function Gh(){if(typeof window<"u"){const e=localStorage.getItem(bo);if(Ko.some(t=>t.id===e))return e}return"green"}function Xh(){if(typeof window<"u"){const e=localStorage.getItem(xo);if(e&&Bl.includes(e))return e}return"default"}function Qh(){if(typeof window<"u"){const e=localStorage.getItem(vo);if(e==="pro"||e==="lite")return e}return"pro"}function Jh(e,t,r){var o;const n=((o=Ko.find(c=>c.id===t))==null?void 0:o.preview)||"#4CAF50";return{theme_name:e,accent_color:n,other_preferences:{tier:r}}}function Zh(e){var o,c;const t=Bl.includes(e.theme_name)?e.theme_name:"default",r=((o=Ko.find(l=>l.preview.toLowerCase()===e.accent_color.toLowerCase()))==null?void 0:o.id)||"green",n=((c=e.other_preferences)==null?void 0:c.tier)==="lite"?"lite":"pro";return{colorTheme:t,accentColor:r,tier:n}}const Kl=y.createContext(void 0);function em({children:e}){const[t,r]=y.useState(()=>dc()),[n,o]=y.useState(()=>{const q=dc();return q==="system"?uc():q}),[c,l]=y.useState(()=>Gh()),[u,p]=y.useState(()=>Xh()),[m,b]=y.useState(()=>Qh()),[x,_]=y.useState(!1),[A,k]=y.useState(!1);y.useEffect(()=>{const q=localStorage.getItem("smartmoney_access_token");k(!!q)},[]),y.useEffect(()=>{if(!A)return;(async()=>{_(!0);try{const J=await oe.get("/api/user/theme-settings"),{colorTheme:Y,accentColor:Q,tier:ge}=Zh(J.data);p(Y),l(Q),b(ge),localStorage.setItem(xo,Y),localStorage.setItem(bo,Q),localStorage.setItem(vo,ge)}catch(J){console.error("Failed to fetch theme settings from backend:",J)}finally{_(!1)}})()},[A]),y.useEffect(()=>{if(!A||x)return;const J=setTimeout(async()=>{try{const Y=Jh(u,c,m);await oe.put("/api/user/theme-settings",Y)}catch(Y){console.error("Failed to sync theme settings to backend:",Y)}},500);return()=>clearTimeout(J)},[u,c,m,A,x]),y.useEffect(()=>{const q=()=>{const J=document.documentElement;if(u!=="default"){const Y=$l.find(ge=>ge.id===u),Q=(Y==null?void 0:Y.mode)??"dark";o(Q),J.classList.remove("light","dark"),J.classList.add(Q)}else{const Y=t==="system"?uc():t;o(Y),J.classList.remove("light","dark"),J.classList.add(Y)}};if(q(),u==="default"&&t==="system"){const J=window.matchMedia("(prefers-color-scheme: dark)"),Y=()=>q();return J.addEventListener("change",Y),()=>J.removeEventListener("change",Y)}},[t,u]),y.useEffect(()=>{const q=document.documentElement;u==="default"?q.removeAttribute("data-theme"):q.setAttribute("data-theme",u)},[u]),y.useEffect(()=>{const q=document.documentElement;c==="green"?q.removeAttribute("data-accent"):q.setAttribute("data-accent",c)},[c]);const j=q=>{r(q),localStorage.setItem(ql,q)},O=()=>{j(n==="dark"?"light":"dark")},U=q=>{l(q),localStorage.setItem(bo,q)},W=q=>{p(q),localStorage.setItem(xo,q)},B=q=>{b(q),localStorage.setItem(vo,q)};return a.jsx(Kl.Provider,{value:{theme:t,resolvedTheme:n,accentColor:c,colorTheme:u,tier:m,setTheme:j,toggleTheme:O,setAccentColor:U,setColorTheme:W,setTier:B},children:e})}function Uo(){const e=y.useContext(Kl);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var Ul={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(kr,function(){var r=function(s,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(d[h]=f[h])})(s,i)},n=function(){return(n=Object.assign||function(s){for(var i,d=1,f=arguments.length;d<f;d++)for(var h in i=arguments[d])Object.prototype.hasOwnProperty.call(i,h)&&(s[h]=i[h]);return s}).apply(this,arguments)};function o(s,i,d){for(var f,h=0,g=i.length;h<g;h++)!f&&h in i||((f=f||Array.prototype.slice.call(i,0,h))[h]=i[h]);return s.concat(f||Array.prototype.slice.call(i))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:kr,l=Object.keys,u=Array.isArray;function p(s,i){return typeof i!="object"||l(i).forEach(function(d){s[d]=i[d]}),s}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var m=Object.getPrototypeOf,b={}.hasOwnProperty;function x(s,i){return b.call(s,i)}function _(s,i){typeof i=="function"&&(i=i(m(s))),(typeof Reflect>"u"?l:Reflect.ownKeys)(i).forEach(function(d){k(s,d,i[d])})}var A=Object.defineProperty;function k(s,i,d,f){A(s,i,p(d&&x(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},f))}function j(s){return{from:function(i){return s.prototype=Object.create(i.prototype),k(s.prototype,"constructor",s),{extend:_.bind(null,s.prototype)}}}}var O=Object.getOwnPropertyDescriptor,U=[].slice;function W(s,i,d){return U.call(s,i,d)}function B(s,i){return i(s)}function q(s){if(!s)throw new Error("Assertion Failed")}function J(s){c.setImmediate?setImmediate(s):setTimeout(s,0)}function Y(s,i){if(typeof i=="string"&&x(s,i))return s[i];if(!i)return s;if(typeof i!="string"){for(var d=[],f=0,h=i.length;f<h;++f){var g=Y(s,i[f]);d.push(g)}return d}var v=i.indexOf(".");if(v!==-1){var w=s[i.substr(0,v)];return w==null?void 0:Y(w,i.substr(v+1))}}function Q(s,i,d){if(s&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(s)))if(typeof i!="string"&&"length"in i){q(typeof d!="string"&&"length"in d);for(var f=0,h=i.length;f<h;++f)Q(s,i[f],d[f])}else{var g,v,w=i.indexOf(".");w!==-1?(g=i.substr(0,w),(v=i.substr(w+1))===""?d===void 0?u(s)&&!isNaN(parseInt(g))?s.splice(g,1):delete s[g]:s[g]=d:Q(w=!(w=s[g])||!x(s,g)?s[g]={}:w,v,d)):d===void 0?u(s)&&!isNaN(parseInt(i))?s.splice(i,1):delete s[i]:s[i]=d}}function ge(s){var i,d={};for(i in s)x(s,i)&&(d[i]=s[i]);return d}var Se=[].concat;function Me(s){return Se.apply([],s)}var ir="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Me([8,16,32,64].map(function(s){return["Int","Uint","Float"].map(function(i){return i+s+"Array"})}))).filter(function(s){return c[s]}),fe=new Set(ir.map(function(s){return c[s]})),ce=null;function Oe(s){return ce=new WeakMap,s=function i(d){if(!d||typeof d!="object")return d;var f=ce.get(d);if(f)return f;if(u(d)){f=[],ce.set(d,f);for(var h=0,g=d.length;h<g;++h)f.push(i(d[h]))}else if(fe.has(d.constructor))f=d;else{var v,w=m(d);for(v in f=w===Object.prototype?{}:Object.create(w),ce.set(d,f),d)x(d,v)&&(f[v]=i(d[v]))}return f}(s),ce=null,s}var we={}.toString;function F(s){return we.call(s).slice(8,-1)}var z=typeof Symbol<"u"?Symbol.iterator:"@@iterator",V=typeof z=="symbol"?function(s){var i;return s!=null&&(i=s[z])&&i.apply(s)}:function(){return null};function G(s,i){return i=s.indexOf(i),0<=i&&s.splice(i,1),0<=i}var ue={};function pe(s){var i,d,f,h;if(arguments.length===1){if(u(s))return s.slice();if(this===ue&&typeof s=="string")return[s];if(h=V(s)){for(d=[];!(f=h.next()).done;)d.push(f.value);return d}if(s==null)return[s];if(typeof(i=s.length)!="number")return[s];for(d=new Array(i);i--;)d[i]=s[i];return d}for(i=arguments.length,d=new Array(i);i--;)d[i]=arguments[i];return d}var Ee=typeof Symbol<"u"?function(s){return s[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},dn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(dn),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function he(s,i){this.name=s,this.message=i}function ve(s,i){return s+". Errors: "+Object.keys(i).map(function(d){return i[d].toString()}).filter(function(d,f,h){return h.indexOf(d)===f}).join(`
`)}function ye(s,i,d,f){this.failures=i,this.failedKeys=f,this.successCount=d,this.message=ve(s,i)}function re(s,i){this.name="BulkError",this.failures=Object.keys(i).map(function(d){return i[d]}),this.failuresByPos=i,this.message=ve(s,this.failures)}j(he).from(Error).extend({toString:function(){return this.name+": "+this.message}}),j(ye).from(he),j(re).from(he);var Le=gt.reduce(function(s,i){return s[i]=i+"Error",s},{}),nt=he,de=gt.reduce(function(s,i){var d=i+"Error";function f(h,g){this.name=d,h?typeof h=="string"?(this.message="".concat(h).concat(g?`
 `+g:""),this.inner=g||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=X[i]||d,this.inner=null)}return j(f).from(nt),s[i]=f,s},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var sr=dn.reduce(function(s,i){return s[i+"Error"]=de[i],s},{}),Gn=gt.reduce(function(s,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(s[i+"Error"]=de[i]),s},{});function Fe(){}function ln(s){return s}function vd(s,i){return s==null||s===ln?i:function(d){return i(s(d))}}function or(s,i){return function(){s.apply(this,arguments),i.apply(this,arguments)}}function wd(s,i){return s===Fe?i:function(){var d=s.apply(this,arguments);d!==void 0&&(arguments[0]=d);var f=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var g=i.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?or(f,this.onsuccess):f),h&&(this.onerror=this.onerror?or(h,this.onerror):h),g!==void 0?g:d}}function kd(s,i){return s===Fe?i:function(){s.apply(this,arguments);var d=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?or(d,this.onsuccess):d),f&&(this.onerror=this.onerror?or(f,this.onerror):f)}}function jd(s,i){return s===Fe?i:function(d){var f=s.apply(this,arguments);p(d,f);var h=this.onsuccess,g=this.onerror;return this.onsuccess=null,this.onerror=null,d=i.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?or(h,this.onsuccess):h),g&&(this.onerror=this.onerror?or(g,this.onerror):g),f===void 0?d===void 0?void 0:d:p(f,d)}}function Nd(s,i){return s===Fe?i:function(){return i.apply(this,arguments)!==!1&&s.apply(this,arguments)}}function cs(s,i){return s===Fe?i:function(){var d=s.apply(this,arguments);if(d&&typeof d.then=="function"){for(var f=this,h=arguments.length,g=new Array(h);h--;)g[h]=arguments[h];return d.then(function(){return i.apply(f,g)})}return i.apply(this,arguments)}}Gn.ModifyError=ye,Gn.DexieError=he,Gn.BulkError=re;var jt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oi(s){jt=s}var un={},ii=100,ir=typeof Promise>"u"?[]:function(){var s=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[s,m(s),s];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,m(i),s]}(),dn=ir[0],gt=ir[1],ir=ir[2],gt=gt&&gt.then,cr=dn&&dn.constructor,ls=!!ir,fn=function(s,i){hn.push([s,i]),Xn&&(queueMicrotask(_d),Xn=!1)},us=!0,Xn=!0,lr=[],Qn=[],ds=ln,Lt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Fe,pgp:!1,env:{},finalize:Fe},be=Lt,hn=[],ur=0,Jn=[];function le(s){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=be;if(typeof s!="function"){if(s!==un)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&hs(this,this._value))}this._state=null,this._value=null,++i.ref,function d(f,h){try{h(function(g){if(f._state===null){if(g===f)throw new TypeError("A promise cannot be resolved with itself.");var v=f._lib&&Or();g&&typeof g.then=="function"?d(f,function(w,S){g instanceof le?g._then(w,S):g.then(w,S)}):(f._state=!0,f._value=g,li(f)),v&&Rr()}},hs.bind(null,f))}catch(g){hs(f,g)}}(this,s)}var fs={get:function(){var s=be,i=ra;function d(f,h){var g=this,v=!s.global&&(s!==be||i!==ra),w=v&&!$t(),S=new le(function(C,R){ms(g,new ci(di(f,s,v,w),di(h,s,v,w),C,R,s))});return this._consoleTask&&(S._consoleTask=this._consoleTask),S}return d.prototype=un,d},set:function(s){k(this,"then",s&&s.prototype===un?fs:{get:function(){return s},set:fs.set})}};function ci(s,i,d,f,h){this.onFulfilled=typeof s=="function"?s:null,this.onRejected=typeof i=="function"?i:null,this.resolve=d,this.reject=f,this.psd=h}function hs(s,i){var d,f;Qn.push(i),s._state===null&&(d=s._lib&&Or(),i=ds(i),s._state=!1,s._value=i,f=s,lr.some(function(h){return h._value===f._value})||lr.push(f),li(s),d&&Rr())}function li(s){var i=s._listeners;s._listeners=[];for(var d=0,f=i.length;d<f;++d)ms(s,i[d]);var h=s._PSD;--h.ref||h.finalize(),ur===0&&(++ur,fn(function(){--ur==0&&ps()},[]))}function ms(s,i){if(s._state!==null){var d=s._state?i.onFulfilled:i.onRejected;if(d===null)return(s._state?i.resolve:i.reject)(s._value);++i.psd.ref,++ur,fn(Sd,[d,s,i])}else s._listeners.push(i)}function Sd(s,i,d){try{var f,h=i._value;!i._state&&Qn.length&&(Qn=[]),f=jt&&i._consoleTask?i._consoleTask.run(function(){return s(h)}):s(h),i._state||Qn.indexOf(h)!==-1||function(g){for(var v=lr.length;v;)if(lr[--v]._value===g._value)return lr.splice(v,1)}(i),d.resolve(f)}catch(g){d.reject(g)}finally{--ur==0&&ps(),--d.psd.ref||d.psd.finalize()}}function _d(){dr(Lt,function(){Or()&&Rr()})}function Or(){var s=us;return Xn=us=!1,s}function Rr(){var s,i,d;do for(;0<hn.length;)for(s=hn,hn=[],d=s.length,i=0;i<d;++i){var f=s[i];f[0].apply(null,f[1])}while(0<hn.length);Xn=us=!0}function ps(){var s=lr;lr=[],s.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var i=Jn.slice(0),d=i.length;d;)i[--d]()}function Zn(s){return new le(un,!1,s)}function Be(s,i){var d=be;return function(){var f=Or(),h=be;try{return Bt(d,!0),s.apply(this,arguments)}catch(g){i&&i(g)}finally{Bt(h,!1),f&&Rr()}}}_(le.prototype,{then:fs,_then:function(s,i){ms(this,new ci(null,null,s,i,be))},catch:function(s){if(arguments.length===1)return this.then(null,s);var i=s,d=arguments[1];return typeof i=="function"?this.then(null,function(f){return(f instanceof i?d:Zn)(f)}):this.then(null,function(f){return(f&&f.name===i?d:Zn)(f)})},finally:function(s){return this.then(function(i){return le.resolve(s()).then(function(){return i})},function(i){return le.resolve(s()).then(function(){return Zn(i)})})},timeout:function(s,i){var d=this;return s<1/0?new le(function(f,h){var g=setTimeout(function(){return h(new de.Timeout(i))},s);d.then(f,h).finally(clearTimeout.bind(null,g))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(le.prototype,Symbol.toStringTag,"Dexie.Promise"),Lt.env=ui(),_(le,{all:function(){var s=pe.apply(null,arguments).map(na);return new le(function(i,d){s.length===0&&i([]);var f=s.length;s.forEach(function(h,g){return le.resolve(h).then(function(v){s[g]=v,--f||i(s)},d)})})},resolve:function(s){return s instanceof le?s:s&&typeof s.then=="function"?new le(function(i,d){s.then(i,d)}):new le(un,!0,s)},reject:Zn,race:function(){var s=pe.apply(null,arguments).map(na);return new le(function(i,d){s.map(function(f){return le.resolve(f).then(i,d)})})},PSD:{get:function(){return be},set:function(s){return be=s}},totalEchoes:{get:function(){return ra}},newPSD:qt,usePSD:dr,scheduler:{get:function(){return fn},set:function(s){fn=s}},rejectionMapper:{get:function(){return ds},set:function(s){ds=s}},follow:function(s,i){return new le(function(d,f){return qt(function(h,g){var v=be;v.unhandleds=[],v.onunhandled=g,v.finalize=or(function(){var w,S=this;w=function(){S.unhandleds.length===0?h():g(S.unhandleds[0])},Jn.push(function C(){w(),Jn.splice(Jn.indexOf(C),1)}),++ur,fn(function(){--ur==0&&ps()},[])},v.finalize),s()},i,d,f)})}}),cr&&(cr.allSettled&&k(le,"allSettled",function(){var s=pe.apply(null,arguments).map(na);return new le(function(i){s.length===0&&i([]);var d=s.length,f=new Array(d);s.forEach(function(h,g){return le.resolve(h).then(function(v){return f[g]={status:"fulfilled",value:v}},function(v){return f[g]={status:"rejected",reason:v}}).then(function(){return--d||i(f)})})})}),cr.any&&typeof AggregateError<"u"&&k(le,"any",function(){var s=pe.apply(null,arguments).map(na);return new le(function(i,d){s.length===0&&d(new AggregateError([]));var f=s.length,h=new Array(f);s.forEach(function(g,v){return le.resolve(g).then(function(w){return i(w)},function(w){h[v]=w,--f||d(new AggregateError(h))})})})}),cr.withResolvers&&(le.withResolvers=cr.withResolvers));var He={awaits:0,echoes:0,id:0},Cd=0,ea=[],ta=0,ra=0,Ed=0;function qt(s,i,d,f){var h=be,g=Object.create(h);return g.parent=h,g.ref=0,g.global=!1,g.id=++Ed,Lt.env,g.env=ls?{Promise:le,PromiseProp:{value:le,configurable:!0,writable:!0},all:le.all,race:le.race,allSettled:le.allSettled,any:le.any,resolve:le.resolve,reject:le.reject}:{},i&&p(g,i),++h.ref,g.finalize=function(){--this.parent.ref||this.parent.finalize()},f=dr(g,s,d,f),g.ref===0&&g.finalize(),f}function Mr(){return He.id||(He.id=++Cd),++He.awaits,He.echoes+=ii,He.id}function $t(){return!!He.awaits&&(--He.awaits==0&&(He.id=0),He.echoes=He.awaits*ii,!0)}function na(s){return He.echoes&&s&&s.constructor===cr?(Mr(),s.then(function(i){return $t(),i},function(i){return $t(),Ue(i)})):s}function Pd(){var s=ea[ea.length-1];ea.pop(),Bt(s,!1)}function Bt(s,i){var d,f=be;(i?!He.echoes||ta++&&s===be:!ta||--ta&&s===be)||queueMicrotask(i?(function(h){++ra,He.echoes&&--He.echoes!=0||(He.echoes=He.awaits=He.id=0),ea.push(be),Bt(h,!0)}).bind(null,s):Pd),s!==be&&(be=s,f===Lt&&(Lt.env=ui()),ls&&(d=Lt.env.Promise,i=s.env,(f.global||s.global)&&(Object.defineProperty(c,"Promise",i.PromiseProp),d.all=i.all,d.race=i.race,d.resolve=i.resolve,d.reject=i.reject,i.allSettled&&(d.allSettled=i.allSettled),i.any&&(d.any=i.any))))}function ui(){var s=c.Promise;return ls?{Promise:s,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:s.all,race:s.race,allSettled:s.allSettled,any:s.any,resolve:s.resolve,reject:s.reject}:{}}function dr(s,i,d,f,h){var g=be;try{return Bt(s,!0),i(d,f,h)}finally{Bt(g,!1)}}function di(s,i,d,f){return typeof s!="function"?s:function(){var h=be;d&&Mr(),Bt(i,!0);try{return s.apply(this,arguments)}finally{Bt(h,!1),f&&queueMicrotask($t)}}}function gs(s){Promise===cr&&He.echoes===0?ta===0?s():enqueueNativeMicroTask(s):setTimeout(s,0)}(""+gt).indexOf("[native code]")===-1&&(Mr=$t=Fe);var Ue=le.reject,fr="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fi="String expected.",Dr=[],aa="__dbnames",ys="readonly",bs="readwrite";function hr(s,i){return s?i?function(){return s.apply(this,arguments)&&i.apply(this,arguments)}:s:i}var hi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function sa(s){return typeof s!="string"||/\./.test(s)?function(i){return i}:function(i){return i[s]===void 0&&s in i&&delete(i=Oe(i))[s],i}}function mi(){throw de.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Re(s,i){try{var d=pi(s),f=pi(i);if(d!==f)return d==="Array"?1:f==="Array"?-1:d==="binary"?1:f==="binary"?-1:d==="string"?1:f==="string"?-1:d==="Date"?1:f!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return i<s?1:s<i?-1:0;case"binary":return function(h,g){for(var v=h.length,w=g.length,S=v<w?v:w,C=0;C<S;++C)if(h[C]!==g[C])return h[C]<g[C]?-1:1;return v===w?0:v<w?-1:1}(gi(s),gi(i));case"Array":return function(h,g){for(var v=h.length,w=g.length,S=v<w?v:w,C=0;C<S;++C){var R=Re(h[C],g[C]);if(R!==0)return R}return v===w?0:v<w?-1:1}(s,i)}}catch{}return NaN}function pi(s){var i=typeof s;return i!="object"?i:ArrayBuffer.isView(s)?"binary":(s=F(s),s==="ArrayBuffer"?"binary":s)}function gi(s){return s instanceof Uint8Array?s:ArrayBuffer.isView(s)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(s)}function oa(s,i,d){var f=s.schema.yProps;return f?(i&&0<d.numFailures&&(i=i.filter(function(h,g){return!d.failures[g]})),Promise.all(f.map(function(h){return h=h.updatesTable,i?s.db.table(h).where("k").anyOf(i).delete():s.db.table(h).clear()})).then(function(){return d})):d}var mn=(yi.prototype.execute=function(s){var i=this["@@propmod"];if(i.add!==void 0){var d=i.add;if(u(d))return o(o([],u(s)?s:[],!0),d).sort();if(typeof d=="number")return(Number(s)||0)+d;if(typeof d=="bigint")try{return BigInt(s)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(i.remove!==void 0){var f=i.remove;if(u(f))return u(s)?s.filter(function(h){return!f.includes(h)}).sort():[];if(typeof f=="number")return Number(s)-f;if(typeof f=="bigint")try{return BigInt(s)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return d=(d=i.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof s=="string"&&s.startsWith(d)?i.replacePrefix[1]+s.substring(d.length):s},yi);function yi(s){this["@@propmod"]=s}function bi(s,i){for(var d=l(i),f=d.length,h=!1,g=0;g<f;++g){var v=d[g],w=i[v],S=Y(s,v);w instanceof mn?(Q(s,v,w.execute(S)),h=!0):S!==w&&(Q(s,v,w),h=!0)}return h}var xi=(qe.prototype._trans=function(s,i,d){var f=this._tx||be.trans,h=this.name,g=jt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(s==="readonly"?"read":"write"," ").concat(this.name));function v(C,R,N){if(!N.schema[h])throw new de.NotFound("Table "+h+" not part of transaction");return i(N.idbtrans,N)}var w=Or();try{var S=f&&f.db._novip===this.db._novip?f===be.trans?f._promise(s,v,d):qt(function(){return f._promise(s,v,d)},{trans:f,transless:be.transless||be}):function C(R,N,D,E){if(R.idbdb&&(R._state.openComplete||be.letThrough||R._vip)){var P=R._createTransaction(N,D,R._dbSchema);try{P.create(),R._state.PR1398_maxLoop=3}catch(T){return T.name===Le.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return C(R,N,D,E)})):Ue(T)}return P._promise(N,function(T,M){return qt(function(){return be.trans=P,E(T,M,P)})}).then(function(T){if(N==="readwrite")try{P.idbtrans.commit()}catch{}return N==="readonly"?T:P._completion.then(function(){return T})})}if(R._state.openComplete)return Ue(new de.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return Ue(new de.DatabaseClosed);R.open().catch(Fe)}return R._state.dbReadyPromise.then(function(){return C(R,N,D,E)})}(this.db,s,[this.name],v);return g&&(S._consoleTask=g,S=S.catch(function(C){return console.trace(C),Ue(C)})),S}finally{w&&Rr()}},qe.prototype.get=function(s,i){var d=this;return s&&s.constructor===Object?this.where(s).first(i):s==null?Ue(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return d.core.get({trans:f,key:s}).then(function(h){return d.hook.reading.fire(h)})}).then(i)},qe.prototype.where=function(s){if(typeof s=="string")return new this.db.WhereClause(this,s);if(u(s))return new this.db.WhereClause(this,"[".concat(s.join("+"),"]"));var i=l(s);if(i.length===1)return this.where(i[0]).equals(s[i[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(w){if(w.compound&&i.every(function(C){return 0<=w.keyPath.indexOf(C)})){for(var S=0;S<i.length;++S)if(i.indexOf(w.keyPath[S])===-1)return!1;return!0}return!1}).sort(function(w,S){return w.keyPath.length-S.keyPath.length})[0];if(d&&this.db._maxKey!==fr){var g=d.keyPath.slice(0,i.length);return this.where(g).equals(g.map(function(S){return s[S]}))}!d&&jt&&console.warn("The query ".concat(JSON.stringify(s)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var f=this.schema.idxByName;function h(w,S){return Re(w,S)===0}var v=i.reduce(function(N,S){var C=N[0],R=N[1],N=f[S],D=s[S];return[C||N,C||!N?hr(R,N&&N.multi?function(E){return E=Y(E,S),u(E)&&E.some(function(P){return h(D,P)})}:function(E){return h(D,Y(E,S))}):R]},[null,null]),g=v[0],v=v[1];return g?this.where(g.name).equals(s[g.keyPath]).filter(v):d?this.filter(v):this.where(i).equals("")},qe.prototype.filter=function(s){return this.toCollection().and(s)},qe.prototype.count=function(s){return this.toCollection().count(s)},qe.prototype.offset=function(s){return this.toCollection().offset(s)},qe.prototype.limit=function(s){return this.toCollection().limit(s)},qe.prototype.each=function(s){return this.toCollection().each(s)},qe.prototype.toArray=function(s){return this.toCollection().toArray(s)},qe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},qe.prototype.orderBy=function(s){return new this.db.Collection(new this.db.WhereClause(this,u(s)?"[".concat(s.join("+"),"]"):s))},qe.prototype.reverse=function(){return this.toCollection().reverse()},qe.prototype.mapToClass=function(s){var i,d=this.db,f=this.name;function h(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=s).prototype instanceof mi&&(function(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function R(){this.constructor=S}r(S,C),S.prototype=C===null?Object.create(C):(R.prototype=C.prototype,new R)}(h,i=s),Object.defineProperty(h.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),h.prototype.table=function(){return f},s=h);for(var g=new Set,v=s.prototype;v;v=m(v))Object.getOwnPropertyNames(v).forEach(function(S){return g.add(S)});function w(S){if(!S)return S;var C,R=Object.create(s.prototype);for(C in S)if(!g.has(C))try{R[C]=S[C]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=w,this.hook("reading",w),s},qe.prototype.defineClass=function(){return this.mapToClass(function(s){p(this,s)})},qe.prototype.add=function(s,i){var d=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=s;return g&&h&&(v=sa(g)(s)),this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"add",keys:i!=null?[i]:null,values:[v]})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{Q(s,g,w)}catch{}return w})},qe.prototype.upsert=function(s,i){var d=this,f=this.schema.primKey.keyPath;return this._trans("readwrite",function(h){return d.core.get({trans:h,key:s}).then(function(g){var v=g??{};return bi(v,i),f&&Q(v,f,s),d.core.mutate({trans:h,type:"put",values:[v],keys:[s],upsert:!0,updates:{keys:[s],changeSpecs:[i]}}).then(function(w){return w.numFailures?le.reject(w.failures[0]):!!g})})})},qe.prototype.update=function(s,i){return typeof s!="object"||u(s)?this.where(":id").equals(s).modify(i):(s=Y(s,this.schema.primKey.keyPath),s===void 0?Ue(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(s).modify(i))},qe.prototype.put=function(s,i){var d=this,f=this.schema.primKey,h=f.auto,g=f.keyPath,v=s;return g&&h&&(v=sa(g)(s)),this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"put",values:[v],keys:i!=null?[i]:null})}).then(function(w){return w.numFailures?le.reject(w.failures[0]):w.lastResult}).then(function(w){if(g)try{Q(s,g,w)}catch{}return w})},qe.prototype.delete=function(s){var i=this;return this._trans("readwrite",function(d){return i.core.mutate({trans:d,type:"delete",keys:[s]}).then(function(f){return oa(i,[s],f)}).then(function(f){return f.numFailures?le.reject(f.failures[0]):void 0})})},qe.prototype.clear=function(){var s=this;return this._trans("readwrite",function(i){return s.core.mutate({trans:i,type:"deleteRange",range:hi}).then(function(d){return oa(s,null,d)})}).then(function(i){return i.numFailures?le.reject(i.failures[0]):void 0})},qe.prototype.bulkGet=function(s){var i=this;return this._trans("readonly",function(d){return i.core.getMany({keys:s,trans:d}).then(function(f){return f.map(function(h){return i.hook.reading.fire(h)})})})},qe.prototype.bulkAdd=function(s,i,d){var f=this,h=Array.isArray(i)?i:void 0,g=(d=d||(h?void 0:i))?d.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,w=C.auto,C=C.keyPath;if(C&&h)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var S=s.length,C=C&&w?s.map(sa(C)):s;return f.core.mutate({trans:v,type:"add",keys:h,values:C,wantResults:g}).then(function(P){var N=P.numFailures,D=P.results,E=P.lastResult,P=P.failures;if(N===0)return g?D:E;throw new re("".concat(f.name,".bulkAdd(): ").concat(N," of ").concat(S," operations failed"),P)})})},qe.prototype.bulkPut=function(s,i,d){var f=this,h=Array.isArray(i)?i:void 0,g=(d=d||(h?void 0:i))?d.allKeys:void 0;return this._trans("readwrite",function(v){var C=f.schema.primKey,w=C.auto,C=C.keyPath;if(C&&h)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==s.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var S=s.length,C=C&&w?s.map(sa(C)):s;return f.core.mutate({trans:v,type:"put",keys:h,values:C,wantResults:g}).then(function(P){var N=P.numFailures,D=P.results,E=P.lastResult,P=P.failures;if(N===0)return g?D:E;throw new re("".concat(f.name,".bulkPut(): ").concat(N," of ").concat(S," operations failed"),P)})})},qe.prototype.bulkUpdate=function(s){var i=this,d=this.core,f=s.map(function(v){return v.key}),h=s.map(function(v){return v.changes}),g=[];return this._trans("readwrite",function(v){return d.getMany({trans:v,keys:f,cache:"clone"}).then(function(w){var S=[],C=[];s.forEach(function(N,D){var E=N.key,P=N.changes,T=w[D];if(T){for(var M=0,I=Object.keys(P);M<I.length;M++){var L=I[M],K=P[L];if(L===i.schema.primKey.keyPath){if(Re(K,E)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else Q(T,L,K)}g.push(D),S.push(E),C.push(T)}});var R=S.length;return d.mutate({trans:v,type:"put",keys:S,values:C,updates:{keys:f,changeSpecs:h}}).then(function(N){var D=N.numFailures,E=N.failures;if(D===0)return R;for(var P=0,T=Object.keys(E);P<T.length;P++){var M,I=T[P],L=g[Number(I)];L!=null&&(M=E[I],delete E[I],E[L]=M)}throw new re("".concat(i.name,".bulkUpdate(): ").concat(D," of ").concat(R," operations failed"),E)})})})},qe.prototype.bulkDelete=function(s){var i=this,d=s.length;return this._trans("readwrite",function(f){return i.core.mutate({trans:f,type:"delete",keys:s}).then(function(h){return oa(i,s,h)})}).then(function(v){var h=v.numFailures,g=v.lastResult,v=v.failures;if(h===0)return g;throw new re("".concat(i.name,".bulkDelete(): ").concat(h," of ").concat(d," operations failed"),v)})},qe);function qe(){}function pn(s){function i(v,w){if(w){for(var S=arguments.length,C=new Array(S-1);--S;)C[S-1]=arguments[S];return d[v].subscribe.apply(null,C),s}if(typeof v=="string")return d[v]}var d={};i.addEventType=g;for(var f=1,h=arguments.length;f<h;++f)g(arguments[f]);return i;function g(v,w,S){if(typeof v!="object"){var C;w=w||Nd;var R={subscribers:[],fire:S=S||Fe,subscribe:function(N){R.subscribers.indexOf(N)===-1&&(R.subscribers.push(N),R.fire=w(R.fire,N))},unsubscribe:function(N){R.subscribers=R.subscribers.filter(function(D){return D!==N}),R.fire=R.subscribers.reduce(w,S)}};return d[v]=i[v]=R}l(C=v).forEach(function(N){var D=C[N];if(u(D))g(N,C[N][0],C[N][1]);else{if(D!=="asap")throw new de.InvalidArgument("Invalid event config");var E=g(N,ln,function(){for(var P=arguments.length,T=new Array(P);P--;)T[P]=arguments[P];E.subscribers.forEach(function(M){J(function(){M.apply(null,T)})})})}})}}function gn(s,i){return j(i).from({prototype:s}),i}function Ir(s,i){return!(s.filter||s.algorithm||s.or)&&(i?s.justLimit:!s.replayFilter)}function xs(s,i){s.filter=hr(s.filter,i)}function vs(s,i,d){var f=s.replayFilter;s.replayFilter=f?function(){return hr(f(),i())}:i,s.justLimit=d&&!f}function ia(s,i){if(s.isPrimKey)return i.primaryKey;var d=i.getIndexByKeyPath(s.index);if(!d)throw new de.Schema("KeyPath "+s.index+" on object store "+i.name+" is not indexed");return d}function vi(s,i,d){var f=ia(s,i.schema);return i.openCursor({trans:d,values:!s.keysOnly,reverse:s.dir==="prev",unique:!!s.unique,query:{index:f,range:s.range}})}function ca(s,i,d,f){var h=s.replayFilter?hr(s.filter,s.replayFilter()):s.filter;if(s.or){var g={},v=function(w,S,C){var R,N;h&&!h(S,C,function(D){return S.stop(D)},function(D){return S.fail(D)})||((N=""+(R=S.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(R)),x(g,N)||(g[N]=!0,i(w,S,C)))};return Promise.all([s.or._iterate(v,d),wi(vi(s,f,d),s.algorithm,v,!s.keysOnly&&s.valueMapper)])}return wi(vi(s,f,d),hr(s.algorithm,h),i,!s.keysOnly&&s.valueMapper)}function wi(s,i,d,f){var h=Be(f?function(g,v,w){return d(f(g),v,w)}:d);return s.then(function(g){if(g)return g.start(function(){var v=function(){return g.continue()};i&&!i(g,function(w){return v=w},function(w){g.stop(w),v=Fe},function(w){g.fail(w),v=Fe})||h(g.value,g,function(w){return v=w}),v()})})}var Td=(De.prototype._read=function(s,i){var d=this._ctx;return d.error?d.table._trans(null,Ue.bind(null,d.error)):d.table._trans("readonly",s).then(i)},De.prototype._write=function(s){var i=this._ctx;return i.error?i.table._trans(null,Ue.bind(null,i.error)):i.table._trans("readwrite",s,"locked")},De.prototype._addAlgorithm=function(s){var i=this._ctx;i.algorithm=hr(i.algorithm,s)},De.prototype._iterate=function(s,i){return ca(this._ctx,s,i,this._ctx.table.core)},De.prototype.clone=function(s){var i=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return s&&p(d,s),i._ctx=d,i},De.prototype.raw=function(){return this._ctx.valueMapper=null,this},De.prototype.each=function(s){var i=this._ctx;return this._read(function(d){return ca(i,s,d,i.table.core)})},De.prototype.count=function(s){var i=this;return this._read(function(d){var f=i._ctx,h=f.table.core;if(Ir(f,!0))return h.count({trans:d,query:{index:ia(f,h.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)});var g=0;return ca(f,function(){return++g,!1},d,h).then(function(){return g})}).then(s)},De.prototype.sortBy=function(s,i){var d=s.split(".").reverse(),f=d[0],h=d.length-1;function g(S,C){return C?g(S[d[C]],C-1):S[f]}var v=this._ctx.dir==="next"?1:-1;function w(S,C){return Re(g(S,h),g(C,h))*v}return this.toArray(function(S){return S.sort(w)}).then(i)},De.prototype.toArray=function(s){var i=this;return this._read(function(d){var f=i._ctx;if(f.dir==="next"&&Ir(f,!0)&&0<f.limit){var h=f.valueMapper,g=ia(f,f.table.core.schema);return f.table.core.query({trans:d,limit:f.limit,values:!0,query:{index:g,range:f.range}}).then(function(w){return w=w.result,h?w.map(h):w})}var v=[];return ca(f,function(w){return v.push(w)},d,f.table.core).then(function(){return v})},s)},De.prototype.offset=function(s){var i=this._ctx;return s<=0||(i.offset+=s,Ir(i)?vs(i,function(){var d=s;return function(f,h){return d===0||(d===1?--d:h(function(){f.advance(d),d=0}),!1)}}):vs(i,function(){var d=s;return function(){return--d<0}})),this},De.prototype.limit=function(s){return this._ctx.limit=Math.min(this._ctx.limit,s),vs(this._ctx,function(){var i=s;return function(d,f,h){return--i<=0&&f(h),0<=i}},!0),this},De.prototype.until=function(s,i){return xs(this._ctx,function(d,f,h){return!s(d.value)||(f(h),i)}),this},De.prototype.first=function(s){return this.limit(1).toArray(function(i){return i[0]}).then(s)},De.prototype.last=function(s){return this.reverse().first(s)},De.prototype.filter=function(s){var i;return xs(this._ctx,function(d){return s(d.value)}),(i=this._ctx).isMatch=hr(i.isMatch,s),this},De.prototype.and=function(s){return this.filter(s)},De.prototype.or=function(s){return new this.db.WhereClause(this._ctx.table,s,this)},De.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},De.prototype.desc=function(){return this.reverse()},De.prototype.eachKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(d,f){s(f.key,f)})},De.prototype.eachUniqueKey=function(s){return this._ctx.unique="unique",this.eachKey(s)},De.prototype.eachPrimaryKey=function(s){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(d,f){s(f.primaryKey,f)})},De.prototype.keys=function(s){var i=this._ctx;i.keysOnly=!i.isMatch;var d=[];return this.each(function(f,h){d.push(h.key)}).then(function(){return d}).then(s)},De.prototype.primaryKeys=function(s){var i=this._ctx;if(i.dir==="next"&&Ir(i,!0)&&0<i.limit)return this._read(function(f){var h=ia(i,i.table.core.schema);return i.table.core.query({trans:f,values:!1,limit:i.limit,query:{index:h,range:i.range}})}).then(function(f){return f.result}).then(s);i.keysOnly=!i.isMatch;var d=[];return this.each(function(f,h){d.push(h.primaryKey)}).then(function(){return d}).then(s)},De.prototype.uniqueKeys=function(s){return this._ctx.unique="unique",this.keys(s)},De.prototype.firstKey=function(s){return this.limit(1).keys(function(i){return i[0]}).then(s)},De.prototype.lastKey=function(s){return this.reverse().firstKey(s)},De.prototype.distinct=function(){var s=this._ctx,s=s.index&&s.table.schema.idxByName[s.index];if(!s||!s.multi)return this;var i={};return xs(this._ctx,function(h){var f=h.primaryKey.toString(),h=x(i,f);return i[f]=!0,!h}),this},De.prototype.modify=function(s){var i=this,d=this._ctx;return this._write(function(f){var h=typeof s=="function"?s:function(T){return bi(T,s)},g=d.table.core,C=g.schema.primaryKey,v=C.outbound,w=C.extractKey,S=200,C=i.db._options.modifyChunkSize;C&&(S=typeof C=="object"?C[g.name]||C["*"]||200:C);function R(T,L){var I=L.failures,L=L.numFailures;D+=T-L;for(var K=0,H=l(I);K<H.length;K++){var te=H[K];N.push(I[te])}}var N=[],D=0,E=[],P=s===ki;return i.clone().primaryKeys().then(function(T){function M(L){var K=Math.min(S,T.length-L),H=T.slice(L,L+K);return(P?Promise.resolve([]):g.getMany({trans:f,keys:H,cache:"immutable"})).then(function(te){var se=[],ee=[],ne=v?[]:null,ie=P?H:[];if(!P)for(var ae=0;ae<K;++ae){var me=te[ae],je={value:Oe(me),primKey:T[L+ae]};h.call(je,je.value,je)!==!1&&(je.value==null?ie.push(T[L+ae]):v||Re(w(me),w(je.value))===0?(ee.push(je.value),v&&ne.push(T[L+ae])):(ie.push(T[L+ae]),se.push(je.value)))}return Promise.resolve(0<se.length&&g.mutate({trans:f,type:"add",values:se}).then(function(Ce){for(var Pe in Ce.failures)ie.splice(parseInt(Pe),1);R(se.length,Ce)})).then(function(){return(0<ee.length||I&&typeof s=="object")&&g.mutate({trans:f,type:"put",keys:ne,values:ee,criteria:I,changeSpec:typeof s!="function"&&s,isAdditionalChunk:0<L}).then(function(Ce){return R(ee.length,Ce)})}).then(function(){return(0<ie.length||I&&P)&&g.mutate({trans:f,type:"delete",keys:ie,criteria:I,isAdditionalChunk:0<L}).then(function(Ce){return oa(d.table,ie,Ce)}).then(function(Ce){return R(ie.length,Ce)})}).then(function(){return T.length>L+K&&M(L+S)})})}var I=Ir(d)&&d.limit===1/0&&(typeof s!="function"||P)&&{index:d.index,range:d.range};return M(0).then(function(){if(0<N.length)throw new ye("Error modifying one or more objects",N,D,E);return T.length})})})},De.prototype.delete=function(){var s=this._ctx,i=s.range;return!Ir(s)||s.table.schema.yProps||!s.isPrimKey&&i.type!==3?this.modify(ki):this._write(function(d){var f=s.table.core.schema.primaryKey,h=i;return s.table.core.count({trans:d,query:{index:f,range:h}}).then(function(g){return s.table.core.mutate({trans:d,type:"deleteRange",range:h}).then(function(S){var w=S.failures,S=S.numFailures;if(S)throw new ye("Could not delete some values",Object.keys(w).map(function(C){return w[C]}),g-S);return g-S})})})},De);function De(){}var ki=function(s,i){return i.value=null};function Ad(s,i){return s<i?-1:s===i?0:1}function Od(s,i){return i<s?-1:s===i?0:1}function ut(s,i,d){return s=s instanceof Ni?new s.Collection(s):s,s._ctx.error=new(d||TypeError)(i),s}function Fr(s){return new s.Collection(s,function(){return ji("")}).limit(0)}function la(s,i,d,f){var h,g,v,w,S,C,R,N=d.length;if(!d.every(function(P){return typeof P=="string"}))return ut(s,fi);function D(P){h=P==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},g=P==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},v=P==="next"?Ad:Od;var T=d.map(function(M){return{lower:g(M),upper:h(M)}}).sort(function(M,I){return v(M.lower,I.lower)});w=T.map(function(M){return M.upper}),S=T.map(function(M){return M.lower}),R=(C=P)==="next"?"":f}D("next"),s=new s.Collection(s,function(){return Kt(w[0],S[N-1]+f)}),s._ondirectionchange=function(P){D(P)};var E=0;return s._addAlgorithm(function(P,T,M){var I=P.key;if(typeof I!="string")return!1;var L=g(I);if(i(L,S,E))return!0;for(var K=null,H=E;H<N;++H){var te=function(se,ee,ne,ie,ae,me){for(var je=Math.min(se.length,ie.length),Ce=-1,Pe=0;Pe<je;++Pe){var dt=ee[Pe];if(dt!==ie[Pe])return ae(se[Pe],ne[Pe])<0?se.substr(0,Pe)+ne[Pe]+ne.substr(Pe+1):ae(se[Pe],ie[Pe])<0?se.substr(0,Pe)+ie[Pe]+ne.substr(Pe+1):0<=Ce?se.substr(0,Ce)+ee[Ce]+ne.substr(Ce+1):null;ae(se[Pe],dt)<0&&(Ce=Pe)}return je<ie.length&&me==="next"?se+ne.substr(se.length):je<se.length&&me==="prev"?se.substr(0,ne.length):Ce<0?null:se.substr(0,Ce)+ie[Ce]+ne.substr(Ce+1)}(I,L,w[H],S[H],v,C);te===null&&K===null?E=H+1:(K===null||0<v(K,te))&&(K=te)}return T(K!==null?function(){P.continue(K+R)}:M),!1}),s}function Kt(s,i,d,f){return{type:2,lower:s,upper:i,lowerOpen:d,upperOpen:f}}function ji(s){return{type:1,lower:s,upper:s}}var Ni=(Object.defineProperty(Ve.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ve.prototype.between=function(s,i,d,f){d=d!==!1,f=f===!0;try{return 0<this._cmp(s,i)||this._cmp(s,i)===0&&(d||f)&&(!d||!f)?Fr(this):new this.Collection(this,function(){return Kt(s,i,!d,!f)})}catch{return ut(this,At)}},Ve.prototype.equals=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return ji(s)})},Ve.prototype.above=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return Kt(s,void 0,!0)})},Ve.prototype.aboveOrEqual=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return Kt(s,void 0,!1)})},Ve.prototype.below=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return Kt(void 0,s,!1,!0)})},Ve.prototype.belowOrEqual=function(s){return s==null?ut(this,At):new this.Collection(this,function(){return Kt(void 0,s)})},Ve.prototype.startsWith=function(s){return typeof s!="string"?ut(this,fi):this.between(s,s+fr,!0,!0)},Ve.prototype.startsWithIgnoreCase=function(s){return s===""?this.startsWith(s):la(this,function(i,d){return i.indexOf(d[0])===0},[s],fr)},Ve.prototype.equalsIgnoreCase=function(s){return la(this,function(i,d){return i===d[0]},[s],"")},Ve.prototype.anyOfIgnoreCase=function(){var s=pe.apply(ue,arguments);return s.length===0?Fr(this):la(this,function(i,d){return d.indexOf(i)!==-1},s,"")},Ve.prototype.startsWithAnyOfIgnoreCase=function(){var s=pe.apply(ue,arguments);return s.length===0?Fr(this):la(this,function(i,d){return d.some(function(f){return i.indexOf(f)===0})},s,fr)},Ve.prototype.anyOf=function(){var s=this,i=pe.apply(ue,arguments),d=this._cmp;try{i.sort(d)}catch{return ut(this,At)}if(i.length===0)return Fr(this);var f=new this.Collection(this,function(){return Kt(i[0],i[i.length-1])});f._ondirectionchange=function(g){d=g==="next"?s._ascending:s._descending,i.sort(d)};var h=0;return f._addAlgorithm(function(g,v,w){for(var S=g.key;0<d(S,i[h]);)if(++h===i.length)return v(w),!1;return d(S,i[h])===0||(v(function(){g.continue(i[h])}),!1)}),f},Ve.prototype.notEqual=function(s){return this.inAnyRange([[-1/0,s],[s,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ve.prototype.noneOf=function(){var s=pe.apply(ue,arguments);if(s.length===0)return new this.Collection(this);try{s.sort(this._ascending)}catch{return ut(this,At)}var i=s.reduce(function(d,f){return d?d.concat([[d[d.length-1][1],f]]):[[-1/0,f]]},null);return i.push([s[s.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Ve.prototype.inAnyRange=function(I,i){var d=this,f=this._cmp,h=this._ascending,g=this._descending,v=this._min,w=this._max;if(I.length===0)return Fr(this);if(!I.every(function(L){return L[0]!==void 0&&L[1]!==void 0&&h(L[0],L[1])<=0}))return ut(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var S=!i||i.includeLowers!==!1,C=i&&i.includeUppers===!0,R,N=h;function D(L,K){return N(L[0],K[0])}try{(R=I.reduce(function(L,K){for(var H=0,te=L.length;H<te;++H){var se=L[H];if(f(K[0],se[1])<0&&0<f(K[1],se[0])){se[0]=v(se[0],K[0]),se[1]=w(se[1],K[1]);break}}return H===te&&L.push(K),L},[])).sort(D)}catch{return ut(this,At)}var E=0,P=C?function(L){return 0<h(L,R[E][1])}:function(L){return 0<=h(L,R[E][1])},T=S?function(L){return 0<g(L,R[E][0])}:function(L){return 0<=g(L,R[E][0])},M=P,I=new this.Collection(this,function(){return Kt(R[0][0],R[R.length-1][1],!S,!C)});return I._ondirectionchange=function(L){N=L==="next"?(M=P,h):(M=T,g),R.sort(D)},I._addAlgorithm(function(L,K,H){for(var te,se=L.key;M(se);)if(++E===R.length)return K(H),!1;return!P(te=se)&&!T(te)||(d._cmp(se,R[E][1])===0||d._cmp(se,R[E][0])===0||K(function(){N===h?L.continue(R[E][0]):L.continue(R[E][1])}),!1)}),I},Ve.prototype.startsWithAnyOf=function(){var s=pe.apply(ue,arguments);return s.every(function(i){return typeof i=="string"})?s.length===0?Fr(this):this.inAnyRange(s.map(function(i){return[i,i+fr]})):ut(this,"startsWithAnyOf() only works with strings")},Ve);function Ve(){}function Nt(s){return Be(function(i){return yn(i),s(i.target.error),!1})}function yn(s){s.stopPropagation&&s.stopPropagation(),s.preventDefault&&s.preventDefault()}var bn="storagemutated",ws="x-storagemutated-1",Ut=pn(null,bn),Rd=(St.prototype._lock=function(){return q(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},St.prototype._unlock=function(){if(q(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var s=this._blockedFuncs.shift();try{dr(s[1],s[0])}catch{}}return this},St.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},St.prototype.create=function(s){var i=this;if(!this.mode)return this;var d=this.db.idbdb,f=this.db._state.dbOpenError;if(q(!this.idbtrans),!s&&!d)switch(f&&f.name){case"DatabaseClosedError":throw new de.DatabaseClosed(f);case"MissingAPIError":throw new de.MissingAPI(f.message,f);default:throw new de.OpenFailed(f)}if(!this.active)throw new de.TransactionInactive;return q(this._completion._state===null),(s=this.idbtrans=s||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Be(function(h){yn(h),i._reject(s.error)}),s.onabort=Be(function(h){yn(h),i.active&&i._reject(new de.Abort(s.error)),i.active=!1,i.on("abort").fire(h)}),s.oncomplete=Be(function(){i.active=!1,i._resolve(),"mutatedParts"in s&&Ut.storagemutated.fire(s.mutatedParts)}),this},St.prototype._promise=function(s,i,d){var f=this;if(s==="readwrite"&&this.mode!=="readwrite")return Ue(new de.ReadOnly("Transaction is readonly"));if(!this.active)return Ue(new de.TransactionInactive);if(this._locked())return new le(function(g,v){f._blockedFuncs.push([function(){f._promise(s,i,d).then(g,v)},be])});if(d)return qt(function(){var g=new le(function(v,w){f._lock();var S=i(v,w,f);S&&S.then&&S.then(v,w)});return g.finally(function(){return f._unlock()}),g._lib=!0,g});var h=new le(function(g,v){var w=i(g,v,f);w&&w.then&&w.then(g,v)});return h._lib=!0,h},St.prototype._root=function(){return this.parent?this.parent._root():this},St.prototype.waitFor=function(s){var i,d=this._root(),f=le.resolve(s);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return f}):(d._waitingFor=f,d._waitingQueue=[],i=d.idbtrans.objectStore(d.storeNames[0]),function g(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(i.get(-1/0).onsuccess=g)}());var h=d._waitingFor;return new le(function(g,v){f.then(function(w){return d._waitingQueue.push(Be(g.bind(null,w)))},function(w){return d._waitingQueue.push(Be(v.bind(null,w)))}).finally(function(){d._waitingFor===h&&(d._waitingFor=null)})})},St.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},St.prototype.table=function(s){var i=this._memoizedTables||(this._memoizedTables={});if(x(i,s))return i[s];var d=this.schema[s];if(!d)throw new de.NotFound("Table "+s+" not part of transaction");return d=new this.db.Table(s,d,this),d.core=this.db.core.table(s),i[s]=d},St);function St(){}function ks(s,i,d,f,h,g,v,w){return{name:s,keyPath:i,unique:d,multi:f,auto:h,compound:g,src:(d&&!v?"&":"")+(f?"*":"")+(h?"++":"")+Si(i),type:w}}function Si(s){return typeof s=="string"?s:s?"["+[].join.call(s,"+")+"]":""}function js(s,i,d){return{name:s,primKey:i,indexes:d,mappedClass:null,idxByName:(f=function(h){return[h.name,h]},d.reduce(function(h,g,v){return v=f(g,v),v&&(h[v[0]]=v[1]),h},{}))};var f}var xn=function(s){try{return s.only([[]]),xn=function(){return[[]]},[[]]}catch{return xn=function(){return fr},fr}};function Ns(s){return s==null?function(){}:typeof s=="string"?(i=s).split(".").length===1?function(d){return d[i]}:function(d){return Y(d,i)}:function(d){return Y(d,s)};var i}function _i(s){return[].slice.call(s)}var Md=0;function vn(s){return s==null?":id":typeof s=="string"?s:"[".concat(s.join("+"),"]")}function Dd(s,i,S){function f(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=M.lower,P=M.upper,T=M.lowerOpen,M=M.upperOpen;return E===void 0?P===void 0?null:i.upperBound(P,!!M):P===void 0?i.lowerBound(E,!!T):i.bound(E,P,!!T,!!M)}function h(D){var E,P=D.name;return{name:P,schema:D,mutate:function(T){var M=T.trans,I=T.type,L=T.keys,K=T.values,H=T.range;return new Promise(function(te,se){te=Be(te);var ee=M.objectStore(P),ne=ee.keyPath==null,ie=I==="put"||I==="add";if(!ie&&I!=="delete"&&I!=="deleteRange")throw new Error("Invalid operation type: "+I);var ae,me=(L||K||{length:1}).length;if(L&&K&&L.length!==K.length)throw new Error("Given keys array must have same length as given values array.");if(me===0)return te({numFailures:0,failures:{},results:[],lastResult:void 0});function je(at){++dt,yn(at)}var Ce=[],Pe=[],dt=0;if(I==="deleteRange"){if(H.type===4)return te({numFailures:dt,failures:Pe,results:[],lastResult:void 0});H.type===3?Ce.push(ae=ee.clear()):Ce.push(ae=ee.delete(f(H)))}else{var ne=ie?ne?[K,L]:[K,null]:[L,null],ke=ne[0],Ze=ne[1];if(ie)for(var et=0;et<me;++et)Ce.push(ae=Ze&&Ze[et]!==void 0?ee[I](ke[et],Ze[et]):ee[I](ke[et])),ae.onerror=je;else for(et=0;et<me;++et)Ce.push(ae=ee[I](ke[et])),ae.onerror=je}function wa(at){at=at.target.result,Ce.forEach(function(gr,Ks){return gr.error!=null&&(Pe[Ks]=gr.error)}),te({numFailures:dt,failures:Pe,results:I==="delete"?L:Ce.map(function(gr){return gr.result}),lastResult:at})}ae.onerror=function(at){je(at),wa(at)},ae.onsuccess=wa})},getMany:function(T){var M=T.trans,I=T.keys;return new Promise(function(L,K){L=Be(L);for(var H,te=M.objectStore(P),se=I.length,ee=new Array(se),ne=0,ie=0,ae=function(Ce){Ce=Ce.target,ee[Ce._pos]=Ce.result,++ie===ne&&L(ee)},me=Nt(K),je=0;je<se;++je)I[je]!=null&&((H=te.get(I[je]))._pos=je,H.onsuccess=ae,H.onerror=me,++ne);ne===0&&L(ee)})},get:function(T){var M=T.trans,I=T.key;return new Promise(function(L,K){L=Be(L);var H=M.objectStore(P).get(I);H.onsuccess=function(te){return L(te.target.result)},H.onerror=Nt(K)})},query:(E=C,function(T){return new Promise(function(M,I){M=Be(M);var L,K,H,ne=T.trans,te=T.values,se=T.limit,ae=T.query,ee=se===1/0?void 0:se,ie=ae.index,ae=ae.range,ne=ne.objectStore(P),ie=ie.isPrimaryKey?ne:ne.index(ie.name),ae=f(ae);if(se===0)return M({result:[]});E?((ee=te?ie.getAll(ae,ee):ie.getAllKeys(ae,ee)).onsuccess=function(me){return M({result:me.target.result})},ee.onerror=Nt(I)):(L=0,K=!te&&"openKeyCursor"in ie?ie.openKeyCursor(ae):ie.openCursor(ae),H=[],K.onsuccess=function(me){var je=K.result;return je?(H.push(te?je.value:je.primaryKey),++L===se?M({result:H}):void je.continue()):M({result:H})},K.onerror=Nt(I))})}),openCursor:function(T){var M=T.trans,I=T.values,L=T.query,K=T.reverse,H=T.unique;return new Promise(function(te,se){te=Be(te);var ie=L.index,ee=L.range,ne=M.objectStore(P),ne=ie.isPrimaryKey?ne:ne.index(ie.name),ie=K?H?"prevunique":"prev":H?"nextunique":"next",ae=!I&&"openKeyCursor"in ne?ne.openKeyCursor(f(ee),ie):ne.openCursor(f(ee),ie);ae.onerror=Nt(se),ae.onsuccess=Be(function(me){var je,Ce,Pe,dt,ke=ae.result;ke?(ke.___id=++Md,ke.done=!1,je=ke.continue.bind(ke),Ce=(Ce=ke.continuePrimaryKey)&&Ce.bind(ke),Pe=ke.advance.bind(ke),dt=function(){throw new Error("Cursor not stopped")},ke.trans=M,ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=function(){throw new Error("Cursor not started")},ke.fail=Be(se),ke.next=function(){var Ze=this,et=1;return this.start(function(){return et--?Ze.continue():Ze.stop()}).then(function(){return Ze})},ke.start=function(Ze){function et(){if(ae.result)try{Ze()}catch(at){ke.fail(at)}else ke.done=!0,ke.start=function(){throw new Error("Cursor behind last entry")},ke.stop()}var wa=new Promise(function(at,gr){at=Be(at),ae.onerror=Nt(gr),ke.fail=gr,ke.stop=function(Ks){ke.stop=ke.continue=ke.continuePrimaryKey=ke.advance=dt,at(Ks)}});return ae.onsuccess=Be(function(at){ae.onsuccess=et,et()}),ke.continue=je,ke.continuePrimaryKey=Ce,ke.advance=Pe,et(),wa},te(ke)):te(null)},se)})},count:function(T){var M=T.query,I=T.trans,L=M.index,K=M.range;return new Promise(function(H,te){var se=I.objectStore(P),ee=L.isPrimaryKey?se:se.index(L.name),se=f(K),ee=se?ee.count(se):ee.count();ee.onsuccess=Be(function(ne){return H(ne.target.result)}),ee.onerror=Nt(te)})}}}var g,v,w,R=(v=S,w=_i((g=s).objectStoreNames),{schema:{name:g.name,tables:w.map(function(D){return v.objectStore(D)}).map(function(D){var E=D.keyPath,M=D.autoIncrement,P=u(E),T={},M={name:D.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:P,keyPath:E,autoIncrement:M,unique:!0,extractKey:Ns(E)},indexes:_i(D.indexNames).map(function(I){return D.index(I)}).map(function(H){var L=H.name,K=H.unique,te=H.multiEntry,H=H.keyPath,te={name:L,compound:u(H),keyPath:H,unique:K,multiEntry:te,extractKey:Ns(H)};return T[vn(H)]=te}),getIndexByKeyPath:function(I){return T[vn(I)]}};return T[":id"]=M.primaryKey,E!=null&&(T[vn(E)]=M.primaryKey),M})},hasGetAll:0<w.length&&"getAll"in v.objectStore(w[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),S=R.schema,C=R.hasGetAll,R=S.tables.map(h),N={};return R.forEach(function(D){return N[D.name]=D}),{stack:"dbcore",transaction:s.transaction.bind(s),table:function(D){if(!N[D])throw new Error("Table '".concat(D,"' not found"));return N[D]},MIN_KEY:-1/0,MAX_KEY:xn(i),schema:S}}function Id(s,i,d,f){var h=d.IDBKeyRange;return d.indexedDB,{dbcore:(f=Dd(i,h,f),s.dbcore.reduce(function(g,v){return v=v.create,n(n({},g),v(g))},f))}}function ua(s,f){var d=f.db,f=Id(s._middlewares,d,s._deps,f);s.core=f.dbcore,s.tables.forEach(function(h){var g=h.name;s.core.schema.tables.some(function(v){return v.name===g})&&(h.core=s.core.table(g),s[g]instanceof s.Table&&(s[g].core=h.core))})}function da(s,i,d,f){d.forEach(function(h){var g=f[h];i.forEach(function(v){var w=function S(C,R){return O(C,R)||(C=m(C))&&S(C,R)}(v,h);(!w||"value"in w&&w.value===void 0)&&(v===s.Transaction.prototype||v instanceof s.Transaction?k(v,h,{get:function(){return this.table(h)},set:function(S){A(this,h,{value:S,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new s.Table(h,g))})})}function Ss(s,i){i.forEach(function(d){for(var f in d)d[f]instanceof s.Table&&delete d[f]})}function Fd(s,i){return s._cfg.version-i._cfg.version}function Ld(s,i,d,f){var h=s._dbSchema;d.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=js("$meta",Ei("")[0],[]),s._storeNames.push("$meta"));var g=s._createTransaction("readwrite",s._storeNames,h);g.create(d),g._completion.catch(f);var v=g._reject.bind(g),w=be.transless||be;qt(function(){return be.trans=g,be.transless=w,i!==0?(ua(s,d),C=i,((S=g).storeNames.includes("$meta")?S.table("$meta").get("version").then(function(R){return R??C}):le.resolve(C)).then(function(R){return D=R,E=g,P=d,T=[],R=(N=s)._versions,M=N._dbSchema=ha(0,N.idbdb,P),(R=R.filter(function(I){return I._cfg.version>=D})).length!==0?(R.forEach(function(I){T.push(function(){var L=M,K=I._cfg.dbschema;ma(N,L,P),ma(N,K,P),M=N._dbSchema=K;var H=_s(L,K);H.add.forEach(function(ie){Cs(P,ie[0],ie[1].primKey,ie[1].indexes)}),H.change.forEach(function(ie){if(ie.recreate)throw new de.Upgrade("Not yet support for changing primary key");var ae=P.objectStore(ie.name);ie.add.forEach(function(me){return fa(ae,me)}),ie.change.forEach(function(me){ae.deleteIndex(me.name),fa(ae,me)}),ie.del.forEach(function(me){return ae.deleteIndex(me)})});var te=I._cfg.contentUpgrade;if(te&&I._cfg.version>D){ua(N,P),E._memoizedTables={};var se=ge(K);H.del.forEach(function(ie){se[ie]=L[ie]}),Ss(N,[N.Transaction.prototype]),da(N,[N.Transaction.prototype],l(se),se),E.schema=se;var ee,ne=Ee(te);return ne&&Mr(),H=le.follow(function(){var ie;(ee=te(E))&&ne&&(ie=$t.bind(null,null),ee.then(ie,ie))}),ee&&typeof ee.then=="function"?le.resolve(ee):H.then(function(){return ee})}}),T.push(function(L){var K,H,te=I._cfg.dbschema;K=te,H=L,[].slice.call(H.db.objectStoreNames).forEach(function(se){return K[se]==null&&H.db.deleteObjectStore(se)}),Ss(N,[N.Transaction.prototype]),da(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),E.schema=N._dbSchema}),T.push(function(L){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===I._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(K){return K!=="$meta"})):L.objectStore("$meta").put(I._cfg.version,"version"))})}),function I(){return T.length?le.resolve(T.shift()(E.idbtrans)).then(I):le.resolve()}().then(function(){Ci(M,P)})):le.resolve();var N,D,E,P,T,M}).catch(v)):(l(h).forEach(function(R){Cs(d,R,h[R].primKey,h[R].indexes)}),ua(s,d),void le.follow(function(){return s.on.populate.fire(g)}).catch(v));var S,C})}function qd(s,i){Ci(s._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var d=ha(0,s.idbdb,i);ma(s,s._dbSchema,i);for(var f=0,h=_s(d,s._dbSchema).change;f<h.length;f++){var g=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var w=i.objectStore(v.name);v.add.forEach(function(S){jt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(S.src)),fa(w,S)})}(h[f]);if(typeof g=="object")return g.value}}function _s(s,i){var d,f={del:[],add:[],change:[]};for(d in s)i[d]||f.del.push(d);for(d in i){var h=s[d],g=i[d];if(h){var v={name:d,def:g,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(g.primKey.keyPath||"")||h.primKey.auto!==g.primKey.auto)v.recreate=!0,f.change.push(v);else{var w=h.idxByName,S=g.idxByName,C=void 0;for(C in w)S[C]||v.del.push(C);for(C in S){var R=w[C],N=S[C];R?R.src!==N.src&&v.change.push(N):v.add.push(N)}(0<v.del.length||0<v.add.length||0<v.change.length)&&f.change.push(v)}}else f.add.push([d,g])}return f}function Cs(s,i,d,f){var h=s.db.createObjectStore(i,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return f.forEach(function(g){return fa(h,g)}),h}function Ci(s,i){l(s).forEach(function(d){i.db.objectStoreNames.contains(d)||(jt&&console.debug("Dexie: Creating missing table",d),Cs(i,d,s[d].primKey,s[d].indexes))})}function fa(s,i){s.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function ha(s,i,d){var f={};return W(i.objectStoreNames,0).forEach(function(h){for(var g=d.objectStore(h),v=ks(Si(C=g.keyPath),C||"",!0,!1,!!g.autoIncrement,C&&typeof C!="string",!0),w=[],S=0;S<g.indexNames.length;++S){var R=g.index(g.indexNames[S]),C=R.keyPath,R=ks(R.name,C,!!R.unique,!!R.multiEntry,!1,C&&typeof C!="string",!1);w.push(R)}f[h]=js(h,v,w)}),f}function ma(s,i,d){for(var f=d.db.objectStoreNames,h=0;h<f.length;++h){var g=f[h],v=d.objectStore(g);s._hasGetAll="getAll"in v;for(var w=0;w<v.indexNames.length;++w){var S=v.indexNames[w],C=v.index(S).keyPath,R=typeof C=="string"?C:"["+W(C).join("+")+"]";!i[g]||(C=i[g].idxByName[R])&&(C.name=S,delete i[g].idxByName[R],i[g].idxByName[S]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(s._hasGetAll=!1)}function Ei(s){return s.split(",").map(function(i,d){var g=i.split(":"),f=(h=g[1])===null||h===void 0?void 0:h.trim(),h=(i=g[0].trim()).replace(/([&*]|\+\+)/g,""),g=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return ks(h,g||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),u(g),d===0,f)})}var $d=(Lr.prototype._createTableSchema=js,Lr.prototype._parseIndexSyntax=Ei,Lr.prototype._parseStoresSpec=function(s,i){var d=this;l(s).forEach(function(f){if(s[f]!==null){var h=d._parseIndexSyntax(s[f]),g=h.shift();if(!g)throw new de.Schema("Invalid schema for table "+f+": "+s[f]);if(g.unique=!0,g.multi)throw new de.Schema("Primary key cannot be multiEntry*");h.forEach(function(v){if(v.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),h=d._createTableSchema(f,g,h),i[f]=h}})},Lr.prototype.stores=function(d){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,d):d;var d=i._versions,f={},h={};return d.forEach(function(g){p(f,g._cfg.storesSource),h=g._cfg.dbschema={},g._parseStoresSpec(f,h)}),i._dbSchema=h,Ss(i,[i._allTables,i,i.Transaction.prototype]),da(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],l(h),h),i._storeNames=l(h),this},Lr.prototype.upgrade=function(s){return this._cfg.contentUpgrade=cs(this._cfg.contentUpgrade||Fe,s),this},Lr);function Lr(){}function Es(s,i){var d=s._dbNamesDB;return d||(d=s._dbNamesDB=new Ot(aa,{addons:[],indexedDB:s,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function Ps(s){return s&&typeof s.databases=="function"}function Ts(s){return qt(function(){return be.letThrough=!0,s()})}function As(s){return!("from"in s)}var Je=function(s,i){if(!this){var d=new Je;return s&&"d"in s&&p(d,s),d}p(this,arguments.length?{d:1,from:s,to:1<arguments.length?i:s}:{d:0})};function wn(s,i,d){var f=Re(i,d);if(!isNaN(f)){if(0<f)throw RangeError();if(As(s))return p(s,{from:i,to:d,d:1});var h=s.l,f=s.r;if(Re(d,s.from)<0)return h?wn(h,i,d):s.l={from:i,to:d,d:1,l:null,r:null},Ti(s);if(0<Re(i,s.to))return f?wn(f,i,d):s.r={from:i,to:d,d:1,l:null,r:null},Ti(s);Re(i,s.from)<0&&(s.from=i,s.l=null,s.d=f?f.d+1:1),0<Re(d,s.to)&&(s.to=d,s.r=null,s.d=s.l?s.l.d+1:1),d=!s.r,h&&!s.l&&kn(s,h),f&&d&&kn(s,f)}}function kn(s,i){As(i)||function d(f,S){var g=S.from,v=S.to,w=S.l,S=S.r;wn(f,g,v),w&&d(f,w),S&&d(f,S)}(s,i)}function Pi(s,i){var d=pa(i),f=d.next();if(f.done)return!1;for(var h=f.value,g=pa(s),v=g.next(h.from),w=v.value;!f.done&&!v.done;){if(Re(w.from,h.to)<=0&&0<=Re(w.to,h.from))return!0;Re(h.from,w.from)<0?h=(f=d.next(w.from)).value:w=(v=g.next(h.from)).value}return!1}function pa(s){var i=As(s)?null:{s:0,n:s};return{next:function(d){for(var f=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,f)for(;i.n.l&&Re(d,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!f||Re(d,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Ti(s){var i,d,f=(((i=s.r)===null||i===void 0?void 0:i.d)||0)-(((d=s.l)===null||d===void 0?void 0:d.d)||0),h=1<f?"r":f<-1?"l":"";h&&(i=h=="r"?"l":"r",d=n({},s),f=s[h],s.from=f.from,s.to=f.to,s[h]=f[h],d[h]=f[i],(s[i]=d).d=Ai(d)),s.d=Ai(s)}function Ai(d){var i=d.r,d=d.l;return(i?d?Math.max(i.d,d.d):i.d:d?d.d:0)+1}function ga(s,i){return l(i).forEach(function(d){s[d]?kn(s[d],i[d]):s[d]=function f(h){var g,v,w={};for(g in h)x(h,g)&&(v=h[g],w[g]=!v||typeof v!="object"||fe.has(v.constructor)?v:f(v));return w}(i[d])}),s}function Os(s,i){return s.all||i.all||Object.keys(s).some(function(d){return i[d]&&Pi(i[d],s[d])})}_(Je.prototype,((gt={add:function(s){return kn(this,s),this},addKey:function(s){return wn(this,s,s),this},addKeys:function(s){var i=this;return s.forEach(function(d){return wn(i,d,d)}),this},hasKey:function(s){var i=pa(this).next(s).value;return i&&Re(i.from,s)<=0&&0<=Re(i.to,s)}})[z]=function(){return pa(this)},gt));var mr={},Rs={},Ms=!1;function ya(s){ga(Rs,s),Ms||(Ms=!0,setTimeout(function(){Ms=!1,Ds(Rs,!(Rs={}))},0))}function Ds(s,i){i===void 0&&(i=!1);var d=new Set;if(s.all)for(var f=0,h=Object.values(mr);f<h.length;f++)Oi(v=h[f],s,d,i);else for(var g in s){var v,w=/^idb\:\/\/(.*)\/(.*)\//.exec(g);w&&(g=w[1],w=w[2],(v=mr["idb://".concat(g,"/").concat(w)])&&Oi(v,s,d,i))}d.forEach(function(S){return S()})}function Oi(s,i,d,f){for(var h=[],g=0,v=Object.entries(s.queries.query);g<v.length;g++){for(var w=v[g],S=w[0],C=[],R=0,N=w[1];R<N.length;R++){var D=N[R];Os(i,D.obsSet)?D.subscribers.forEach(function(M){return d.add(M)}):f&&C.push(D)}f&&h.push([S,C])}if(f)for(var E=0,P=h;E<P.length;E++){var T=P[E],S=T[0],C=T[1];s.queries.query[S]=C}}function Bd(s){var i=s._state,d=s._deps.indexedDB;if(i.isBeingOpened||s.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?Ue(i.dbOpenError):s});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var f=i.openCanceller,h=Math.round(10*s.verno),g=!1;function v(){if(i.openCanceller!==f)throw new de.DatabaseClosed("db.open() was cancelled")}function w(){return new le(function(D,E){if(v(),!d)throw new de.MissingAPI;var P=s.name,T=i.autoSchema||!h?d.open(P):d.open(P,h);if(!T)throw new de.MissingAPI;T.onerror=Nt(E),T.onblocked=Be(s._fireOnBlocked),T.onupgradeneeded=Be(function(M){var I;R=T.transaction,i.autoSchema&&!s._options.allowEmptyDB?(T.onerror=yn,R.abort(),T.result.close(),(I=d.deleteDatabase(P)).onsuccess=I.onerror=Be(function(){E(new de.NoSuchDatabase("Database ".concat(P," doesnt exist")))})):(R.onerror=Nt(E),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,N=M<1,s.idbdb=T.result,g&&qd(s,R),Ld(s,M/10,R,E))},E),T.onsuccess=Be(function(){R=null;var M,I,L,K,H,te=s.idbdb=T.result,se=W(te.objectStoreNames);if(0<se.length)try{var ee=te.transaction((K=se).length===1?K[0]:K,"readonly");if(i.autoSchema)I=te,L=ee,(M=s).verno=I.version/10,L=M._dbSchema=ha(0,I,L),M._storeNames=W(I.objectStoreNames,0),da(M,[M._allTables],l(L),L);else if(ma(s,s._dbSchema,ee),((H=_s(ha(0,(H=s).idbdb,ee),H._dbSchema)).add.length||H.change.some(function(ne){return ne.add.length||ne.change.length}))&&!g)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),te.close(),h=te.version+1,g=!0,D(w());ua(s,ee)}catch{}Dr.push(s),te.onversionchange=Be(function(ne){i.vcFired=!0,s.on("versionchange").fire(ne)}),te.onclose=Be(function(){s.close({disableAutoOpen:!1})}),N&&(H=s._deps,ee=P,te=H.indexedDB,H=H.IDBKeyRange,Ps(te)||ee===aa||Es(te,H).put({name:ee}).catch(Fe)),D()},E)}).catch(function(D){switch(D==null?void 0:D.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),w();break;case"VersionError":if(0<h)return h=0,w()}return le.reject(D)})}var S,C=i.dbReadyResolve,R=null,N=!1;return le.race([f,(typeof navigator>"u"?le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(D){function E(){return indexedDB.databases().finally(D)}S=setInterval(E,100),E()}).finally(function(){return clearInterval(S)}):Promise.resolve()).then(w)]).then(function(){return v(),i.onReadyBeingFired=[],le.resolve(Ts(function(){return s.on.ready.fire(s.vip)})).then(function D(){if(0<i.onReadyBeingFired.length){var E=i.onReadyBeingFired.reduce(cs,Fe);return i.onReadyBeingFired=[],le.resolve(Ts(function(){return E(s.vip)})).then(D)}})}).finally(function(){i.openCanceller===f&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(D){i.dbOpenError=D;try{R&&R.abort()}catch{}return f===i.openCanceller&&s._close(),Ue(D)}).finally(function(){i.openComplete=!0,C()}).then(function(){var D;return N&&(D={},s.tables.forEach(function(E){E.schema.indexes.forEach(function(P){P.name&&(D["idb://".concat(s.name,"/").concat(E.name,"/").concat(P.name)]=new Je(-1/0,[[[]]]))}),D["idb://".concat(s.name,"/").concat(E.name,"/")]=D["idb://".concat(s.name,"/").concat(E.name,"/:dels")]=new Je(-1/0,[[[]]])}),Ut(bn).fire(D),Ds(D,!0)),s})}function Is(s){function i(g){return s.next(g)}var d=h(i),f=h(function(g){return s.throw(g)});function h(g){return function(S){var w=g(S),S=w.value;return w.done?S:S&&typeof S.then=="function"?S.then(d,f):u(S)?Promise.all(S).then(d,f):d(S)}}return h(i)()}function ba(s,i,d){for(var f=u(s)?s.slice():[s],h=0;h<d;++h)f.push(i);return f}var Kd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(s){return n(n({},s),{table:function(i){var d=s.table(i),f=d.schema,h={},g=[];function v(N,D,E){var P=vn(N),T=h[P]=h[P]||[],M=N==null?0:typeof N=="string"?1:N.length,I=0<D,I=n(n({},E),{name:I?"".concat(P,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:I,keyTail:D,keyLength:M,extractKey:Ns(N),unique:!I&&E.unique});return T.push(I),I.isPrimaryKey||g.push(I),1<M&&v(M===2?N[0]:N.slice(0,M-1),D+1,E),T.sort(function(L,K){return L.keyTail-K.keyTail}),I}i=v(f.primaryKey.keyPath,0,f.primaryKey),h[":id"]=[i];for(var w=0,S=f.indexes;w<S.length;w++){var C=S[w];v(C.keyPath,0,C)}function R(N){var D,E=N.query.index;return E.isVirtual?n(n({},N),{query:{index:E.lowLevelIndex,range:(D=N.query.range,E=E.keyTail,{type:D.type===1?2:D.type,lower:ba(D.lower,D.lowerOpen?s.MAX_KEY:s.MIN_KEY,E),lowerOpen:!0,upper:ba(D.upper,D.upperOpen?s.MIN_KEY:s.MAX_KEY,E),upperOpen:!0})}}):N}return n(n({},d),{schema:n(n({},f),{primaryKey:i,indexes:g,getIndexByKeyPath:function(N){return(N=h[vn(N)])&&N[0]}}),count:function(N){return d.count(R(N))},query:function(N){return d.query(R(N))},openCursor:function(N){var D=N.query.index,E=D.keyTail,P=D.isVirtual,T=D.keyLength;return P?d.openCursor(R(N)).then(function(I){return I&&M(I)}):d.openCursor(N);function M(I){return Object.create(I,{continue:{value:function(L){L!=null?I.continue(ba(L,N.reverse?s.MAX_KEY:s.MIN_KEY,E)):N.unique?I.continue(I.key.slice(0,T).concat(N.reverse?s.MIN_KEY:s.MAX_KEY,E)):I.continue()}},continuePrimaryKey:{value:function(L,K){I.continuePrimaryKey(ba(L,s.MAX_KEY,E),K)}},primaryKey:{get:function(){return I.primaryKey}},key:{get:function(){var L=I.key;return T===1?L[0]:L.slice(0,T)}},value:{get:function(){return I.value}}})}}})}})}};function Fs(s,i,d,f){return d=d||{},f=f||"",l(s).forEach(function(h){var g,v,w;x(i,h)?(g=s[h],v=i[h],typeof g=="object"&&typeof v=="object"&&g&&v?(w=F(g))!==F(v)?d[f+h]=i[h]:w==="Object"?Fs(g,v,d,f+h+"."):g!==v&&(d[f+h]=i[h]):g!==v&&(d[f+h]=i[h])):d[f+h]=void 0}),l(i).forEach(function(h){x(s,h)||(d[f+h]=i[h])}),d}function Ls(s,i){return i.type==="delete"?i.keys:i.keys||i.values.map(s.extractKey)}var Ud={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(s){return n(n({},s),{table:function(i){var d=s.table(i),f=d.schema.primaryKey;return n(n({},d),{mutate:function(h){var g=be.trans,v=g.table(i).hook,w=v.deleting,S=v.creating,C=v.updating;switch(h.type){case"add":if(S.fire===Fe)break;return g._promise("readwrite",function(){return R(h)},!0);case"put":if(S.fire===Fe&&C.fire===Fe)break;return g._promise("readwrite",function(){return R(h)},!0);case"delete":if(w.fire===Fe)break;return g._promise("readwrite",function(){return R(h)},!0);case"deleteRange":if(w.fire===Fe)break;return g._promise("readwrite",function(){return function N(D,E,P){return d.query({trans:D,values:!1,query:{index:f,range:E},limit:P}).then(function(T){var M=T.result;return R({type:"delete",keys:M,trans:D}).then(function(I){return 0<I.numFailures?Promise.reject(I.failures[0]):M.length<P?{failures:[],numFailures:0,lastResult:void 0}:N(D,n(n({},E),{lower:M[M.length-1],lowerOpen:!0}),P)})})}(h.trans,h.range,1e4)},!0)}return d.mutate(h);function R(N){var D,E,P,T=be.trans,M=N.keys||Ls(f,N);if(!M)throw new Error("Keys missing");return(N=N.type==="add"||N.type==="put"?n(n({},N),{keys:M}):n({},N)).type!=="delete"&&(N.values=o([],N.values)),N.keys&&(N.keys=o([],N.keys)),D=d,P=M,((E=N).type==="add"?Promise.resolve([]):D.getMany({trans:E.trans,keys:P,cache:"immutable"})).then(function(I){var L=M.map(function(K,H){var te,se,ee,ne=I[H],ie={onerror:null,onsuccess:null};return N.type==="delete"?w.fire.call(ie,K,ne,T):N.type==="add"||ne===void 0?(te=S.fire.call(ie,K,N.values[H],T),K==null&&te!=null&&(N.keys[H]=K=te,f.outbound||Q(N.values[H],f.keyPath,K))):(te=Fs(ne,N.values[H]),(se=C.fire.call(ie,te,K,ne,T))&&(ee=N.values[H],Object.keys(se).forEach(function(ae){x(ee,ae)?ee[ae]=se[ae]:Q(ee,ae,se[ae])}))),ie});return d.mutate(N).then(function(K){for(var H=K.failures,te=K.results,se=K.numFailures,K=K.lastResult,ee=0;ee<M.length;++ee){var ne=(te||M)[ee],ie=L[ee];ne==null?ie.onerror&&ie.onerror(H[ee]):ie.onsuccess&&ie.onsuccess(N.type==="put"&&I[ee]?N.values[ee]:ne)}return{failures:H,results:te,numFailures:se,lastResult:K}}).catch(function(K){return L.forEach(function(H){return H.onerror&&H.onerror(K)}),Promise.reject(K)})})}}})}})}};function Ri(s,i,d){try{if(!i||i.keys.length<s.length)return null;for(var f=[],h=0,g=0;h<i.keys.length&&g<s.length;++h)Re(i.keys[h],s[g])===0&&(f.push(d?Oe(i.values[h]):i.values[h]),++g);return f.length===s.length?f:null}catch{return null}}var Wd={stack:"dbcore",level:-1,create:function(s){return{table:function(i){var d=s.table(i);return n(n({},d),{getMany:function(f){if(!f.cache)return d.getMany(f);var h=Ri(f.keys,f.trans._cache,f.cache==="clone");return h?le.resolve(h):d.getMany(f).then(function(g){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?Oe(g):g},g})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),d.mutate(f)}})}}}};function Mi(s,i){return s.trans.mode==="readonly"&&!!s.subscr&&!s.trans.explicit&&s.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function Di(s,i){switch(s){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var zd={stack:"dbcore",level:0,name:"Observability",create:function(s){var i=s.schema.name,d=new Je(s.MIN_KEY,s.MAX_KEY);return n(n({},s),{transaction:function(f,h,g){if(be.subscr&&h!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return s.transaction(f,h,g)},table:function(f){var h=s.table(f),g=h.schema,v=g.primaryKey,N=g.indexes,w=v.extractKey,S=v.outbound,C=v.autoIncrement&&N.filter(function(E){return E.compound&&E.keyPath.includes(v.keyPath)}),R=n(n({},h),{mutate:function(E){function P(ae){return ae="idb://".concat(i,"/").concat(f,"/").concat(ae),K[ae]||(K[ae]=new Je)}var T,M,I,L=E.trans,K=E.mutatedParts||(E.mutatedParts={}),H=P(""),te=P(":dels"),se=E.type,ie=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[Ls(v,E).filter(function(ae){return ae}),E.values]:[],ee=ie[0],ne=ie[1],ie=E.trans._cache;return u(ee)?(H.addKeys(ee),(ie=se==="delete"||ee.length===ne.length?Ri(ee,ie):null)||te.addKeys(ee),(ie||ne)&&(T=P,M=ie,I=ne,g.indexes.forEach(function(ae){var me=T(ae.name||"");function je(Pe){return Pe!=null?ae.extractKey(Pe):null}function Ce(Pe){return ae.multiEntry&&u(Pe)?Pe.forEach(function(dt){return me.addKey(dt)}):me.addKey(Pe)}(M||I).forEach(function(Pe,Ze){var ke=M&&je(M[Ze]),Ze=I&&je(I[Ze]);Re(ke,Ze)!==0&&(ke!=null&&Ce(ke),Ze!=null&&Ce(Ze))})}))):ee?(ne={from:(ne=ee.lower)!==null&&ne!==void 0?ne:s.MIN_KEY,to:(ne=ee.upper)!==null&&ne!==void 0?ne:s.MAX_KEY},te.add(ne),H.add(ne)):(H.add(d),te.add(d),g.indexes.forEach(function(ae){return P(ae.name).add(d)})),h.mutate(E).then(function(ae){return!ee||E.type!=="add"&&E.type!=="put"||(H.addKeys(ae.results),C&&C.forEach(function(me){for(var je=E.values.map(function(ke){return me.extractKey(ke)}),Ce=me.keyPath.findIndex(function(ke){return ke===v.keyPath}),Pe=0,dt=ae.results.length;Pe<dt;++Pe)je[Pe][Ce]=ae.results[Pe];P(me.name).addKeys(je)})),L.mutatedParts=ga(L.mutatedParts||{},K),ae})}}),N=function(P){var T=P.query,P=T.index,T=T.range;return[P,new Je((P=T.lower)!==null&&P!==void 0?P:s.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:s.MAX_KEY)]},D={get:function(E){return[v,new Je(E.key)]},getMany:function(E){return[v,new Je().addKeys(E.keys)]},count:N,query:N,openCursor:N};return l(D).forEach(function(E){R[E]=function(P){var T=be.subscr,M=!!T,I=Mi(be,h)&&Di(E,P)?P.obsSet={}:T;if(M){var L=function(ne){return ne="idb://".concat(i,"/").concat(f,"/").concat(ne),I[ne]||(I[ne]=new Je)},K=L(""),H=L(":dels"),T=D[E](P),M=T[0],T=T[1];if((E==="query"&&M.isPrimaryKey&&!P.values?H:L(M.name||"")).add(T),!M.isPrimaryKey){if(E!=="count"){var te=E==="query"&&S&&P.values&&h.query(n(n({},P),{values:!1}));return h[E].apply(this,arguments).then(function(ne){if(E==="query"){if(S&&P.values)return te.then(function(je){return je=je.result,K.addKeys(je),ne});var ie=P.values?ne.result.map(w):ne.result;(P.values?K:H).addKeys(ie)}else if(E==="openCursor"){var ae=ne,me=P.values;return ae&&Object.create(ae,{key:{get:function(){return H.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var je=ae.primaryKey;return H.addKey(je),je}},value:{get:function(){return me&&K.addKey(ae.primaryKey),ae.value}}})}return ne})}H.add(d)}}return h[E].apply(this,arguments)}}),R}})}};function Ii(s,i,d){if(d.numFailures===0)return i;if(i.type==="deleteRange")return null;var f=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return d.numFailures===f?null:(i=n({},i),u(i.keys)&&(i.keys=i.keys.filter(function(h,g){return!(g in d.failures)})),"values"in i&&u(i.values)&&(i.values=i.values.filter(function(h,g){return!(g in d.failures)})),i)}function qs(s,i){return d=s,((f=i).lower===void 0||(f.lowerOpen?0<Re(d,f.lower):0<=Re(d,f.lower)))&&(s=s,(i=i).upper===void 0||(i.upperOpen?Re(s,i.upper)<0:Re(s,i.upper)<=0));var d,f}function Fi(s,i,D,f,h,g){if(!D||D.length===0)return s;var v=i.query.index,w=v.multiEntry,S=i.query.range,C=f.schema.primaryKey.extractKey,R=v.extractKey,N=(v.lowLevelIndex||v).extractKey,D=D.reduce(function(E,P){var T=E,M=[];if(P.type==="add"||P.type==="put")for(var I=new Je,L=P.values.length-1;0<=L;--L){var K,H=P.values[L],te=C(H);I.hasKey(te)||(K=R(H),(w&&u(K)?K.some(function(ae){return qs(ae,S)}):qs(K,S))&&(I.addKey(te),M.push(H)))}switch(P.type){case"add":var se=new Je().addKeys(i.values?E.map(function(me){return C(me)}):E),T=E.concat(i.values?M.filter(function(me){return me=C(me),!se.hasKey(me)&&(se.addKey(me),!0)}):M.map(function(me){return C(me)}).filter(function(me){return!se.hasKey(me)&&(se.addKey(me),!0)}));break;case"put":var ee=new Je().addKeys(P.values.map(function(me){return C(me)}));T=E.filter(function(me){return!ee.hasKey(i.values?C(me):me)}).concat(i.values?M:M.map(function(me){return C(me)}));break;case"delete":var ne=new Je().addKeys(P.keys);T=E.filter(function(me){return!ne.hasKey(i.values?C(me):me)});break;case"deleteRange":var ie=P.range;T=E.filter(function(me){return!qs(C(me),ie)})}return T},s);return D===s?s:(D.sort(function(E,P){return Re(N(E),N(P))||Re(C(E),C(P))}),i.limit&&i.limit<1/0&&(D.length>i.limit?D.length=i.limit:s.length===i.limit&&D.length<i.limit&&(h.dirty=!0)),g?Object.freeze(D):D)}function Li(s,i){return Re(s.lower,i.lower)===0&&Re(s.upper,i.upper)===0&&!!s.lowerOpen==!!i.lowerOpen&&!!s.upperOpen==!!i.upperOpen}function Hd(s,i){return function(d,f,h,g){if(d===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=Re(d,f))===0){if(h&&g)return 0;if(h)return 1;if(g)return-1}return f}(s.lower,i.lower,s.lowerOpen,i.lowerOpen)<=0&&0<=function(d,f,h,g){if(d===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=Re(d,f))===0){if(h&&g)return 0;if(h)return-1;if(g)return 1}return f}(s.upper,i.upper,s.upperOpen,i.upperOpen)}function Vd(s,i,d,f){s.subscribers.add(d),f.addEventListener("abort",function(){var h,g;s.subscribers.delete(d),s.subscribers.size===0&&(h=s,g=i,setTimeout(function(){h.subscribers.size===0&&G(g,h)},3e3))})}var Yd={stack:"dbcore",level:0,name:"Cache",create:function(s){var i=s.schema.name;return n(n({},s),{transaction:function(d,f,h){var g,v,w=s.transaction(d,f,h);return f==="readwrite"&&(v=(g=new AbortController).signal,h=function(S){return function(){if(g.abort(),f==="readwrite"){for(var C=new Set,R=0,N=d;R<N.length;R++){var D=N[R],E=mr["idb://".concat(i,"/").concat(D)];if(E){var P=s.table(D),T=E.optimisticOps.filter(function(me){return me.trans===w});if(w._explicit&&S&&w.mutatedParts)for(var M=0,I=Object.values(E.queries.query);M<I.length;M++)for(var L=0,K=(se=I[M]).slice();L<K.length;L++)Os((ee=K[L]).obsSet,w.mutatedParts)&&(G(se,ee),ee.subscribers.forEach(function(me){return C.add(me)}));else if(0<T.length){E.optimisticOps=E.optimisticOps.filter(function(me){return me.trans!==w});for(var H=0,te=Object.values(E.queries.query);H<te.length;H++)for(var se,ee,ne,ie=0,ae=(se=te[H]).slice();ie<ae.length;ie++)(ee=ae[ie]).res!=null&&w.mutatedParts&&(S&&!ee.dirty?(ne=Object.isFrozen(ee.res),ne=Fi(ee.res,ee.req,T,P,ee,ne),ee.dirty?(G(se,ee),ee.subscribers.forEach(function(me){return C.add(me)})):ne!==ee.res&&(ee.res=ne,ee.promise=le.resolve({result:ne}))):(ee.dirty&&G(se,ee),ee.subscribers.forEach(function(me){return C.add(me)})))}}}C.forEach(function(me){return me()})}}},w.addEventListener("abort",h(!1),{signal:v}),w.addEventListener("error",h(!1),{signal:v}),w.addEventListener("complete",h(!0),{signal:v})),w},table:function(d){var f=s.table(d),h=f.schema.primaryKey;return n(n({},f),{mutate:function(g){var v=be.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return f.mutate(g);var w=mr["idb://".concat(i,"/").concat(d)];return w?(v=f.mutate(g),g.type!=="add"&&g.type!=="put"||!(50<=g.values.length||Ls(h,g).some(function(S){return S==null}))?(w.optimisticOps.push(g),g.mutatedParts&&ya(g.mutatedParts),v.then(function(S){0<S.numFailures&&(G(w.optimisticOps,g),(S=Ii(0,g,S))&&w.optimisticOps.push(S),g.mutatedParts&&ya(g.mutatedParts))}),v.catch(function(){G(w.optimisticOps,g),g.mutatedParts&&ya(g.mutatedParts)})):v.then(function(S){var C=Ii(0,n(n({},g),{values:g.values.map(function(R,N){var D;return S.failures[N]?R:(R=(D=h.keyPath)!==null&&D!==void 0&&D.includes(".")?Oe(R):n({},R),Q(R,h.keyPath,S.results[N]),R)})}),S);w.optimisticOps.push(C),queueMicrotask(function(){return g.mutatedParts&&ya(g.mutatedParts)})}),v):f.mutate(g)},query:function(g){if(!Mi(be,f)||!Di("query",g))return f.query(g);var v=((C=be.trans)===null||C===void 0?void 0:C.db._options.cache)==="immutable",N=be,w=N.requery,S=N.signal,C=function(P,T,M,I){var L=mr["idb://".concat(P,"/").concat(T)];if(!L)return[];if(!(T=L.queries[M]))return[null,!1,L,null];var K=T[(I.query?I.query.index.name:null)||""];if(!K)return[null,!1,L,null];switch(M){case"query":var H=K.find(function(te){return te.req.limit===I.limit&&te.req.values===I.values&&Li(te.req.query.range,I.query.range)});return H?[H,!0,L,K]:[K.find(function(te){return("limit"in te.req?te.req.limit:1/0)>=I.limit&&(!I.values||te.req.values)&&Hd(te.req.query.range,I.query.range)}),!1,L,K];case"count":return H=K.find(function(te){return Li(te.req.query.range,I.query.range)}),[H,!!H,L,K]}}(i,d,"query",g),R=C[0],N=C[1],D=C[2],E=C[3];return R&&N?R.obsSet=g.obsSet:(N=f.query(g).then(function(P){var T=P.result;if(R&&(R.res=T),v){for(var M=0,I=T.length;M<I;++M)Object.freeze(T[M]);Object.freeze(T)}else P.result=Oe(T);return P}).catch(function(P){return E&&R&&G(E,R),Promise.reject(P)}),R={obsSet:g.obsSet,promise:N,subscribers:new Set,type:"query",req:g,dirty:!1},E?E.push(R):(E=[R],(D=D||(mr["idb://".concat(i,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[g.query.index.name||""]=E)),Vd(R,E,w,S),R.promise.then(function(P){return{result:Fi(P.result,g,D==null?void 0:D.optimisticOps,f,R,v)}})}})}})}};function xa(s,i){return new Proxy(s,{get:function(d,f,h){return f==="db"?i:Reflect.get(d,f,h)}})}var Ot=(We.prototype.version=function(s){if(isNaN(s)||s<.1)throw new de.Type("Given version is not a positive number");if(s=Math.round(10*s)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,s);var i=this._versions,d=i.filter(function(f){return f._cfg.version===s})[0];return d||(d=new this.Version(s),i.push(d),i.sort(Fd),d.stores({}),this._state.autoSchema=!1,d)},We.prototype._whenReady=function(s){var i=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?s():new le(function(d,f){if(i._state.openComplete)return f(new de.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void f(new de.DatabaseClosed);i.open().catch(Fe)}i._state.dbReadyPromise.then(d,f)}).then(s)},We.prototype.use=function(s){var i=s.stack,d=s.create,f=s.level,h=s.name;return h&&this.unuse({stack:i,name:h}),s=this._middlewares[i]||(this._middlewares[i]=[]),s.push({stack:i,create:d,level:f??10,name:h}),s.sort(function(g,v){return g.level-v.level}),this},We.prototype.unuse=function(s){var i=s.stack,d=s.name,f=s.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(h){return f?h.create!==f:!!d&&h.name!==d})),this},We.prototype.open=function(){var s=this;return dr(Lt,function(){return Bd(s)})},We.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var s=this._state,i=Dr.indexOf(this);if(0<=i&&Dr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}s.isBeingOpened||(s.dbReadyPromise=new le(function(d){s.dbReadyResolve=d}),s.openCanceller=new le(function(d,f){s.cancelOpen=f}))},We.prototype.close=function(d){var i=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;i?(d.isBeingOpened&&d.cancelOpen(new de.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new de.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},We.prototype.delete=function(s){var i=this;s===void 0&&(s={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new le(function(h,g){function v(){i.close(s);var w=i._deps.indexedDB.deleteDatabase(i.name);w.onsuccess=Be(function(){var S,C,R;S=i._deps,C=i.name,R=S.indexedDB,S=S.IDBKeyRange,Ps(R)||C===aa||Es(R,S).delete(C).catch(Fe),h()}),w.onerror=Nt(g),w.onblocked=i._fireOnBlocked}if(d)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(v):v()})},We.prototype.backendDB=function(){return this.idbdb},We.prototype.isOpen=function(){return this.idbdb!==null},We.prototype.hasBeenClosed=function(){var s=this._state.dbOpenError;return s&&s.name==="DatabaseClosed"},We.prototype.hasFailed=function(){return this._state.dbOpenError!==null},We.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(We.prototype,"tables",{get:function(){var s=this;return l(this._allTables).map(function(i){return s._allTables[i]})},enumerable:!1,configurable:!0}),We.prototype.transaction=function(){var s=(function(i,d,f){var h=arguments.length;if(h<2)throw new de.InvalidArgument("Too few arguments");for(var g=new Array(h-1);--h;)g[h-1]=arguments[h];return f=g.pop(),[i,Me(g),f]}).apply(this,arguments);return this._transaction.apply(this,s)},We.prototype._transaction=function(s,i,d){var f=this,h=be.trans;h&&h.db===this&&s.indexOf("!")===-1||(h=null);var g,v,w=s.indexOf("?")!==-1;s=s.replace("!","").replace("?","");try{if(v=i.map(function(C){if(C=C instanceof f.Table?C.name:C,typeof C!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return C}),s=="r"||s===ys)g=ys;else{if(s!="rw"&&s!=bs)throw new de.InvalidArgument("Invalid transaction mode: "+s);g=bs}if(h){if(h.mode===ys&&g===bs){if(!w)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(C){if(h&&h.storeNames.indexOf(C)===-1){if(!w)throw new de.SubTransaction("Table "+C+" not included in parent transaction.");h=null}}),w&&h&&!h.active&&(h=null)}}catch(C){return h?h._promise(null,function(R,N){N(C)}):Ue(C)}var S=(function C(R,N,D,E,P){return le.resolve().then(function(){var T=be.transless||be,M=R._createTransaction(N,D,R._dbSchema,E);if(M.explicit=!0,T={trans:M,transless:T},E)M.idbtrans=E.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(K){return K.name===Le.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return C(R,N,D,null,P)})):Ue(K)}var I,L=Ee(P);return L&&Mr(),T=le.follow(function(){var K;(I=P.call(M,M))&&(L?(K=$t.bind(null,null),I.then(K,K)):typeof I.next=="function"&&typeof I.throw=="function"&&(I=Is(I)))},T),(I&&typeof I.then=="function"?le.resolve(I).then(function(K){return M.active?K:Ue(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return I})).then(function(K){return E&&M._resolve(),M._completion.then(function(){return K})}).catch(function(K){return M._reject(K),Ue(K)})})}).bind(null,this,g,v,h,d);return h?h._promise(g,S,"lock"):be.trans?dr(be.transless,function(){return f._whenReady(S)}):this._whenReady(S)},We.prototype.table=function(s){if(!x(this._allTables,s))throw new de.InvalidTable("Table ".concat(s," does not exist"));return this._allTables[s]},We);function We(s,i){var d=this;this._middlewares={},this.verno=0;var f=We.dependencies;this._options=i=n({addons:We.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},f=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,g,v,w,S,C={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Fe,dbReadyPromise:null,cancelOpen:Fe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};C.dbReadyPromise=new le(function(N){C.dbReadyResolve=N}),C.openCanceller=new le(function(N,D){C.cancelOpen=D}),this._state=C,this.name=s,this.on=pn(this,"populate","blocked","versionchange","close",{ready:[cs,Fe]}),this.once=function(N,D){var E=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];d.on(N).unsubscribe(E),D.apply(d,P)};return d.on(N,E)},this.on.ready.subscribe=B(this.on.ready.subscribe,function(N){return function(D,E){We.vip(function(){var P,T=d._state;T.openComplete?(T.dbOpenError||le.resolve().then(D),E&&N(D)):T.onReadyBeingFired?(T.onReadyBeingFired.push(D),E&&N(D)):(N(D),P=d,E||N(function M(){P.on.ready.unsubscribe(D),P.on.ready.unsubscribe(M)}))})}}),this.Collection=(h=this,gn(Td.prototype,function(I,M){this.db=h;var E=hi,P=null;if(M)try{E=M()}catch(L){P=L}var T=I._ctx,M=T.table,I=M.hook.reading.fire;this._ctx={table:M,index:T.index,isPrimKey:!T.index||M.schema.primKey.keyPath&&T.index===M.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:P,or:T.or,valueMapper:I!==ln?I:null}})),this.Table=(g=this,gn(xi.prototype,function(N,D,E){this.db=g,this._tx=E,this.name=N,this.schema=D,this.hook=g._allTables[N]?g._allTables[N].hook:pn(null,{creating:[wd,Fe],reading:[vd,ln],updating:[jd,Fe],deleting:[kd,Fe]})})),this.Transaction=(v=this,gn(Rd.prototype,function(N,D,E,P,T){var M=this;N!=="readonly"&&D.forEach(function(I){I=(I=E[I])===null||I===void 0?void 0:I.yProps,I&&(D=D.concat(I.map(function(L){return L.updatesTable})))}),this.db=v,this.mode=N,this.storeNames=D,this.schema=E,this.chromeTransactionDurability=P,this.idbtrans=null,this.on=pn(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new le(function(I,L){M._resolve=I,M._reject=L}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(I){var L=M.active;return M.active=!1,M.on.error.fire(I),M.parent?M.parent._reject(I):L&&M.idbtrans&&M.idbtrans.abort(),Ue(I)})})),this.Version=(w=this,gn($d.prototype,function(N){this.db=w,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(S=this,gn(Ni.prototype,function(N,D,E){if(this.db=S,this._ctx={table:N,index:D===":id"?null:D,or:E},this._cmp=this._ascending=Re,this._descending=function(P,T){return Re(T,P)},this._max=function(P,T){return 0<Re(P,T)?P:T},this._min=function(P,T){return Re(P,T)<0?P:T},this._IDBKeyRange=S._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=xn(i.IDBKeyRange),this._createTransaction=function(N,D,E,P){return new d.Transaction(N,D,E,d._options.chromeTransactionDurability,P)},this._fireOnBlocked=function(N){d.on("blocked").fire(N),Dr.filter(function(D){return D.name===d.name&&D!==d&&!D._state.vcFired}).map(function(D){return D.on("versionchange").fire(N)})},this.use(Wd),this.use(Yd),this.use(zd),this.use(Kd),this.use(Ud);var R=new Proxy(this,{get:function(N,D,E){if(D==="_vip")return!0;if(D==="table")return function(T){return xa(d.table(T),R)};var P=Reflect.get(N,D,E);return P instanceof xi?xa(P,R):D==="tables"?P.map(function(T){return xa(T,R)}):D==="_createTransaction"?function(){return xa(P.apply(this,arguments),R)}:P}});this.vip=R,f.forEach(function(N){return N(d)})}var va,gt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Gd=($s.prototype.subscribe=function(s,i,d){return this._subscribe(s&&typeof s!="function"?s:{next:s,error:i,complete:d})},$s.prototype[gt]=function(){return this},$s);function $s(s){this._subscribe=s}try{va={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{va={indexedDB:null,IDBKeyRange:null}}function qi(s){var i,d=!1,f=new Gd(function(h){var g=Ee(s),v,w=!1,S={},C={},R={get closed(){return w},unsubscribe:function(){w||(w=!0,v&&v.abort(),N&&Ut.storagemutated.unsubscribe(E))}};h.start&&h.start(R);var N=!1,D=function(){return gs(P)},E=function(T){ga(S,T),Os(C,S)&&D()},P=function(){var T,M,I;!w&&va.indexedDB&&(S={},T={},v&&v.abort(),v=new AbortController,I=function(L){var K=Or();try{g&&Mr();var H=qt(s,L);return H=g?H.finally($t):H}finally{K&&Rr()}}(M={subscr:T,signal:v.signal,requery:D,querier:s,trans:null}),Promise.resolve(I).then(function(L){d=!0,i=L,w||M.signal.aborted||(S={},function(K){for(var H in K)if(x(K,H))return;return 1}(C=T)||N||(Ut(bn,E),N=!0),gs(function(){return!w&&h.next&&h.next(L)}))},function(L){d=!1,["DatabaseClosedError","AbortError"].includes(L==null?void 0:L.name)||w||gs(function(){w||h.error&&h.error(L)})}))};return setTimeout(D,0),R});return f.hasValue=function(){return d},f.getValue=function(){return i},f}var pr=Ot;function Bs(s){var i=Wt;try{Wt=!0,Ut.storagemutated.fire(s),Ds(s,!0)}finally{Wt=i}}_(pr,n(n({},Gn),{delete:function(s){return new pr(s,{addons:[]}).delete()},exists:function(s){return new pr(s,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(s){try{return i=pr.dependencies,d=i.indexedDB,i=i.IDBKeyRange,(Ps(d)?Promise.resolve(d.databases()).then(function(f){return f.map(function(h){return h.name}).filter(function(h){return h!==aa})}):Es(d,i).toCollection().primaryKeys()).then(s)}catch{return Ue(new de.MissingAPI)}var i,d},defineClass:function(){return function(s){p(this,s)}},ignoreTransaction:function(s){return be.trans?dr(be.transless,s):s()},vip:Ts,async:function(s){return function(){try{var i=Is(s.apply(this,arguments));return i&&typeof i.then=="function"?i:le.resolve(i)}catch(d){return Ue(d)}}},spawn:function(s,i,d){try{var f=Is(s.apply(d,i||[]));return f&&typeof f.then=="function"?f:le.resolve(f)}catch(h){return Ue(h)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(s,i){return i=le.resolve(typeof s=="function"?pr.ignoreTransaction(s):s).timeout(i||6e4),be.trans?be.trans.waitFor(i):i},Promise:le,debug:{get:function(){return jt},set:function(s){oi(s)}},derive:j,extend:p,props:_,override:B,Events:pn,on:Ut,liveQuery:qi,extendObservabilitySet:ga,getByKeyPath:Y,setByKeyPath:Q,delByKeyPath:function(s,i){typeof i=="string"?Q(s,i,void 0):"length"in i&&[].map.call(i,function(d){Q(s,d,void 0)})},shallowClone:ge,deepClone:Oe,getObjectDiff:Fs,cmp:Re,asap:J,minKey:-1/0,addons:[],connections:Dr,errnames:Le,dependencies:va,cache:mr,semVer:"4.2.1",version:"4.2.1".split(".").map(function(s){return parseInt(s)}).reduce(function(s,i,d){return s+i/Math.pow(10,2*d)})})),pr.maxKey=xn(pr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ut(bn,function(s){Wt||(s=new CustomEvent(ws,{detail:s}),Wt=!0,dispatchEvent(s),Wt=!1)}),addEventListener(ws,function(s){s=s.detail,Wt||Bs(s)}));var qr,Wt=!1,$i=function(){};return typeof BroadcastChannel<"u"&&(($i=function(){(qr=new BroadcastChannel(ws)).onmessage=function(s){return s.data&&Bs(s.data)}})(),typeof qr.unref=="function"&&qr.unref(),Ut(bn,function(s){Wt||qr.postMessage(s)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(s){if(!Ot.disableBfCache&&s.persisted){jt&&console.debug("Dexie: handling persisted pagehide"),qr!=null&&qr.close();for(var i=0,d=Dr;i<d.length;i++)d[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(s){!Ot.disableBfCache&&s.persisted&&(jt&&console.debug("Dexie: handling persisted pageshow"),$i(),Bs({all:new Je(-1/0,[[]])}))})),le.rejectionMapper=function(s,i){return!s||s instanceof he||s instanceof TypeError||s instanceof SyntaxError||!s.name||!sr[s.name]?s:(i=new sr[s.name](i||s.message,s),"stack"in s&&k(i,"stack",{get:function(){return this.inner.stack}}),i)},oi(jt),n(Ot,Object.freeze({__proto__:null,Dexie:Ot,liveQuery:qi,Entity:mi,cmp:Re,PropModification:mn,replacePrefix:function(s,i){return new mn({replacePrefix:[s,i]})},add:function(s){return new mn({add:s})},remove:function(s){return new mn({remove:s})},default:Ot,RangeSet:Je,mergeRanges:kn,rangesOverlap:Pi}),{default:Ot}),Ot})})(Ul);var tm=Ul.exports;const wo=dl(tm),fc=Symbol.for("Dexie"),Ba=globalThis[fc]||(globalThis[fc]=wo);if(wo.semVer!==Ba.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wo.semVer} and ${Ba.semVer}`);const{liveQuery:xj,mergeRanges:vj,rangesOverlap:wj,RangeSet:kj,cmp:jj,Entity:Nj,PropModification:Sj,replacePrefix:_j,add:Cj,remove:Ej,DexieYProvider:Pj}=Ba,rm="smartmoney-db",Wl=1;class nm extends Ba{constructor(){super(rm);yr(this,"transactions");yr(this,"accounts");yr(this,"budgets");yr(this,"goals");yr(this,"sync_queue");yr(this,"app_meta");this.version(Wl).stores({transactions:"++id, date, category, source, type, account_id, [date+category], [date+account_id]",accounts:"++id, name, type, is_active, currency",budgets:"++id, month",goals:"++id, status, end_date",sync_queue:"++id, timestamp, retry_count, status, entity_type",app_meta:"id"})}}const bt=new nm;function am(){try{return typeof indexedDB<"u"&&indexedDB!==null}catch{return!1}}async function sm(){if(!am())return console.warn("IndexedDB not available in this browser"),!1;try{return await bt.open(),await bt.app_meta.get("app-state")||await bt.app_meta.put({id:"app-state",schema_version:Wl}),!0}catch(e){return console.error("Failed to initialize IndexedDB:",e),!1}}const hc=[1e3,2e3,4e3,8e3,16e3],mc=5;async function Tj(e,t,r,n){const o={operation_type:e,entity_type:t,entity_id:r,payload:n,timestamp:Date.now(),retry_count:0,status:"pending"};return await bt.sync_queue.add(o)}function om(e,t){const r=`/api/${e}s`;return typeof t=="number"&&t>0?`${r}/${t}`:r}function im(e){switch(e){case"CREATE":return"POST";case"UPDATE":return"PUT";case"DELETE":return"DELETE"}}async function cm(e){const t=om(e.entity_type,e.entity_id),r=im(e.operation_type),n=await oe.request({method:r,url:t,data:e.operation_type!=="DELETE"?e.payload:void 0});if(n.status>=400)throw new Error(`Sync failed: ${n.status}`)}async function lm(){const e=await bt.sync_queue.where("status").equals("pending").and(n=>n.retry_count<mc).sortBy("timestamp");let t=0,r=0;for(const n of e)try{if(await bt.sync_queue.update(n.id,{status:"processing"}),n.retry_count>0){const o=hc[Math.min(n.retry_count-1,hc.length-1)];await new Promise(c=>setTimeout(c,o))}await cm(n),await bt.sync_queue.delete(n.id),t++}catch(o){const c=o instanceof Error?o.message:"Unknown error",l=n.retry_count+1;await bt.sync_queue.update(n.id,{status:l>=mc?"failed":"pending",retry_count:l,last_error:c}),r++}return{processed:t,failed:r}}async function ko(){return await bt.sync_queue.where("status").equals("pending").count()}let Da=null,Hs=!1;const jo=new Set;let Ia={isOnline:navigator.onLine,isSyncing:!1,pendingCount:0,lastSyncAt:null,lastError:null};function um(e){return jo.add(e),e(Ia),()=>jo.delete(e)}function wr(e){Ia={...Ia,...e},jo.forEach(t=>t(Ia))}async function Fa(){if(!(Hs||!navigator.onLine)){Hs=!0,wr({isSyncing:!0});try{const e=await lm(),t=await ko();wr({isSyncing:!1,pendingCount:t,lastSyncAt:new Date,lastError:e.failed>0?`${e.failed} operations failed`:null})}catch(e){wr({isSyncing:!1,lastError:e instanceof Error?e.message:"Sync failed"})}finally{Hs=!1}}}function dm(){const e=async()=>{wr({isOnline:!0}),await Fa()},t=()=>{wr({isOnline:!1})};window.addEventListener("online",e),window.addEventListener("offline",t),document.addEventListener("visibilitychange",async()=>{!document.hidden&&navigator.onLine&&await Fa()}),Da=setInterval(async()=>{if(navigator.onLine){const r=await ko();wr({pendingCount:r}),r>0&&await Fa()}},3e4),ko().then(r=>wr({pendingCount:r}))}function fm(){Da&&(clearInterval(Da),Da=null)}const zl={isOnline:!0,isSyncing:!1,pendingCount:0,lastSyncAt:null,lastError:null},Hl=y.createContext({...zl,triggerSync:async()=>{}});function hm({children:e}){const[t,r]=y.useState(zl);y.useEffect(()=>{dm();const o=um(r);return()=>{o(),fm()}},[]);const n=y.useCallback(async()=>{await Fa()},[]);return a.jsx(Hl.Provider,{value:{...t,triggerSync:n},children:e})}function mm(){return y.useContext(Hl)}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),pc=e=>{const t=gm(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vl=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),ym=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:c,iconNode:l,...u},p)=>y.createElement("svg",{ref:p,...bm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Vl("lucide",o),...!c&&!ym(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,b])=>y.createElement(m,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=y.forwardRef(({className:n,...o},c)=>y.createElement(xm,{ref:c,iconNode:t,className:Vl(`lucide-${pm(pc(e))}`,`lucide-${e}`,n),...o}));return r.displayName=pc(e),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wm=xe("arrow-left",vm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Xr=xe("arrow-right",km);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Nm=xe("banknote",jm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gc=xe("bell",Sm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Yl=xe("brain",_m);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Em=xe("calendar",Cm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Tm=xe("camera",Pm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Un=xe("chart-column",Am);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Gl=xe("chart-pie",Om);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mm=xe("check",Rm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Im=xe("chevron-left",Dm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],An=xe("chevron-right",Fm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],qm=xe("chevrons-left",Lm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],Bm=xe("chevrons-right",$m);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wo=xe("circle-alert",Km);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xl=xe("circle-check-big",Um);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zm=xe("circle-check",Wm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vm=xe("circle-plus",Hm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gm=xe("circle-question-mark",Ym);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qm=xe("circle-x",Xm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ql=xe("credit-card",Jm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ep=xe("eye-off",Zm);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rp=xe("eye",tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jl=xe("file-text",np);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Zl=xe("github",ap);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eu=xe("globe",sp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Za=xe("house",op);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cp=xe("info",ip);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zo=xe("loader-circle",lp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ka=xe("log-out",up);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],tu=xe("map-pinned",dp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],hp=xe("menu",fp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pp=xe("message-circle",mp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ru=xe("moon",gp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],es=xe("plus",yp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Xt=xe("receipt",bp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],vp=xe("refresh-ccw",xp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kp=xe("refresh-cw",wp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Np=xe("scale",jp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_p=xe("search",Sp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ep=xe("send",Cp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ts=xe("settings",Pp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ap=xe("shield",Tp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wn=xe("shopping-cart",Op);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zn=xe("sparkles",Rp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],nu=xe("sun",Mp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qt=xe("target",Dp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],No=xe("trash-2",Ip);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ho=xe("trending-down",Fp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Tr=xe("trending-up",Lp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Vo=xe("trophy",qp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rr=xe("upload",$p);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kp=xe("user",Bp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wp=xe("users",Up);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],sn=xe("wallet",zp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Vp=xe("wifi-off",Hp);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wt=xe("x",Yp),Yo="-",Gp=e=>{const t=Qp(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const u=l.split(Yo);return u[0]===""&&u.length!==1&&u.shift(),au(u,t)||Xp(l)},getConflictingClassGroupIds:(l,u)=>{const p=r[l]||[];return u&&n[l]?[...p,...n[l]]:p}}},au=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?au(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(Yo);return(l=t.validators.find(({validator:u})=>u(c)))==null?void 0:l.classGroupId},yc=/^\[(.+)\]$/,Xp=e=>{if(yc.test(e)){const t=yc.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Qp=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Zp(Object.entries(e.classGroups),r).forEach(([c,l])=>{So(l,n,c,t)}),n},So=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:bc(t,o);c.classGroupId=r;return}if(typeof o=="function"){if(Jp(o)){So(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([c,l])=>{So(l,bc(t,c),r,n)})})},bc=(e,t)=>{let r=e;return t.split(Yo).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jp=e=>e.isThemeGetter,Zp=(e,t)=>t?e.map(([r,n])=>{const o=n.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([l,u])=>[t+l,u])):c);return[r,o]}):e,eg=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(c,l)=>{r.set(c,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(c){let l=r.get(c);if(l!==void 0)return l;if((l=n.get(c))!==void 0)return o(c,l),l},set(c,l){r.has(c)?r.set(c,l):o(c,l)}}},su="!",tg=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],c=t.length,l=u=>{const p=[];let m=0,b=0,x;for(let O=0;O<u.length;O++){let U=u[O];if(m===0){if(U===o&&(n||u.slice(O,O+c)===t)){p.push(u.slice(b,O)),b=O+c;continue}if(U==="/"){x=O;continue}}U==="["?m++:U==="]"&&m--}const _=p.length===0?u:u.substring(b),A=_.startsWith(su),k=A?_.substring(1):_,j=x&&x>b?x-b:void 0;return{modifiers:p,hasImportantModifier:A,baseClassName:k,maybePostfixModifierPosition:j}};return r?u=>r({className:u,parseClassName:l}):l},rg=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ng=e=>({cache:eg(e.cacheSize),parseClassName:tg(e),...Gp(e)}),ag=/\s+/,sg=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,c=[],l=e.trim().split(ag);let u="";for(let p=l.length-1;p>=0;p-=1){const m=l[p],{modifiers:b,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:A}=r(m);let k=!!A,j=n(k?_.substring(0,A):_);if(!j){if(!k){u=m+(u.length>0?" "+u:u);continue}if(j=n(_),!j){u=m+(u.length>0?" "+u:u);continue}k=!1}const O=rg(b).join(":"),U=x?O+su:O,W=U+j;if(c.includes(W))continue;c.push(W);const B=o(j,k);for(let q=0;q<B.length;++q){const J=B[q];c.push(U+J)}u=m+(u.length>0?" "+u:u)}return u};function og(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ou(t))&&(n&&(n+=" "),n+=r);return n}const ou=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ou(e[n]))&&(r&&(r+=" "),r+=t);return r};function ig(e,...t){let r,n,o,c=l;function l(p){const m=t.reduce((b,x)=>x(b),e());return r=ng(m),n=r.cache.get,o=r.cache.set,c=u,u(p)}function u(p){const m=n(p);if(m)return m;const b=sg(p,r);return o(p,b),b}return function(){return c(og.apply(null,arguments))}}const $e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iu=/^\[(?:([a-z-]+):)?(.+)\]$/i,cg=/^\d+\/\d+$/,lg=new Set(["px","full","screen"]),ug=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rt=e=>Qr(e)||lg.has(e)||cg.test(e),zt=e=>on(e,"length",kg),Qr=e=>!!e&&!Number.isNaN(Number(e)),Vs=e=>on(e,"number",Qr),Sn=e=>!!e&&Number.isInteger(Number(e)),pg=e=>e.endsWith("%")&&Qr(e.slice(0,-1)),_e=e=>iu.test(e),Ht=e=>ug.test(e),gg=new Set(["length","size","percentage"]),yg=e=>on(e,gg,cu),bg=e=>on(e,"position",cu),xg=new Set(["image","url"]),vg=e=>on(e,xg,Ng),wg=e=>on(e,"",jg),_n=()=>!0,on=(e,t,r)=>{const n=iu.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},kg=e=>dg.test(e)&&!fg.test(e),cu=()=>!1,jg=e=>hg.test(e),Ng=e=>mg.test(e),Sg=()=>{const e=$e("colors"),t=$e("spacing"),r=$e("blur"),n=$e("brightness"),o=$e("borderColor"),c=$e("borderRadius"),l=$e("borderSpacing"),u=$e("borderWidth"),p=$e("contrast"),m=$e("grayscale"),b=$e("hueRotate"),x=$e("invert"),_=$e("gap"),A=$e("gradientColorStops"),k=$e("gradientColorStopPositions"),j=$e("inset"),O=$e("margin"),U=$e("opacity"),W=$e("padding"),B=$e("saturate"),q=$e("scale"),J=$e("sepia"),Y=$e("skew"),Q=$e("space"),ge=$e("translate"),Se=()=>["auto","contain","none"],Me=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto",_e,t],ce=()=>[_e,t],Oe=()=>["",Rt,zt],we=()=>["auto",Qr,_e],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",_e],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[Qr,_e];return{cacheSize:500,separator:":",theme:{colors:[_n],spacing:[Rt,zt],blur:["none","",Ht,_e],brightness:Ee(),borderColor:[e],borderRadius:["none","","full",Ht,_e],borderSpacing:ce(),borderWidth:Oe(),contrast:Ee(),grayscale:ue(),hueRotate:Ee(),invert:ue(),gap:ce(),gradientColorStops:[e],gradientColorStopPositions:[pg,zt],inset:fe(),margin:fe(),opacity:Ee(),padding:ce(),saturate:Ee(),scale:Ee(),sepia:ue(),skew:Ee(),space:ce(),translate:ce()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Ht]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),_e]}],overflow:[{overflow:Me()}],"overflow-x":[{"overflow-x":Me()}],"overflow-y":[{"overflow-y":Me()}],overscroll:[{overscroll:Se()}],"overscroll-x":[{"overscroll-x":Se()}],"overscroll-y":[{"overscroll-y":Se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sn,_e]}],basis:[{basis:fe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",Sn,_e]}],"grid-cols":[{"grid-cols":[_n]}],"col-start-end":[{col:["auto",{span:["full",Sn,_e]},_e]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[_n]}],"row-start-end":[{row:["auto",{span:[Sn,_e]},_e]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[W]}],px:[{px:[W]}],py:[{py:[W]}],ps:[{ps:[W]}],pe:[{pe:[W]}],pt:[{pt:[W]}],pr:[{pr:[W]}],pb:[{pb:[W]}],pl:[{pl:[W]}],m:[{m:[O]}],mx:[{mx:[O]}],my:[{my:[O]}],ms:[{ms:[O]}],me:[{me:[O]}],mt:[{mt:[O]}],mr:[{mr:[O]}],mb:[{mb:[O]}],ml:[{ml:[O]}],"space-x":[{"space-x":[Q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,t]}],"min-w":[{"min-w":[_e,t,"min","max","fit"]}],"max-w":[{"max-w":[_e,t,"none","full","min","max","fit","prose",{screen:[Ht]},Ht]}],h:[{h:[_e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ht,zt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vs]}],"font-family":[{font:[_n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Qr,Vs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rt,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[U]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[U]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rt,zt]}],"underline-offset":[{"underline-offset":["auto",Rt,_e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ce()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[U]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),bg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vg]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[U]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[U]}],"divide-style":[{divide:z()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Rt,_e]}],"outline-w":[{outline:[Rt,zt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[U]}],"ring-offset-w":[{"ring-offset":[Rt,zt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ht,wg]}],"shadow-color":[{shadow:[_n]}],opacity:[{opacity:[U]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ht,_e]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[x]}],saturate:[{saturate:[B]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[U]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[Sn,_e]}],"translate-x":[{"translate-x":[ge]}],"translate-y":[{"translate-y":[ge]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ce()}],"scroll-mx":[{"scroll-mx":ce()}],"scroll-my":[{"scroll-my":ce()}],"scroll-ms":[{"scroll-ms":ce()}],"scroll-me":[{"scroll-me":ce()}],"scroll-mt":[{"scroll-mt":ce()}],"scroll-mr":[{"scroll-mr":ce()}],"scroll-mb":[{"scroll-mb":ce()}],"scroll-ml":[{"scroll-ml":ce()}],"scroll-p":[{"scroll-p":ce()}],"scroll-px":[{"scroll-px":ce()}],"scroll-py":[{"scroll-py":ce()}],"scroll-ps":[{"scroll-ps":ce()}],"scroll-pe":[{"scroll-pe":ce()}],"scroll-pt":[{"scroll-pt":ce()}],"scroll-pr":[{"scroll-pr":ce()}],"scroll-pb":[{"scroll-pb":ce()}],"scroll-pl":[{"scroll-pl":ce()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rt,zt,Vs]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_g=ig(Sg);function Z(...e){return _g(cf(e))}const lu=y.createContext(null);let Cg=0;const Eg={success:Xl,error:Qm,warning:Wo,info:cp},Pg={success:"bg-green-50 dark:bg-green-900/90 border-green-200 dark:border-green-700 text-green-800 dark:text-green-100",error:"bg-red-50 dark:bg-red-900/90 border-red-200 dark:border-red-700 text-red-800 dark:text-red-100",warning:"bg-yellow-50 dark:bg-yellow-900/90 border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-100",info:"bg-blue-50 dark:bg-blue-900/90 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-100"},Tg={success:"text-green-500 dark:text-green-400",error:"text-red-500 dark:text-red-400",warning:"text-yellow-500 dark:text-yellow-400",info:"text-blue-500 dark:text-blue-400"};function Ag({children:e}){const[t,r]=y.useState([]),n=y.useCallback(m=>{r(b=>b.map(x=>x.id===m?{...x,exiting:!0}:x)),setTimeout(()=>{r(b=>b.filter(x=>x.id!==m))},200)},[]),o=y.useCallback((m,b="info",x=4e3)=>{const _=++Cg;r(A=>[...A,{id:_,message:m,type:b,duration:x}]),x>0&&setTimeout(()=>n(_),x)},[n]),c=y.useCallback((m,b)=>o(m,"success",b),[o]),l=y.useCallback((m,b)=>o(m,"error",b),[o]),u=y.useCallback((m,b)=>o(m,"warning",b),[o]),p=y.useCallback((m,b)=>o(m,"info",b),[o]);return a.jsxs(lu.Provider,{value:{showToast:o,success:c,error:l,warning:u,info:p},children:[e,Ft.createPortal(a.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:t.map(m=>{const b=Eg[m.type];return a.jsxs("div",{className:Z("flex items-start gap-3 p-4 rounded-lg border shadow-lg pointer-events-auto",Pg[m.type],m.exiting?"animate-toast-out":"animate-toast-in"),children:[a.jsx(b,{className:Z("w-5 h-5 flex-shrink-0 mt-0.5",Tg[m.type])}),a.jsx("p",{className:"flex-1 text-sm font-medium",children:m.message}),a.jsx("button",{onClick:()=>n(m.id),className:"flex-shrink-0 p-1 hover:bg-black/10 dark:hover:bg-white/10 rounded",children:a.jsx(wt,{className:"w-4 h-4"})})]},m.id)})}),document.body)]})}function Aj(){const e=y.useContext(lu);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const uu=y.createContext(void 0);function Oj(){const e=y.useContext(uu);if(!e)throw new Error("useXPToast must be used within an XPToastProvider");return e}function Og({children:e}){const[t,r]=y.useState([]),n=y.useCallback((c,l)=>{const u={amount:c,source:l,timestamp:Date.now()};r(p=>[...p.slice(-2),u]),setTimeout(()=>{r(p=>p.filter(m=>m.timestamp!==u.timestamp))},3e3)},[]),o=y.useCallback(c=>{r(l=>l.filter(u=>u.timestamp!==c))},[]);return a.jsxs(uu.Provider,{value:{addXPGain:n,toasts:t,dismissToast:o},children:[e,a.jsx(Rg,{toasts:t,onDismiss:o})]})}function Rg({toasts:e,onDismiss:t}){return e.length===0?null:a.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:e.map(r=>a.jsx(Mg,{toast:r,onDismiss:t},r.timestamp))})}function Mg({toast:e,onDismiss:t}){return a.jsxs("div",{className:Z("pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg","bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/90 dark:to-orange-950/90","border border-amber-200/50 dark:border-amber-800/50","animate-in slide-in-from-bottom-5 fade-in duration-300"),children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:a.jsx(zn,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:["+",e.amount," XP"]}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 truncate",children:e.source})]}),a.jsx("button",{onClick:()=>t(e.timestamp),className:"flex-shrink-0 p-1 rounded-lg hover:bg-amber-200/50 dark:hover:bg-amber-800/50 transition-colors",children:a.jsx(wt,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})})]})}const Dg=["auth","user","session","credit"],Ig=new of({defaultOptions:{queries:{gcTime:1e3*60*60*24,staleTime:1e3*60*5,retry:2,refetchOnWindowFocus:!1,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}});function Fg(e){const t=e[0];return typeof t!="string"?!0:!Dg.includes(t)}function _o(){}function Lg(e,{interval:t=1e3,onError:r=_o}={}){if(typeof e!="function")throw new Error("argument is not function.");let n=0,o=null,c=!1,l=!1;return async(...u)=>{if(o=u,!l){for(l=!0;c;)await new Promise(p=>Ki.setTimeout(p,t));for(;Date.now()<n;)await new Promise(p=>Ki.setTimeout(p,n-Date.now()));l=!1,c=!0;try{await e(...o)}catch(p){try{r(p)}catch{}}n=Date.now()+t,c=!1}}}var qg=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:r=1e3,serialize:n=JSON.stringify,deserialize:o=JSON.parse,retry:c})=>{if(e){const l=async u=>{try{const p=await n(u);await e.setItem(t,p);return}catch(p){return p}};return{persistClient:Lg(async u=>{let p=u,m=await l(p),b=0;for(;m&&p;)b++,p=await(c==null?void 0:c({persistedClient:p,error:m,errorCount:b})),p&&(m=await l(p))},{interval:r}),restoreClient:async()=>{const u=await e.getItem(t);if(u)return await o(u)},removeClient:()=>e.removeItem(t)}}return{persistClient:_o,restoreClient:()=>Promise.resolve(void 0),removeClient:_o}};const $g="tanstack-query-cache",Bg={getItem:async e=>{try{const t=await bt.app_meta.get(e);return t?JSON.stringify(t):null}catch(t){return console.warn("Failed to read from IndexedDB:",t),null}},setItem:async(e,t)=>{try{const r=JSON.parse(t);await bt.app_meta.put({id:e,...r})}catch(r){console.warn("Failed to write to IndexedDB:",r)}},removeItem:async e=>{try{await bt.app_meta.delete(e)}catch(t){console.warn("Failed to remove from IndexedDB:",t)}}},Kg=qg({storage:Bg,throttleTime:1e4,key:$g}),Ug="modulepreload",Wg=function(e){return"/"+e},xc={},rt=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(r.map(p=>{if(p=Wg(p),p in xc)return;xc[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":Ug,m||(x.as="script"),x.crossOrigin="",x.href=p,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((_,A)=>{x.addEventListener("load",_),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})},Ys=[{code:"ja",name:"",flag:""},{code:"en",name:"English",flag:""},{code:"vi",name:"Ting Vit",flag:""}];function vc(){const{i18n:e,t}=Te("common"),[r,n]=y.useState(!1),o=y.useRef(null),c=Ys.find(u=>u.code===e.language)||Ys[0],l=u=>{e.changeLanguage(u),n(!1)};return y.useEffect(()=>{function u(p){o.current&&!o.current.contains(p.target)&&n(!1)}return r&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[r]),a.jsxs("div",{className:"relative",ref:o,children:[a.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors focus-ring","aria-label":t("language.selectLanguage"),"aria-expanded":r,"aria-haspopup":"true",children:[a.jsx("span",{className:"text-lg sm:text-xl","aria-hidden":"true",children:c.flag}),a.jsx("span",{className:"text-sm font-medium hidden sm:inline text-gray-700 dark:text-gray-200",children:c.name}),a.jsx("svg",{className:Z("w-4 h-4 transition-transform hidden sm:block",r&&"rotate-180"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50 animate-slide-down",children:Ys.map(u=>a.jsxs("button",{onClick:()=>l(u.code),className:Z("w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","first:rounded-t-lg last:rounded-b-lg","text-gray-700 dark:text-gray-200",e.language===u.code&&"bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400"),role:"menuitem",children:[a.jsx("span",{className:"text-xl","aria-hidden":"true",children:u.flag}),a.jsx("span",{className:"text-sm font-medium flex-1 text-left",children:u.name}),e.language===u.code&&a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-label":"Selected",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},u.code))})]})}function wc(){const{t:e}=Te("common"),{resolvedTheme:t,setTheme:r}=Uo(),n=()=>{r(t==="dark"?"light":"dark")};return a.jsx("button",{onClick:n,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 focus-ring","aria-label":e(t==="dark"?"aria.lightMode":"aria.darkMode"),title:e(t==="dark"?"aria.lightMode":"aria.darkMode"),children:t==="dark"?a.jsx(nu,{className:"w-5 h-5","aria-hidden":"true"}):a.jsx(ru,{className:"w-5 h-5","aria-hidden":"true"})})}function zg(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let Co=1;class Hg{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,c=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Co++,l=this.toasts.find(p=>p.id===c),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),l?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...t,id:c,title:n}),{...p,...t,id:c,dismissible:u,title:n}):p):this.addToast({title:n,...o,dismissible:u,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let c=n!==void 0,l;const u=o.then(async m=>{if(l=["resolve",m],Vr.isValidElement(m))c=!1,this.create({id:n,type:"default",message:m});else if(Yg(m)&&!m.ok){c=!1;const x=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,_=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,k=typeof x=="object"&&!Vr.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:_,...k})}else if(m instanceof Error){c=!1;const x=typeof r.error=="function"?await r.error(m):r.error,_=typeof r.description=="function"?await r.description(m):r.description,k=typeof x=="object"&&!Vr.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:_,...k})}else if(r.success!==void 0){c=!1;const x=typeof r.success=="function"?await r.success(m):r.success,_=typeof r.description=="function"?await r.description(m):r.description,k=typeof x=="object"&&!Vr.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:_,...k})}}).catch(async m=>{if(l=["reject",m],r.error!==void 0){c=!1;const b=typeof r.error=="function"?await r.error(m):r.error,x=typeof r.description=="function"?await r.description(m):r.description,A=typeof b=="object"&&!Vr.isValidElement(b)?b:{message:b};this.create({id:n,type:"error",description:x,...A})}}).finally(()=>{c&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),p=()=>new Promise((m,b)=>u.then(()=>l[0]==="reject"?b(l[1]):m(l[1])).catch(b));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Co++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yt=new Hg,Vg=(e,t)=>{const r=(t==null?void 0:t.id)||Co++;return yt.addToast({title:e,...t,id:r}),r},Yg=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Gg=Vg,Xg=()=>yt.toasts,Qg=()=>yt.getActiveToasts(),Ua=Object.assign(Gg,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:Xg,getToasts:Qg});zg("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");class Jg{async getThemes(t=1){return(await oe.get("/api/rewards/themes",{params:{level:t}})).data}async getMyThemes(){return(await oe.get("/api/rewards/themes/my")).data}async activateTheme(t){return(await oe.post(`/api/rewards/themes/${t}/activate`)).data}async getAvatars(t=1){return(await oe.get("/api/rewards/avatars",{params:{level:t}})).data}async getMyAvatars(){return(await oe.get("/api/rewards/avatars/my")).data}async activateAvatar(t){return(await oe.post(`/api/rewards/avatars/${t}/activate`)).data}async uploadCustomAvatar(t){console.log("[uploadCustomAvatar] Starting upload:",t.name,t.type,t.size);const r=new FormData;r.append("avatar",t),console.log("[uploadCustomAvatar] FormData created, token exists:",!!localStorage.getItem("smartmoney_access_token"));const n=await oe.post("/api/rewards/avatars/upload",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log("[uploadCustomAvatar] Upload response:",n.data),n.data}async deleteAvatar(t){return(await oe.delete(`/api/rewards/avatars/${t}`)).data}async getProfile(){return(await oe.get("/api/rewards/profile")).data}async updateProfile(t,r){return(await oe.put("/api/rewards/profile",{display_name:t,bio:r})).data}async getFeatures(){return(await oe.get("/api/rewards/features")).data}async checkFeatureAccess(t){return(await oe.get(`/api/rewards/features/${t}/access`)).data}async getSettings(){return(await oe.get("/api/rewards/settings")).data}async updateSettings(t){return(await oe.put("/api/rewards/settings",t)).data}async getActiveEvent(){return(await oe.get("/api/rewards/events/active")).data}async getMultiplier(){return(await oe.get("/api/rewards/events/multiplier")).data}async initializeAll(){return(await oe.post("/api/rewards/initialize")).data}}const Sr=new Jg,Rj=e=>Ye({queryKey:["avatars",e],queryFn:()=>Sr.getAvatars(e)}),Mj=()=>{const e=Tt();return tr({mutationFn:t=>Sr.activateAvatar(t),onSuccess:()=>e.invalidateQueries({queryKey:["avatars"]})})},Dj=()=>{const e=Tt();return tr({mutationFn:t=>(console.log("[useUploadCustomAvatar] Starting upload:",t.name,t.type,t.size),Sr.uploadCustomAvatar(t)),onSuccess:t=>{var r;console.log("[useUploadCustomAvatar] Upload success:",t),e.invalidateQueries({queryKey:["avatars"]}),e.invalidateQueries({queryKey:["profile"]}),Ua.success("Custom avatar uploaded!"),(r=t.avatar)!=null&&r.id&&(console.log("[useUploadCustomAvatar] Auto-selecting new avatar:",t.avatar.id),Sr.activateAvatar(t.avatar.id))},onError:t=>{console.error("[useUploadCustomAvatar] Upload error:",t),e.invalidateQueries({queryKey:["avatars"]}),Ua.error("Failed to upload avatar: "+((t==null?void 0:t.message)||"Unknown error"))}})},Ij=()=>{const e=Tt();return tr({mutationFn:t=>Sr.deleteAvatar(t),onSuccess:()=>{e.invalidateQueries({queryKey:["avatars"]}),e.invalidateQueries({queryKey:["profile"]}),Ua.success("Avatar deleted")},onError:t=>{var r,n;Ua.error("Failed to delete avatar: "+(((n=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:n.detail)||"Unknown error"))}})},du=()=>Ye({queryKey:["profile"],queryFn:()=>Sr.getProfile()}),Fj=()=>{const e=Tt();return tr({mutationFn:({displayName:t,bio:r})=>Sr.updateProfile(t,r),onSuccess:()=>e.invalidateQueries({queryKey:["profile"]})})},Lj=()=>Ye({queryKey:["gamification-stats"],queryFn:()=>rt(()=>import("./gamification-service-C79jyPbB.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>e.gamificationService.getStats())});function Zg(){const{data:e,isLoading:t}=du();if(t||!e)return a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 animate-pulse"});const r=e.active_avatar,n=(r==null?void 0:r.emoji)||(r==null?void 0:r.icon)||"";return a.jsx(Qe,{to:"/gamification",className:"group flex items-center gap-1.5 px-2 py-1 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all",title:"Your avatar - Click to change",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-full bg-gradient-to-br from-primary-300 to-primary-500 opacity-60 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{className:"relative w-7 h-7 rounded-full bg-primary-50 dark:bg-primary-900/40 flex items-center justify-center text-lg leading-none",children:n})]})})}const ey=[{path:"/",icon:Za,labelKey:"header.dashboard",activeColor:"text-primary-600 dark:text-primary-400"},{path:"/transactions",icon:Xt,labelKey:"header.transactions",activeColor:"text-purple-600 dark:text-purple-400"},{path:"/accounts",icon:sn,labelKey:"header.accounts",activeColor:"text-green-600 dark:text-green-400"},{path:"/goals",icon:Qt,labelKey:"header.goals",activeColor:"text-pink-600 dark:text-pink-400"},{path:"/analytics",icon:Un,labelKey:"header.analytics",activeColor:"text-indigo-600 dark:text-indigo-400"},{path:"/budget",icon:Tr,labelKey:"header.budget",activeColor:"text-blue-600 dark:text-blue-400"},{path:"/gamification",icon:Vo,labelKey:"header.gamification",activeColor:"text-yellow-500"},{path:"/upload",icon:rr,labelKey:"header.upload",activeColor:"text-cyan-600 dark:text-cyan-400"},{path:"/settings",icon:ts,labelKey:"header.settings",activeColor:"text-gray-600 dark:text-gray-400"}];function ty(){const{t:e}=Te("common"),{logout:t}=Bn(),{isPrivacyMode:r,togglePrivacyMode:n}=Kn(),[o,c]=y.useState(!1),l=u=>u==="/"?location.pathname==="/":location.pathname.startsWith(u);return a.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Qe,{to:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsx("svg",{className:"w-7 h-7 sm:w-8 sm:h-8 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),a.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white hidden sm:block",children:"SmartMoney"})]}),a.jsx(Zg,{})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[a.jsx("button",{onClick:n,className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors p-1.5 sm:p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring","aria-label":e(r?"aria.showAmounts":"aria.hideAmounts"),title:e(r?"aria.showAmounts":"aria.hideAmounts"),children:r?a.jsx(ep,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"}):a.jsx(rp,{className:"w-4 h-4 sm:w-5 sm:h-5","aria-hidden":"true"})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(wc,{})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx(vc,{})}),a.jsx("button",{onClick:t,className:"hidden md:block text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus-ring",title:e("auth.logout"),children:a.jsx(Ka,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"md:hidden",children:a.jsx(vc,{})}),a.jsx("button",{onClick:()=>c(!o),className:"md:hidden text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Menu",children:a.jsx(hp,{className:"w-5 h-5"})})]})]}),o&&a.jsx("div",{className:"md:hidden py-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"flex flex-col space-y-1",children:[ey.map(u=>{const p=l(u.path);return a.jsx(ry,{to:u.path,onClick:()=>c(!1),icon:u.icon,active:p,activeColor:u.activeColor,children:e(u.labelKey)},u.path)}),a.jsxs("div",{className:"flex items-center gap-3 pt-3 mt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(wc,{}),a.jsxs("button",{onClick:()=>{c(!1),t()},className:Z("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors","text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20"),children:[a.jsx(Ka,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:e("auth.logout")})]})]})]})})]})})}function ry({to:e,onClick:t,icon:r,active:n,activeColor:o,children:c}){return a.jsxs(Qe,{to:e,onClick:t,className:Z("flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors font-medium",n?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"),children:[a.jsx(r,{className:Z("w-5 h-5",n&&o),strokeWidth:1.5}),a.jsx("span",{children:c})]})}function ny(){const e=new Date().getFullYear();return a.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"text-center text-sm text-gray-500",children:a.jsxs("p",{children:[" ",e," SmartMoney. All rights reserved."]})})})})}const xt={home:{path:"/",icon:Za,labelKey:"nav.home",activeColor:"text-primary-600 dark:text-primary-400"},budget:{path:"/budget",icon:Tr,labelKey:"nav.budget",activeColor:"text-blue-600 dark:text-blue-400"},accounts:{path:"/accounts",icon:sn,labelKey:"nav.accounts",activeColor:"text-green-600 dark:text-green-400"},transactions:{path:"/transactions",icon:Xt,labelKey:"nav.transactions",activeColor:"text-purple-600 dark:text-purple-400"},gamification:{path:"/gamification",icon:Vo,labelKey:"header.gamification",activeColor:"text-yellow-500"},analytics:{path:"/analytics",icon:Un,labelKey:"nav.analytics",activeColor:"text-indigo-600 dark:text-indigo-400"},goals:{path:"/goals",icon:Qt,labelKey:"nav.goals",activeColor:"text-pink-600 dark:text-pink-400"},proxy:{path:"/proxy",icon:Wn,labelKey:"nav.proxy",activeColor:"text-orange-600 dark:text-orange-400"},settings:{path:"/settings",icon:ts,labelKey:"nav.settings",activeColor:"text-gray-600 dark:text-gray-400"},upload:{path:"/upload",icon:rr,labelKey:"header.upload",activeColor:"text-cyan-600 dark:text-cyan-400"},relocation:{path:"/relocation",icon:tu,labelKey:"nav.relocation",activeColor:"text-teal-600 dark:text-teal-400"}},ay=[xt.home,xt.budget,xt.accounts,xt.transactions],kc=[xt.gamification,xt.analytics,xt.goals,xt.relocation,xt.proxy],sy=[xt.settings,xt.upload],oy=({className:e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"1"}),a.jsx("circle",{cx:"12",cy:"5",r:"1"}),a.jsx("circle",{cx:"12",cy:"19",r:"1"})]});function iy(){const{t:e}=Te("common"),t=rn(),{logout:r}=Bn(),[n,o]=y.useState(!1),c=u=>u==="/"?t.pathname==="/":t.pathname.startsWith(u),l=kc.some(u=>c(u.path));return a.jsxs(a.Fragment,{children:[n&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>o(!1)}),n&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 z-50 md:hidden rounded-t-3xl shadow-2xl animate-slide-up max-h-[85vh] overflow-y-auto",children:[a.jsx("div",{className:"flex justify-center pt-3 pb-2",children:a.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 px-2",children:e("nav.explore","Explore")}),a.jsx("div",{className:"space-y-1",children:kc.map(u=>{const p=c(u.path);return a.jsxs(Qe,{to:u.path,onClick:()=>o(!1),className:Z("flex items-center gap-4 px-4 py-3 rounded-xl transition-all",p?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a.jsx("div",{className:Z("w-10 h-10 flex items-center justify-center rounded-lg",p?"bg-primary-100 dark:bg-primary-900/50":"bg-gray-100 dark:bg-gray-800"),children:a.jsx(u.icon,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium flex-1",children:e(u.labelKey)}),a.jsx(An,{className:"w-4 h-4 text-gray-400"})]},u.path)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 px-2",children:e("nav.settings","Settings")}),a.jsx("div",{className:"space-y-1",children:sy.map(u=>{const p=c(u.path);return a.jsxs(Qe,{to:u.path,onClick:()=>o(!1),className:Z("flex items-center gap-4 px-4 py-3 rounded-xl transition-all",p?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a.jsx("div",{className:Z("w-10 h-10 flex items-center justify-center rounded-lg",p?"bg-primary-100 dark:bg-primary-900/50":"bg-gray-100 dark:bg-gray-800"),children:a.jsx(u.icon,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium flex-1",children:e(u.labelKey)}),a.jsx(An,{className:"w-4 h-4 text-gray-400"})]},u.path)})})]}),a.jsxs("button",{onClick:()=>{o(!1),r()},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 flex items-center justify-center bg-red-100 dark:bg-red-900/30 rounded-lg",children:a.jsx(Ka,{className:"w-5 h-5",strokeWidth:1.5})}),a.jsx("span",{className:"font-medium",children:e("auth.logout")})]})]}),a.jsx("div",{className:"h-safe-area"})]}),a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-800/95 backdrop-blur-lg border-t border-gray-200/60 dark:border-gray-700/60 z-50 md:hidden safe-area-bottom shadow-[0_-4px_16px_-2px_rgba(0,0,0,0.12)]",children:a.jsxs("div",{className:"flex items-stretch justify-around h-[calc(4rem+env(safe-area-inset-bottom,0px))]",children:[ay.map(u=>{const p=c(u.path);return a.jsxs(Qe,{to:u.path,onClick:()=>o(!1),className:Z("flex flex-col items-center justify-center flex-1 px-1 transition-all relative",p?u.activeColor:"text-gray-400 dark:text-gray-500"),children:[p&&a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-1 bg-primary-600 dark:bg-primary-400 rounded-full animate-nav-indicator"}),a.jsx("div",{className:Z("p-2 rounded-xl transition-colors",p&&"bg-primary-100/80 dark:bg-primary-900/30"),children:a.jsx(u.icon,{className:"w-6 h-6",strokeWidth:p?2.2:1.5})}),a.jsx("span",{className:"text-[10px] font-medium mt-1 truncate max-w-full px-0.5",children:e(u.labelKey)})]},u.path)}),a.jsxs("button",{onClick:()=>o(!n),className:Z("flex flex-col items-center justify-center flex-1 px-1 transition-all relative",l||n?"text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500"),children:[n&&a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary-500 dark:bg-primary-400 rounded-full animate-nav-indicator"}),a.jsx("div",{className:Z("p-2 rounded-xl transition-colors",n&&"bg-primary-50 dark:bg-primary-900/20"),children:a.jsx(oy,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-[10px] font-medium mt-1",children:e("nav.more")})]})]})})]})}const cy=[{path:"/",icon:Za,labelKey:"nav.home"},{path:"/transactions",icon:Xt,labelKey:"nav.transactions"},{path:"/accounts",icon:sn,labelKey:"nav.accounts"},{path:"/budget",icon:Tr,labelKey:"nav.budget"},{path:"/analytics",icon:Un,labelKey:"nav.analytics"},{path:"/benchmark",icon:Np,labelKey:"nav.benchmark"},{path:"/goals",icon:Qt,labelKey:"nav.goals"},{path:"/proxy",icon:Wn,labelKey:"nav.proxy"},{path:"/relocation",icon:tu,labelKey:"nav.relocation"},{path:"/gamification",icon:Vo,labelKey:"header.gamification"},{path:"/upload",icon:rr,labelKey:"header.upload"},{path:"/settings",icon:ts,labelKey:"nav.settings"}];function ly(){const{t:e}=Te("common"),t=rn(),{logout:r}=Bn(),[n,o]=y.useState(!1),c=l=>l==="/"?t.pathname==="/":t.pathname.startsWith(l);return a.jsxs("aside",{className:Z("hidden md:flex fixed left-0 top-0 h-screen flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 z-40 transition-[width] duration-200",n?"w-56":"w-16"),children:[a.jsxs(Qe,{to:"/",className:"flex items-center gap-2 px-4 h-16 border-b border-gray-200 dark:border-gray-700 shrink-0",children:[a.jsx("svg",{className:"w-7 h-7 text-primary-500 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),n&&a.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:"SmartMoney"})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-2 px-2 space-y-1",children:cy.map(l=>{const u=c(l.path);return a.jsxs(Qe,{to:l.path,title:n?void 0:e(l.labelKey),className:Z("flex items-center gap-3 rounded-lg transition-colors h-10",n?"px-3":"justify-center px-0",u?"bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"),children:[a.jsx(l.icon,{className:"w-5 h-5 shrink-0",strokeWidth:u?2:1.5}),n&&a.jsx("span",{className:"text-sm font-medium truncate",children:e(l.labelKey)})]},l.path)})}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-2 space-y-1",children:[a.jsxs("button",{onClick:r,title:n?void 0:e("auth.logout"),className:Z("flex items-center gap-3 rounded-lg transition-colors h-10 w-full text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",n?"px-3":"justify-center px-0"),children:[a.jsx(Ka,{className:"w-5 h-5 shrink-0",strokeWidth:1.5}),n&&a.jsx("span",{className:"text-sm font-medium",children:e("auth.logout")})]}),a.jsxs("button",{onClick:()=>o(!n),title:n?e("nav.collapse","Collapse"):e("nav.expand","Expand"),className:Z("flex items-center gap-3 rounded-lg transition-colors h-10 w-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700",n?"px-3":"justify-center px-0"),children:[n?a.jsx(qm,{className:"w-5 h-5 shrink-0"}):a.jsx(Bm,{className:"w-5 h-5 shrink-0"}),n&&a.jsx("span",{className:"text-sm font-medium",children:e("nav.collapse","Collapse")})]})]})]})}async function fu(e){const t=new URLSearchParams;e!=null&&e.includeInactive&&t.append("include_inactive","true");const n=`/api/accounts/${t.toString()?`?${t.toString()}`:""}`;return(await oe.get(n)).data}async function uy(e){return(await oe.get(`/api/accounts/${e}`)).data}async function dy(e){return(await oe.post("/api/accounts/",e)).data}async function fy(e,t){return(await oe.patch(`/api/accounts/${e}`,t)).data}function rs(e=!1){return Ye({queryKey:["accounts",{includeInactive:e}],queryFn:()=>fu({includeInactive:e}),staleTime:1e3*60*5})}function qj(e){return Ye({queryKey:["accounts",e],queryFn:()=>uy(e),staleTime:1e3*60*5,enabled:!!e})}function $j(){const e=Tt();return tr({mutationFn:t=>dy(t),onSuccess:()=>{e.invalidateQueries({queryKey:["accounts"]})}})}function Bj(){const e=Tt();return tr({mutationFn:({id:t,data:r})=>fy(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:["accounts",r.id]}),e.invalidateQueries({queryKey:["accounts"]})}})}async function hy(){return(await oe.get("/api/exchange-rates")).data}function cn(){return Ye({queryKey:["exchange-rates"],queryFn:hy,staleTime:24*60*60*1e3,gcTime:48*60*60*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!1})}function my(){const{data:e}=cn();return(e==null?void 0:e.rates)||{}}async function hu(e){return(await oe.post("/api/proxy/purchase",e)).data}async function py(){return(await oe.get("/api/proxy/outstanding")).data}async function gy(e){return(await oe.post("/api/proxy/settle",e)).data}const Ge=y.forwardRef(({variant:e="primary",size:t="md",loading:r=!1,className:n,children:o,disabled:c,...l},u)=>{const p=c||r;return a.jsxs("button",{ref:u,disabled:p,className:Z("inline-flex items-center justify-center gap-2 font-medium rounded-lg","transition-all duration-200 ease-out focus-ring","active:scale-[0.97] active:transition-none","disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",{"bg-primary-600 text-white hover:bg-primary-700 shadow-md hover:shadow-lg hover:-translate-y-0.5":e==="primary","bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-600 hover:-translate-y-0.5":e==="secondary","border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800":e==="outline","text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 hover:-translate-y-0.5":e==="ghost","bg-red-600 text-white hover:bg-red-700 shadow-sm hover:shadow-md":e==="danger"},{"px-3 py-1.5 text-sm":t==="sm","px-5 py-2.5":t==="md","px-8 py-4 text-lg":t==="lg"},n),...l,children:[r&&a.jsx(zo,{className:Z("animate-spin",t==="sm"?"w-3 h-3":t==="lg"?"w-5 h-5":"w-4 h-4")}),o]})});Ge.displayName="Button";function ja(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function yy({item:e,index:t,onUpdate:r,onDelete:n,onQuickMarkup:o,showDelete:c,disabled:l,inputRef:u}){const{t:p}=Te("common");return a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"sm:hidden space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:["#",t+1]}),c&&a.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded min-w-[44px] min-h-[44px] flex items-center justify-center",disabled:l,"aria-label":p("button.delete"),children:a.jsx(No,{className:"w-4 h-4"})})]}),a.jsx("input",{ref:u,value:e.item,onChange:m=>r(e.id,"item",m.target.value),placeholder:p("proxy.itemPlaceholder","e.g., iPhone case"),className:"w-full px-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",disabled:l}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:p("proxy.cost")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.cost,onChange:m=>r(e.id,"cost",ja(m.target.value)),placeholder:"1,000",className:"w-full pl-7 pr-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",inputMode:"numeric",disabled:l})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-gray-500 mb-1 block",children:p("proxy.markupPrice")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.markupPrice,onChange:m=>r(e.id,"markupPrice",ja(m.target.value)),placeholder:"1,200",className:"w-full pl-7 pr-3 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm min-h-[44px]",inputMode:"numeric",disabled:l})]})]})]}),a.jsx("div",{className:"flex gap-2",children:[10,15,20].map(m=>a.jsxs("button",{onClick:()=>o(e.id,m),className:"flex-1 px-2 py-2 text-xs bg-gray-200 dark:bg-gray-600 rounded hover:bg-gray-300 dark:hover:bg-gray-500 min-h-[44px]",disabled:l||!e.cost,children:["+",m,"%"]},m))})]}),a.jsxs("div",{className:"hidden sm:grid sm:grid-cols-12 sm:gap-3 sm:items-center",children:[a.jsx("div",{className:"col-span-1 text-gray-400 text-sm text-center",children:t+1}),a.jsx("div",{className:"col-span-4",children:a.jsx("input",{ref:u,value:e.item,onChange:m=>r(e.id,"item",m.target.value),placeholder:p("proxy.itemPlaceholder","e.g., iPhone case"),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",disabled:l})}),a.jsx("div",{className:"col-span-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.cost,onChange:m=>r(e.id,"cost",ja(m.target.value)),placeholder:"1,000",className:"w-full pl-6 pr-2 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",inputMode:"numeric",disabled:l})]})}),a.jsx("div",{className:"col-span-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:""}),a.jsx("input",{value:e.markupPrice,onChange:m=>r(e.id,"markupPrice",ja(m.target.value)),placeholder:"1,200",className:"w-full pl-6 pr-2 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",inputMode:"numeric",disabled:l})]}),a.jsx("div",{className:"flex gap-1",children:[10,15,20].map(m=>a.jsxs("button",{onClick:()=>o(e.id,m),className:Z("px-1.5 py-1 text-xs rounded transition-colors",e.cost?"bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500":"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed"),disabled:l||!e.cost,children:["+",m,"%"]},m))})]})}),a.jsx("div",{className:"col-span-1 text-center",children:c&&a.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",disabled:l,"aria-label":p("button.delete"),children:a.jsx(No,{className:"w-4 h-4"})})})]})]})}function Na(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function by({items:e,exchangeRate:t}){const{t:r}=Te("common"),n=y.useMemo(()=>{const o=e.filter(b=>b.item.trim()||Na(b.cost)>0),c=e.reduce((b,x)=>b+Na(x.cost),0),l=e.reduce((b,x)=>{const _=Na(x.markupPrice),A=Na(x.cost);return b+(_||A)},0),u=l-c,p=l*t,m=c>0?u/c*100:0;return{itemCount:o.length,totalCost:c,totalMarkup:l,profitJpy:u,clientPaysVnd:p,marginPct:m}},[e,t]);return a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.totalCost","Total Cost"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.totalCost.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.totalMarkup","Total Markup"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.totalMarkup.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.clientPays","Client Pays"),":"]}),a.jsxs("span",{className:"font-bold ml-2",children:["",n.clientPaysVnd.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[r("proxy.yourProfit","Your Profit"),":"]}),a.jsxs("span",{className:Z("font-bold ml-2",n.profitJpy>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["",n.profitJpy.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r("proxy.margin","Margin"),":"]}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:Z("h-full rounded-full transition-[width]",n.marginPct>=20?"bg-green-500":n.marginPct>=10?"bg-yellow-500":"bg-red-500"),style:{width:`${Math.min(100,Math.max(0,n.marginPct))}%`}})}),a.jsxs("span",{className:Z("text-sm font-medium min-w-[50px] text-right",n.marginPct>=20?"text-green-600 dark:text-green-400":n.marginPct>=10?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[n.marginPct.toFixed(1),"%"]})]})]})}function xy(){return Math.random().toString(36).substring(2,9)}function Gs(){return{id:xy(),item:"",cost:"",markupPrice:"",notes:""}}function $r(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function jc(){return new Date().toISOString().split("T")[0]}function vy({isOpen:e,onClose:t}){const{t:r}=Te("common"),n=Tt(),{data:o=[]}=rs(),{data:c}=cn(),l=y.useRef(null),[u,p]=y.useState(null),[m,b]=y.useState([Gs()]),[x,_]=y.useState(""),[A,k]=y.useState(null),[j,O]=y.useState(jc()),[U,W]=y.useState({}),[B,q]=y.useState(!1),[J,Y]=y.useState({current:0,total:0}),Q=y.useMemo(()=>o.filter(V=>V.type==="receivable"&&V.is_active),[o]),ge=y.useMemo(()=>o.filter(V=>V.type!=="receivable"&&V.is_active),[o]),Se=y.useMemo(()=>{var V;return(V=c==null?void 0:c.rates)!=null&&V.VND?c.rates.VND:170},[c]);y.useEffect(()=>{e&&(p(null),b([Gs()]),_(Se.toFixed(1)),k(null),O(jc()),W({}),q(!1),Y({current:0,total:0}))},[e,Se]);const Me=(V,G,ue)=>{b(pe=>pe.map(Ee=>Ee.id===V?{...Ee,[G]:ue}:Ee))},fe=V=>{m.length>1&&b(G=>G.filter(ue=>ue.id!==V))},ce=()=>{const V=Gs();b(G=>[...G,V]),setTimeout(()=>{var G;return(G=l.current)==null?void 0:G.focus()},100)},Oe=(V,G)=>{b(ue=>ue.map(pe=>{if(pe.id!==V)return pe;const Ee=$r(pe.cost),X=Math.round(Ee*(1+G/100));return{...pe,markupPrice:X.toLocaleString("en-US")}}))},we=()=>{const V={};return u||(V.client=r("proxy.errors.clientRequired","Client is required")),A||(V.payment=r("proxy.errors.paymentRequired","Payment method is required")),(!x||parseFloat(x)<=0)&&(V.rate=r("proxy.errors.rateRequired","Exchange rate is required")),m.filter(ue=>ue.item.trim()&&$r(ue.cost)>0).length===0&&(V.items=r("proxy.errors.itemsRequired","At least one item is required")),W(V),Object.keys(V).length===0},F=async()=>{var G;if(!we())return;q(!0);const V=m.filter(ue=>ue.item.trim()&&$r(ue.cost)>0);Y({current:0,total:V.length});try{for(let ue=0;ue<V.length;ue++){const pe=V[ue];await hu({client_account_id:u,item:pe.item.trim(),cost:$r(pe.cost),payment_account_id:A,markup_price:$r(pe.markupPrice)||$r(pe.cost),exchange_rate:parseFloat(x),purchase_date:j,notes:((G=pe.notes)==null?void 0:G.trim())||void 0}),Y({current:ue+1,total:V.length})}n.invalidateQueries({queryKey:["proxy-outstanding"]}),n.invalidateQueries({queryKey:["transactions"]}),n.invalidateQueries({queryKey:["accounts"]}),t()}catch(ue){console.error("Failed to create proxy purchases:",ue),W({submit:r("proxy.errors.submitFailed","Failed to create purchases")})}finally{q(!1)}};if(Q.find(V=>V.id===u),!e)return null;const z=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"w-5 h-5 text-orange-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:r("proxy.cartTitle","Proxy Cart")}),m.length>0&&a.jsxs("span",{className:"px-2 py-0.5 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-full",children:[m.filter(V=>V.item.trim()).length," ",r("proxy.items","items")]})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:B,children:a.jsx(wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.client")," *"]}),a.jsxs("select",{value:u||"",onChange:V=>p(Number(V.target.value)||null),className:Z("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700 text-sm",U.client?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:B,children:[a.jsx("option",{value:"",children:r("proxy.selectClient")}),Q.map(V=>a.jsx("option",{value:V.id,children:V.name.replace("Receivable: ","")},V.id))]}),U.client&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.client}),Q.length===0&&a.jsx("p",{className:"text-amber-600 text-xs mt-1",children:r("proxy.noClients")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.paymentMethod")," *"]}),a.jsxs("select",{value:A||"",onChange:V=>k(Number(V.target.value)||null),className:Z("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700 text-sm",U.payment?"border-red-500":"border-gray-300 dark:border-gray-600"),disabled:B,children:[a.jsx("option",{value:"",children:r("proxy.selectPayment")}),ge.map(V=>a.jsx("option",{value:V.id,children:V.name},V.id))]}),U.payment&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.payment})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.purchaseDate")}),a.jsx("input",{type:"date",value:j,onChange:V=>O(V.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-sm",disabled:B})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.exchangeRate")}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:x,onChange:V=>_(V.target.value),placeholder:"170",className:Z("w-full px-3 py-2 pr-20 rounded-lg border bg-white dark:bg-gray-700 text-sm",U.rate?"border-red-500":"border-gray-300 dark:border-gray-600"),inputMode:"decimal",disabled:B}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-xs",children:"VND/JPY"})]}),U.rate&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:U.rate})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"block text-sm font-medium",children:[r("proxy.itemList","Items")," *"]}),a.jsxs("button",{onClick:ce,className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/20 rounded",disabled:B,children:[a.jsx(es,{className:"w-3 h-3"}),r("proxy.addItem","Add Item")]})]}),U.items&&a.jsx("p",{className:"text-red-500 text-xs mb-2",children:U.items}),a.jsx("div",{className:"space-y-2",children:m.map((V,G)=>a.jsx(yy,{item:V,index:G,onUpdate:Me,onDelete:fe,onQuickMarkup:Oe,showDelete:m.length>1,disabled:B,inputRef:G===m.length-1?l:void 0},V.id))})]}),a.jsx(by,{items:m,exchangeRate:parseFloat(x)||Se}),U.submit&&a.jsx("p",{className:"text-red-500 text-sm text-center",children:U.submit})]}),a.jsxs("div",{className:"flex justify-between items-center p-4 border-t border-gray-200 dark:border-gray-700 flex-shrink-0",children:[a.jsx(Ge,{variant:"secondary",onClick:t,disabled:B,children:r("button.cancel")}),a.jsxs("div",{className:"flex items-center gap-3",children:[B&&a.jsxs("span",{className:"text-sm text-gray-500",children:[J.current,"/",J.total]}),a.jsx(Ge,{onClick:F,disabled:B||Q.length===0,children:B?r("proxy.creating","Creating..."):r("proxy.createPurchases","Create Purchases")})]})]})]})]});return typeof document>"u"?null:Ft.createPortal(z,document.body)}const wy=["/transactions"];function ky({onAddTransaction:e}){const{t}=Te("common"),r=Pt(),n=rn(),[o,c]=y.useState(!1),[l,u]=y.useState(!1);if(wy.includes(n.pathname))return null;const p=[{icon:a.jsx(Ql,{size:20}),label:t("transaction.addTransaction","Add Transaction"),onClick:()=>{c(!1),e?e():r({to:"/transactions",search:{action:"add-transaction"}})},color:"bg-green-500 hover:bg-green-600"},{icon:a.jsx(Xt,{size:20}),label:t("receipt.scanReceipt","Scan Receipt"),onClick:()=>{c(!1),r({to:"/transactions",search:{action:"scan-receipt"}})},color:"bg-purple-500 hover:bg-purple-600"},{icon:a.jsx(rr,{size:20}),label:t("header.upload","Upload CSV"),onClick:()=>{c(!1),r({to:"/upload"})},color:"bg-blue-500 hover:bg-blue-600"},{icon:a.jsx(Wn,{size:20}),label:t("proxy.title","Proxy Purchase"),onClick:()=>{c(!1),u(!0)},color:"bg-orange-500 hover:bg-orange-600"}];return a.jsxs(a.Fragment,{children:[o&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-[101] md:hidden animate-fade-in",onClick:()=>c(!1)}),a.jsxs("div",{className:"fixed bottom-20 right-4 z-[102] md:hidden flex flex-col-reverse items-end gap-3",children:[o&&a.jsx("div",{className:"flex flex-col-reverse gap-3 mb-2",children:p.map((m,b)=>a.jsxs("button",{onClick:m.onClick,className:Z("flex items-center gap-3 pl-4 pr-5 py-3 rounded-full text-white shadow-lg","animate-fab-item",m.color),style:{"--fab-index":b},children:[m.icon,a.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:m.label})]},b))}),a.jsx("button",{onClick:()=>c(!o),className:Z("w-14 h-14 rounded-full shadow-lg flex items-center justify-center","transform transition-all duration-300","active:scale-95",o?"bg-gray-700 dark:bg-gray-600 rotate-45":"bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600"),"aria-label":o?t("close","Close"):t("fab.quickActions","Quick Actions"),children:o?a.jsx(wt,{size:24,className:"text-white"}):a.jsx(es,{size:24,className:"text-white"})})]}),a.jsx(vy,{isOpen:l,onClose:()=>u(!1)})]})}function jy({children:e,className:t}){const r=rn(),[n,o]=y.useState("enter"),[c,l]=y.useState(e),u=y.useRef(r.pathname);return y.useEffect(()=>{if(u.current===r.pathname){l(e);return}u.current=r.pathname,o("exit");const p=setTimeout(()=>{l(e),o("enter")},120);return()=>clearTimeout(p)},[r.pathname]),y.useEffect(()=>{u.current===r.pathname&&l(e)},[e,r.pathname]),a.jsx("div",{className:Z("transition-[opacity,transform] ease-out",n==="enter"?"duration-250 opacity-100 translate-y-0":"duration-100 opacity-0 translate-y-1",t),children:c})}var Nc=1,Ny=.9,Sy=.8,_y=.17,Xs=.1,Qs=.999,Cy=.9999,Ey=.99,Py=/[\\\/_+.#"@\[\(\{&]/,Ty=/[\\\/_+.#"@\[\(\{&]/g,Ay=/[\s-]/,mu=/[\s-]/g;function Eo(e,t,r,n,o,c,l){if(c===t.length)return o===e.length?Nc:Ey;var u=`${o},${c}`;if(l[u]!==void 0)return l[u];for(var p=n.charAt(c),m=r.indexOf(p,o),b=0,x,_,A,k;m>=0;)x=Eo(e,t,r,n,m+1,c+1,l),x>b&&(m===o?x*=Nc:Py.test(e.charAt(m-1))?(x*=Sy,A=e.slice(o,m-1).match(Ty),A&&o>0&&(x*=Math.pow(Qs,A.length))):Ay.test(e.charAt(m-1))?(x*=Ny,k=e.slice(o,m-1).match(mu),k&&o>0&&(x*=Math.pow(Qs,k.length))):(x*=_y,o>0&&(x*=Math.pow(Qs,m-o))),e.charAt(m)!==t.charAt(c)&&(x*=Cy)),(x<Xs&&r.charAt(m-1)===n.charAt(c+1)||n.charAt(c+1)===n.charAt(c)&&r.charAt(m-1)!==n.charAt(c))&&(_=Eo(e,t,r,n,m+1,c+2,l),_*Xs>x&&(x=_*Xs)),x>b&&(b=x),m=r.indexOf(p,m+1);return l[u]=b,b}function Sc(e){return e.toLowerCase().replace(mu," ")}function Oy(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Eo(e,t,Sc(e),Sc(t),0,0,{})}function Gt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function _c(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Jt(...e){return t=>{let r=!1;const n=e.map(o=>{const c=_c(o,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let o=0;o<n.length;o++){const c=n[o];typeof c=="function"?c():_c(e[o],null)}}}}function Ar(...e){return y.useCallback(Jt(...e),e)}function Ry(e,t){const r=y.createContext(t),n=c=>{const{children:l,...u}=c,p=y.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:p,children:l})};n.displayName=e+"Provider";function o(c){const l=y.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[n,o]}function My(e,t=[]){let r=[];function n(c,l){const u=y.createContext(l),p=r.length;r=[...r,l];const m=x=>{var U;const{scope:_,children:A,...k}=x,j=((U=_==null?void 0:_[e])==null?void 0:U[p])||u,O=y.useMemo(()=>k,Object.values(k));return a.jsx(j.Provider,{value:O,children:A})};m.displayName=c+"Provider";function b(x,_){var j;const A=((j=_==null?void 0:_[e])==null?void 0:j[p])||u,k=y.useContext(A);if(k)return k;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,b]}const o=()=>{const c=r.map(l=>y.createContext(l));return function(u){const p=(u==null?void 0:u[e])||c;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:p}}),[u,p])}};return o.scopeName=e,[n,Dy(o,...t)]}function Dy(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const l=n.reduce((u,{useScope:p,scopeName:m})=>{const x=p(c)[`__scope${m}`];return{...u,...x}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}var On=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Iy=Io[" useId ".trim().toString()]||(()=>{}),Fy=0;function Mt(e){const[t,r]=y.useState(Iy());return On(()=>{r(n=>n??String(Fy++))},[e]),t?`radix-${t}`:""}var Ly=Io[" useInsertionEffect ".trim().toString()]||On;function qy({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,c,l]=$y({defaultProp:t,onChange:r}),u=e!==void 0,p=u?e:o;{const b=y.useRef(e!==void 0);y.useEffect(()=>{const x=b.current;x!==u&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=u},[u,n])}const m=y.useCallback(b=>{var x;if(u){const _=By(b)?b(e):b;_!==e&&((x=l.current)==null||x.call(l,_))}else c(b)},[u,e,c,l]);return[p,m]}function $y({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),o=y.useRef(r),c=y.useRef(t);return Ly(()=>{c.current=t},[t]),y.useEffect(()=>{var l;o.current!==r&&((l=c.current)==null||l.call(c,r),o.current=r)},[r,o]),[r,n,c]}function By(e){return typeof e=="function"}function Hn(e){const t=Ky(e),r=y.forwardRef((n,o)=>{const{children:c,...l}=n,u=y.Children.toArray(c),p=u.find(Wy);if(p){const m=p.props.children,b=u.map(x=>x===p?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...l,ref:o,children:y.isValidElement(m)?y.cloneElement(m,void 0,b):null})}return a.jsx(t,{...l,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function Ky(e){const t=y.forwardRef((r,n)=>{const{children:o,...c}=r;if(y.isValidElement(o)){const l=Hy(o),u=zy(c,o.props);return o.type!==y.Fragment&&(u.ref=n?Jt(n,l):l),y.cloneElement(o,u)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Uy=Symbol("radix.slottable");function Wy(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Uy}function zy(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...u)=>{const p=c(...u);return o(...u),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function Hy(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vy=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pu=Vy.reduce((e,t)=>{const r=Hn(`Primitive.${t}`),n=y.forwardRef((o,c)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Yy(e,t){e&&Ft.flushSync(()=>e.dispatchEvent(t))}function Rn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Gy(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e);y.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Xy="DismissableLayer",Po="dismissableLayer.update",Qy="dismissableLayer.pointerDownOutside",Jy="dismissableLayer.focusOutside",Cc,gu=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yu=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:l,onDismiss:u,...p}=e,m=y.useContext(gu),[b,x]=y.useState(null),_=(b==null?void 0:b.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=y.useState({}),k=Ar(t,Q=>x(Q)),j=Array.from(m.layers),[O]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),U=j.indexOf(O),W=b?j.indexOf(b):-1,B=m.layersWithOutsidePointerEventsDisabled.size>0,q=W>=U,J=t0(Q=>{const ge=Q.target,Se=[...m.branches].some(Me=>Me.contains(ge));!q||Se||(o==null||o(Q),l==null||l(Q),Q.defaultPrevented||u==null||u())},_),Y=r0(Q=>{const ge=Q.target;[...m.branches].some(Me=>Me.contains(ge))||(c==null||c(Q),l==null||l(Q),Q.defaultPrevented||u==null||u())},_);return Gy(Q=>{W===m.layers.size-1&&(n==null||n(Q),!Q.defaultPrevented&&u&&(Q.preventDefault(),u()))},_),y.useEffect(()=>{if(b)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Cc=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(b)),m.layers.add(b),Ec(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=Cc)}},[b,_,r,m]),y.useEffect(()=>()=>{b&&(m.layers.delete(b),m.layersWithOutsidePointerEventsDisabled.delete(b),Ec())},[b,m]),y.useEffect(()=>{const Q=()=>A({});return document.addEventListener(Po,Q),()=>document.removeEventListener(Po,Q)},[]),a.jsx(pu.div,{...p,ref:k,style:{pointerEvents:B?q?"auto":"none":void 0,...e.style},onFocusCapture:Gt(e.onFocusCapture,Y.onFocusCapture),onBlurCapture:Gt(e.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:Gt(e.onPointerDownCapture,J.onPointerDownCapture)})});yu.displayName=Xy;var Zy="DismissableLayerBranch",e0=y.forwardRef((e,t)=>{const r=y.useContext(gu),n=y.useRef(null),o=Ar(t,n);return y.useEffect(()=>{const c=n.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),a.jsx(pu.div,{...e,ref:o})});e0.displayName=Zy;function t0(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e),n=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const c=u=>{if(u.target&&!n.current){let p=function(){bu(Qy,r,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=p,t.addEventListener("click",o.current,{once:!0})):p()}else t.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",c),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function r0(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e),n=y.useRef(!1);return y.useEffect(()=>{const o=c=>{c.target&&!n.current&&bu(Jy,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ec(){const e=new CustomEvent(Po);document.dispatchEvent(e)}function bu(e,t,r,{discrete:n}){const o=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Yy(o,c):o.dispatchEvent(c)}var n0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],a0=n0.reduce((e,t)=>{const r=Hn(`Primitive.${t}`),n=y.forwardRef((o,c)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Js="focusScope.autoFocusOnMount",Zs="focusScope.autoFocusOnUnmount",Pc={bubbles:!1,cancelable:!0},s0="FocusScope",xu=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...l}=e,[u,p]=y.useState(null),m=Rn(o),b=Rn(c),x=y.useRef(null),_=Ar(t,j=>p(j)),A=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let j=function(B){if(A.paused||!u)return;const q=B.target;u.contains(q)?x.current=q:Yt(x.current,{select:!0})},O=function(B){if(A.paused||!u)return;const q=B.relatedTarget;q!==null&&(u.contains(q)||Yt(x.current,{select:!0}))},U=function(B){if(document.activeElement===document.body)for(const J of B)J.removedNodes.length>0&&Yt(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",O);const W=new MutationObserver(U);return u&&W.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",O),W.disconnect()}}},[n,u,A.paused]),y.useEffect(()=>{if(u){Ac.add(A);const j=document.activeElement;if(!u.contains(j)){const U=new CustomEvent(Js,Pc);u.addEventListener(Js,m),u.dispatchEvent(U),U.defaultPrevented||(o0(d0(vu(u)),{select:!0}),document.activeElement===j&&Yt(u))}return()=>{u.removeEventListener(Js,m),setTimeout(()=>{const U=new CustomEvent(Zs,Pc);u.addEventListener(Zs,b),u.dispatchEvent(U),U.defaultPrevented||Yt(j??document.body,{select:!0}),u.removeEventListener(Zs,b),Ac.remove(A)},0)}}},[u,m,b,A]);const k=y.useCallback(j=>{if(!r&&!n||A.paused)return;const O=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,U=document.activeElement;if(O&&U){const W=j.currentTarget,[B,q]=i0(W);B&&q?!j.shiftKey&&U===q?(j.preventDefault(),r&&Yt(B,{select:!0})):j.shiftKey&&U===B&&(j.preventDefault(),r&&Yt(q,{select:!0})):U===W&&j.preventDefault()}},[r,n,A.paused]);return a.jsx(a0.div,{tabIndex:-1,...l,ref:_,onKeyDown:k})});xu.displayName=s0;function o0(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Yt(n,{select:t}),document.activeElement!==r)return}function i0(e){const t=vu(e),r=Tc(t,e),n=Tc(t.reverse(),e);return[r,n]}function vu(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tc(e,t){for(const r of e)if(!c0(r,{upTo:t}))return r}function c0(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function l0(e){return e instanceof HTMLInputElement&&"select"in e}function Yt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&l0(e)&&t&&e.select()}}var Ac=u0();function u0(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Oc(e,t),e.unshift(t)},remove(t){var r;e=Oc(e,t),(r=e[0])==null||r.resume()}}}function Oc(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function d0(e){return e.filter(t=>t.tagName!=="A")}var f0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h0=f0.reduce((e,t)=>{const r=Hn(`Primitive.${t}`),n=y.forwardRef((o,c)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),m0="Portal",wu=y.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[o,c]=y.useState(!1);On(()=>c(!0),[]);const l=r||o&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?tf.createPortal(a.jsx(h0.div,{...n,ref:t}),l):null});wu.displayName=m0;function p0(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var ns=e=>{const{present:t,children:r}=e,n=g0(t),o=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),c=Ar(n.ref,y0(o));return typeof r=="function"||n.isPresent?y.cloneElement(o,{ref:c}):null};ns.displayName="Presence";function g0(e){const[t,r]=y.useState(),n=y.useRef(null),o=y.useRef(e),c=y.useRef("none"),l=e?"mounted":"unmounted",[u,p]=p0(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const m=Sa(n.current);c.current=u==="mounted"?m:"none"},[u]),On(()=>{const m=n.current,b=o.current;if(b!==e){const _=c.current,A=Sa(m);e?p("MOUNT"):A==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(b&&_!==A?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,p]),On(()=>{if(t){let m;const b=t.ownerDocument.defaultView??window,x=A=>{const j=Sa(n.current).includes(CSS.escape(A.animationName));if(A.target===t&&j&&(p("ANIMATION_END"),!o.current)){const O=t.style.animationFillMode;t.style.animationFillMode="forwards",m=b.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=O)})}},_=A=>{A.target===t&&(c.current=Sa(n.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{b.clearTimeout(m),t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(m=>{n.current=m?getComputedStyle(m):null,r(m)},[])}}function Sa(e){return(e==null?void 0:e.animationName)||"none"}function y0(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var b0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vn=b0.reduce((e,t)=>{const r=Hn(`Primitive.${t}`),n=y.forwardRef((o,c)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eo=0;function x0(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Rc()),document.body.insertAdjacentElement("beforeend",e[1]??Rc()),eo++,()=>{eo===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eo--}},[])}function Rc(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var To=function(e,t){return To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},To(e,t)};function Kj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");To(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Et=function(){return Et=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},Et.apply(this,arguments)};function ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function v0(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,c;n<o;n++)(c||!(n in t))&&(c||(c=Array.prototype.slice.call(t,0,n)),c[n]=t[n]);return e.concat(c||Array.prototype.slice.call(t))}var La="right-scroll-bar-position",qa="width-before-scroll-bar",w0="with-scroll-bars-hidden",k0="--removed-body-scroll-bar-size";function to(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function j0(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var N0=typeof window<"u"?y.useLayoutEffect:y.useEffect,Mc=new WeakMap;function S0(e,t){var r=j0(null,function(n){return e.forEach(function(o){return to(o,n)})});return N0(function(){var n=Mc.get(r);if(n){var o=new Set(n),c=new Set(e),l=r.current;o.forEach(function(u){c.has(u)||to(u,null)}),c.forEach(function(u){o.has(u)||to(u,l)})}Mc.set(r,e)},[e]),r}function _0(e){return e}function C0(e,t){t===void 0&&(t=_0);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var l=t(c,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(c){for(n=!0;r.length;){var l=r;r=[],l.forEach(c)}r={push:function(u){return c(u)},filter:function(){return r}}},assignMedium:function(c){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(c),l=r}var p=function(){var b=l;l=[],b.forEach(c)},m=function(){return Promise.resolve().then(p)};m(),r={push:function(b){l.push(b),m()},filter:function(b){return l=l.filter(b),r}}}};return o}function E0(e){e===void 0&&(e={});var t=C0(null);return t.options=Et({async:!0,ssr:!1},e),t}var ju=function(e){var t=e.sideCar,r=ku(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Et({},r))};ju.isSideCarExport=!0;function P0(e,t){return e.useMedium(t),ju}var Nu=E0(),ro=function(){},as=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:ro,onWheelCapture:ro,onTouchMoveCapture:ro}),o=n[0],c=n[1],l=e.forwardProps,u=e.children,p=e.className,m=e.removeScrollBar,b=e.enabled,x=e.shards,_=e.sideCar,A=e.noRelative,k=e.noIsolation,j=e.inert,O=e.allowPinchZoom,U=e.as,W=U===void 0?"div":U,B=e.gapMode,q=ku(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=_,Y=S0([r,t]),Q=Et(Et({},q),o);return y.createElement(y.Fragment,null,b&&y.createElement(J,{sideCar:Nu,removeScrollBar:m,shards:x,noRelative:A,noIsolation:k,inert:j,setCallbacks:c,allowPinchZoom:!!O,lockRef:r,gapMode:B}),l?y.cloneElement(y.Children.only(u),Et(Et({},Q),{ref:Y})):y.createElement(W,Et({},Q,{className:p,ref:Y}),u))});as.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};as.classNames={fullWidth:qa,zeroRight:La};var T0=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function A0(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=T0();return t&&e.setAttribute("nonce",t),e}function O0(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R0(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var M0=function(){var e=0,t=null;return{add:function(r){e==0&&(t=A0())&&(O0(t,r),R0(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},D0=function(){var e=M0();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Su=function(){var e=D0(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},I0={left:0,top:0,right:0,gap:0},no=function(e){return parseInt(e||"",10)||0},F0=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[no(r),no(n),no(o)]},L0=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return I0;var t=F0(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},q0=Su(),Jr="data-scroll-locked",$0=function(e,t,r,n){var o=e.left,c=e.top,l=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(w0,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Jr,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(La,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(qa,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(La," .").concat(La,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qa," .").concat(qa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jr,`] {
    `).concat(k0,": ").concat(u,`px;
  }
`)},Dc=function(){var e=parseInt(document.body.getAttribute(Jr)||"0",10);return isFinite(e)?e:0},B0=function(){y.useEffect(function(){return document.body.setAttribute(Jr,(Dc()+1).toString()),function(){var e=Dc()-1;e<=0?document.body.removeAttribute(Jr):document.body.setAttribute(Jr,e.toString())}},[])},K0=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;B0();var c=y.useMemo(function(){return L0(o)},[o]);return y.createElement(q0,{styles:$0(c,!t,o,r?"":"!important")})},Ao=!1;if(typeof window<"u")try{var _a=Object.defineProperty({},"passive",{get:function(){return Ao=!0,!0}});window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{Ao=!1}var Br=Ao?{passive:!1}:!1,U0=function(e){return e.tagName==="TEXTAREA"},_u=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!U0(e)&&r[t]==="visible")},W0=function(e){return _u(e,"overflowY")},z0=function(e){return _u(e,"overflowX")},Ic=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Cu(e,n);if(o){var c=Eu(e,n),l=c[1],u=c[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},H0=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},V0=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Cu=function(e,t){return e==="v"?W0(t):z0(t)},Eu=function(e,t){return e==="v"?H0(t):V0(t)},Y0=function(e,t){return e==="h"&&t==="rtl"?-1:1},G0=function(e,t,r,n,o){var c=Y0(e,window.getComputedStyle(t).direction),l=c*n,u=r.target,p=t.contains(u),m=!1,b=l>0,x=0,_=0;do{if(!u)break;var A=Eu(e,u),k=A[0],j=A[1],O=A[2],U=j-O-c*k;(k||U)&&Cu(e,u)&&(x+=U,_+=k);var W=u.parentNode;u=W&&W.nodeType===Node.DOCUMENT_FRAGMENT_NODE?W.host:W}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(b&&Math.abs(x)<1||!b&&Math.abs(_)<1)&&(m=!0),m},Ca=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fc=function(e){return[e.deltaX,e.deltaY]},Lc=function(e){return e&&"current"in e?e.current:e},X0=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Q0=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},J0=0,Kr=[];function Z0(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),o=y.useState(J0++)[0],c=y.useState(Su)[0],l=y.useRef(e);y.useEffect(function(){l.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=v0([e.lockRef.current],(e.shards||[]).map(Lc),!0).filter(Boolean);return j.forEach(function(O){return O.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(O){return O.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(j,O){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!l.current.allowPinchZoom;var U=Ca(j),W=r.current,B="deltaX"in j?j.deltaX:W[0]-U[0],q="deltaY"in j?j.deltaY:W[1]-U[1],J,Y=j.target,Q=Math.abs(B)>Math.abs(q)?"h":"v";if("touches"in j&&Q==="h"&&Y.type==="range")return!1;var ge=window.getSelection(),Se=ge&&ge.anchorNode,Me=Se?Se===Y||Se.contains(Y):!1;if(Me)return!1;var fe=Ic(Q,Y);if(!fe)return!0;if(fe?J=Q:(J=Q==="v"?"h":"v",fe=Ic(Q,Y)),!fe)return!1;if(!n.current&&"changedTouches"in j&&(B||q)&&(n.current=J),!J)return!0;var ce=n.current||J;return G0(ce,O,j,ce==="h"?B:q)},[]),p=y.useCallback(function(j){var O=j;if(!(!Kr.length||Kr[Kr.length-1]!==c)){var U="deltaY"in O?Fc(O):Ca(O),W=t.current.filter(function(J){return J.name===O.type&&(J.target===O.target||O.target===J.shadowParent)&&X0(J.delta,U)})[0];if(W&&W.should){O.cancelable&&O.preventDefault();return}if(!W){var B=(l.current.shards||[]).map(Lc).filter(Boolean).filter(function(J){return J.contains(O.target)}),q=B.length>0?u(O,B[0]):!l.current.noIsolation;q&&O.cancelable&&O.preventDefault()}}},[]),m=y.useCallback(function(j,O,U,W){var B={name:j,delta:O,target:U,should:W,shadowParent:eb(U)};t.current.push(B),setTimeout(function(){t.current=t.current.filter(function(q){return q!==B})},1)},[]),b=y.useCallback(function(j){r.current=Ca(j),n.current=void 0},[]),x=y.useCallback(function(j){m(j.type,Fc(j),j.target,u(j,e.lockRef.current))},[]),_=y.useCallback(function(j){m(j.type,Ca(j),j.target,u(j,e.lockRef.current))},[]);y.useEffect(function(){return Kr.push(c),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:_}),document.addEventListener("wheel",p,Br),document.addEventListener("touchmove",p,Br),document.addEventListener("touchstart",b,Br),function(){Kr=Kr.filter(function(j){return j!==c}),document.removeEventListener("wheel",p,Br),document.removeEventListener("touchmove",p,Br),document.removeEventListener("touchstart",b,Br)}},[]);var A=e.removeScrollBar,k=e.inert;return y.createElement(y.Fragment,null,k?y.createElement(c,{styles:Q0(o)}):null,A?y.createElement(K0,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tb=P0(Nu,Z0);var Pu=y.forwardRef(function(e,t){return y.createElement(as,Et({},e,{ref:t,sideCar:tb}))});Pu.classNames=as.classNames;var rb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ur=new WeakMap,Ea=new WeakMap,Pa={},ao=0,Tu=function(e){return e&&(e.host||Tu(e.parentNode))},nb=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Tu(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ab=function(e,t,r,n){var o=nb(t,Array.isArray(e)?e:[e]);Pa[r]||(Pa[r]=new WeakMap);var c=Pa[r],l=[],u=new Set,p=new Set(o),m=function(x){!x||u.has(x)||(u.add(x),m(x.parentNode))};o.forEach(m);var b=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(_){if(u.has(_))b(_);else try{var A=_.getAttribute(n),k=A!==null&&A!=="false",j=(Ur.get(_)||0)+1,O=(c.get(_)||0)+1;Ur.set(_,j),c.set(_,O),l.push(_),j===1&&k&&Ea.set(_,!0),O===1&&_.setAttribute(r,"true"),k||_.setAttribute(n,"true")}catch(U){console.error("aria-hidden: cannot operate on ",_,U)}})};return b(t),u.clear(),ao++,function(){l.forEach(function(x){var _=Ur.get(x)-1,A=c.get(x)-1;Ur.set(x,_),c.set(x,A),_||(Ea.has(x)||x.removeAttribute(n),Ea.delete(x)),A||x.removeAttribute(r)}),ao--,ao||(Ur=new WeakMap,Ur=new WeakMap,Ea=new WeakMap,Pa={})}},sb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=rb(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),ab(n,o,r,"aria-hidden")):function(){return null}},ss="Dialog",[Au]=My(ss),[ob,kt]=Au(ss),Ou=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:c,modal:l=!0}=e,u=y.useRef(null),p=y.useRef(null),[m,b]=qy({prop:n,defaultProp:o??!1,onChange:c,caller:ss});return a.jsx(ob,{scope:t,triggerRef:u,contentRef:p,contentId:Mt(),titleId:Mt(),descriptionId:Mt(),open:m,onOpenChange:b,onOpenToggle:y.useCallback(()=>b(x=>!x),[b]),modal:l,children:r})};Ou.displayName=ss;var Ru="DialogTrigger",ib=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=kt(Ru,r),c=Ar(t,o.triggerRef);return a.jsx(Vn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Qo(o.open),...n,ref:c,onClick:Gt(e.onClick,o.onOpenToggle)})});ib.displayName=Ru;var Go="DialogPortal",[cb,Mu]=Au(Go,{forceMount:void 0}),Du=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,c=kt(Go,t);return a.jsx(cb,{scope:t,forceMount:r,children:y.Children.map(n,l=>a.jsx(ns,{present:r||c.open,children:a.jsx(wu,{asChild:!0,container:o,children:l})}))})};Du.displayName=Go;var Wa="DialogOverlay",Iu=y.forwardRef((e,t)=>{const r=Mu(Wa,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,c=kt(Wa,e.__scopeDialog);return c.modal?a.jsx(ns,{present:n||c.open,children:a.jsx(ub,{...o,ref:t})}):null});Iu.displayName=Wa;var lb=Hn("DialogOverlay.RemoveScroll"),ub=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=kt(Wa,r);return a.jsx(Pu,{as:lb,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Vn.div,{"data-state":Qo(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),_r="DialogContent",Fu=y.forwardRef((e,t)=>{const r=Mu(_r,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,c=kt(_r,e.__scopeDialog);return a.jsx(ns,{present:n||c.open,children:c.modal?a.jsx(db,{...o,ref:t}):a.jsx(fb,{...o,ref:t})})});Fu.displayName=_r;var db=y.forwardRef((e,t)=>{const r=kt(_r,e.__scopeDialog),n=y.useRef(null),o=Ar(t,r.contentRef,n);return y.useEffect(()=>{const c=n.current;if(c)return sb(c)},[]),a.jsx(Lu,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Gt(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Gt(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&c.preventDefault()}),onFocusOutside:Gt(e.onFocusOutside,c=>c.preventDefault())})}),fb=y.forwardRef((e,t)=>{const r=kt(_r,e.__scopeDialog),n=y.useRef(!1),o=y.useRef(!1);return a.jsx(Lu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var l,u;(l=e.onCloseAutoFocus)==null||l.call(e,c),c.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),c.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:c=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,c),c.defaultPrevented||(n.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=c.target;((m=r.triggerRef.current)==null?void 0:m.contains(l))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),Lu=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:c,...l}=e,u=kt(_r,r),p=y.useRef(null),m=Ar(t,p);return x0(),a.jsxs(a.Fragment,{children:[a.jsx(xu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:c,children:a.jsx(yu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Qo(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(gb,{titleId:u.titleId}),a.jsx(bb,{contentRef:p,descriptionId:u.descriptionId})]})]})}),Xo="DialogTitle",hb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=kt(Xo,r);return a.jsx(Vn.h2,{id:o.titleId,...n,ref:t})});hb.displayName=Xo;var qu="DialogDescription",mb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=kt(qu,r);return a.jsx(Vn.p,{id:o.descriptionId,...n,ref:t})});mb.displayName=qu;var $u="DialogClose",pb=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=kt($u,r);return a.jsx(Vn.button,{type:"button",...n,ref:t,onClick:Gt(e.onClick,()=>o.onOpenChange(!1))})});pb.displayName=$u;function Qo(e){return e?"open":"closed"}var Bu="DialogTitleWarning",[Uj,Ku]=Ry(Bu,{contentName:_r,titleName:Xo,docsSlug:"dialog"}),gb=({titleId:e})=>{const t=Ku(Bu),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yb="DialogDescriptionWarning",bb=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ku(yb).contentName}}.`;return y.useEffect(()=>{var c;const o=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xb=Ou,vb=Du,wb=Iu,kb=Fu,jb=Symbol.for("react.lazy"),za=Io[" use ".trim().toString()];function Nb(e){return typeof e=="object"&&e!==null&&"then"in e}function Uu(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===jb&&"_payload"in e&&Nb(e._payload)}function Sb(e){const t=_b(e),r=y.forwardRef((n,o)=>{let{children:c,...l}=n;Uu(c)&&typeof za=="function"&&(c=za(c._payload));const u=y.Children.toArray(c),p=u.find(Eb);if(p){const m=p.props.children,b=u.map(x=>x===p?y.Children.count(m)>1?y.Children.only(null):y.isValidElement(m)?m.props.children:null:x);return a.jsx(t,{...l,ref:o,children:y.isValidElement(m)?y.cloneElement(m,void 0,b):null})}return a.jsx(t,{...l,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function _b(e){const t=y.forwardRef((r,n)=>{let{children:o,...c}=r;if(Uu(o)&&typeof za=="function"&&(o=za(o._payload)),y.isValidElement(o)){const l=Tb(o),u=Pb(c,o.props);return o.type!==y.Fragment&&(u.ref=n?Jt(n,l):l),y.cloneElement(o,u)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cb=Symbol("radix.slottable");function Eb(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cb}function Pb(e,t){const r={...t};for(const n in t){const o=e[n],c=t[n];/^on[A-Z]/.test(n)?o&&c?r[n]=(...u)=>{const p=c(...u);return o(...u),p}:o&&(r[n]=o):n==="style"?r[n]={...o,...c}:n==="className"&&(r[n]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function Tb(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ab=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nr=Ab.reduce((e,t)=>{const r=Sb(`Primitive.${t}`),n=y.forwardRef((o,c)=>{const{asChild:l,...u}=o,p=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...u,ref:c})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Cn='[cmdk-group=""]',so='[cmdk-group-items=""]',Ob='[cmdk-group-heading=""]',Wu='[cmdk-item=""]',qc=`${Wu}:not([aria-disabled="true"])`,Oo="cmdk-item-select",Yr="data-value",Rb=(e,t,r)=>Oy(e,t,r),zu=y.createContext(void 0),Yn=()=>y.useContext(zu),Hu=y.createContext(void 0),Jo=()=>y.useContext(Hu),Vu=y.createContext(void 0),Yu=y.forwardRef((e,t)=>{let r=Gr(()=>{var X,he;return{search:"",value:(he=(X=e.value)!=null?X:e.defaultValue)!=null?he:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Gr(()=>new Set),o=Gr(()=>new Map),c=Gr(()=>new Map),l=Gr(()=>new Set),u=Gu(e),{label:p,children:m,value:b,onValueChange:x,filter:_,shouldFilter:A,loop:k,disablePointerSelection:j=!1,vimBindings:O=!0,...U}=e,W=Mt(),B=Mt(),q=Mt(),J=y.useRef(null),Y=Wb();Cr(()=>{if(b!==void 0){let X=b.trim();r.current.value=X,Q.emit()}},[b]),Cr(()=>{Y(6,Oe)},[]);let Q=y.useMemo(()=>({subscribe:X=>(l.current.add(X),()=>l.current.delete(X)),snapshot:()=>r.current,setState:(X,he,ve)=>{var ye,re,Le,nt;if(!Object.is(r.current[X],he)){if(r.current[X]=he,X==="search")ce(),Me(),Y(1,fe);else if(X==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(q);de?de.focus():(ye=document.getElementById(W))==null||ye.focus()}if(Y(7,()=>{var de;r.current.selectedItemId=(de=we())==null?void 0:de.id,Q.emit()}),ve||Y(5,Oe),((re=u.current)==null?void 0:re.value)!==void 0){let de=he??"";(nt=(Le=u.current).onValueChange)==null||nt.call(Le,de);return}}Q.emit()}},emit:()=>{l.current.forEach(X=>X())}}),[]),ge=y.useMemo(()=>({value:(X,he,ve)=>{var ye;he!==((ye=c.current.get(X))==null?void 0:ye.value)&&(c.current.set(X,{value:he,keywords:ve}),r.current.filtered.items.set(X,Se(he,ve)),Y(2,()=>{Me(),Q.emit()}))},item:(X,he)=>(n.current.add(X),he&&(o.current.has(he)?o.current.get(he).add(X):o.current.set(he,new Set([X]))),Y(3,()=>{ce(),Me(),r.current.value||fe(),Q.emit()}),()=>{c.current.delete(X),n.current.delete(X),r.current.filtered.items.delete(X);let ve=we();Y(4,()=>{ce(),(ve==null?void 0:ve.getAttribute("id"))===X&&fe(),Q.emit()})}),group:X=>(o.current.has(X)||o.current.set(X,new Set),()=>{c.current.delete(X),o.current.delete(X)}),filter:()=>u.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:W,inputId:q,labelId:B,listInnerRef:J}),[]);function Se(X,he){var ve,ye;let re=(ye=(ve=u.current)==null?void 0:ve.filter)!=null?ye:Rb;return X?re(X,r.current.search,he):0}function Me(){if(!r.current.search||u.current.shouldFilter===!1)return;let X=r.current.filtered.items,he=[];r.current.filtered.groups.forEach(ye=>{let re=o.current.get(ye),Le=0;re.forEach(nt=>{let de=X.get(nt);Le=Math.max(de,Le)}),he.push([ye,Le])});let ve=J.current;F().sort((ye,re)=>{var Le,nt;let de=ye.getAttribute("id"),sr=re.getAttribute("id");return((Le=X.get(sr))!=null?Le:0)-((nt=X.get(de))!=null?nt:0)}).forEach(ye=>{let re=ye.closest(so);re?re.appendChild(ye.parentElement===re?ye:ye.closest(`${so} > *`)):ve.appendChild(ye.parentElement===ve?ye:ye.closest(`${so} > *`))}),he.sort((ye,re)=>re[1]-ye[1]).forEach(ye=>{var re;let Le=(re=J.current)==null?void 0:re.querySelector(`${Cn}[${Yr}="${encodeURIComponent(ye[0])}"]`);Le==null||Le.parentElement.appendChild(Le)})}function fe(){let X=F().find(ve=>ve.getAttribute("aria-disabled")!=="true"),he=X==null?void 0:X.getAttribute(Yr);Q.setState("value",he||void 0)}function ce(){var X,he,ve,ye;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let Le of n.current){let nt=(he=(X=c.current.get(Le))==null?void 0:X.value)!=null?he:"",de=(ye=(ve=c.current.get(Le))==null?void 0:ve.keywords)!=null?ye:[],sr=Se(nt,de);r.current.filtered.items.set(Le,sr),sr>0&&re++}for(let[Le,nt]of o.current)for(let de of nt)if(r.current.filtered.items.get(de)>0){r.current.filtered.groups.add(Le);break}r.current.filtered.count=re}function Oe(){var X,he,ve;let ye=we();ye&&(((X=ye.parentElement)==null?void 0:X.firstChild)===ye&&((ve=(he=ye.closest(Cn))==null?void 0:he.querySelector(Ob))==null||ve.scrollIntoView({block:"nearest"})),ye.scrollIntoView({block:"nearest"}))}function we(){var X;return(X=J.current)==null?void 0:X.querySelector(`${Wu}[aria-selected="true"]`)}function F(){var X;return Array.from(((X=J.current)==null?void 0:X.querySelectorAll(qc))||[])}function z(X){let he=F()[X];he&&Q.setState("value",he.getAttribute(Yr))}function V(X){var he;let ve=we(),ye=F(),re=ye.findIndex(nt=>nt===ve),Le=ye[re+X];(he=u.current)!=null&&he.loop&&(Le=re+X<0?ye[ye.length-1]:re+X===ye.length?ye[0]:ye[re+X]),Le&&Q.setState("value",Le.getAttribute(Yr))}function G(X){let he=we(),ve=he==null?void 0:he.closest(Cn),ye;for(;ve&&!ye;)ve=X>0?Kb(ve,Cn):Ub(ve,Cn),ye=ve==null?void 0:ve.querySelector(qc);ye?Q.setState("value",ye.getAttribute(Yr)):V(X)}let ue=()=>z(F().length-1),pe=X=>{X.preventDefault(),X.metaKey?ue():X.altKey?G(1):V(1)},Ee=X=>{X.preventDefault(),X.metaKey?z(0):X.altKey?G(-1):V(-1)};return y.createElement(nr.div,{ref:t,tabIndex:-1,...U,"cmdk-root":"",onKeyDown:X=>{var he;(he=U.onKeyDown)==null||he.call(U,X);let ve=X.nativeEvent.isComposing||X.keyCode===229;if(!(X.defaultPrevented||ve))switch(X.key){case"n":case"j":{O&&X.ctrlKey&&pe(X);break}case"ArrowDown":{pe(X);break}case"p":case"k":{O&&X.ctrlKey&&Ee(X);break}case"ArrowUp":{Ee(X);break}case"Home":{X.preventDefault(),z(0);break}case"End":{X.preventDefault(),ue();break}case"Enter":{X.preventDefault();let ye=we();if(ye){let re=new Event(Oo);ye.dispatchEvent(re)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:ge.inputId,id:ge.labelId,style:Hb},p),os(e,X=>y.createElement(Hu.Provider,{value:Q},y.createElement(zu.Provider,{value:ge},X))))}),Mb=y.forwardRef((e,t)=>{var r,n;let o=Mt(),c=y.useRef(null),l=y.useContext(Vu),u=Yn(),p=Gu(e),m=(n=(r=p.current)==null?void 0:r.forceMount)!=null?n:l==null?void 0:l.forceMount;Cr(()=>{if(!m)return u.item(o,l==null?void 0:l.id)},[m]);let b=Xu(o,c,[e.value,e.children,c],e.keywords),x=Jo(),_=Zt(Y=>Y.value&&Y.value===b.current),A=Zt(Y=>m||u.filter()===!1?!0:Y.search?Y.filtered.items.get(o)>0:!0);y.useEffect(()=>{let Y=c.current;if(!(!Y||e.disabled))return Y.addEventListener(Oo,k),()=>Y.removeEventListener(Oo,k)},[A,e.onSelect,e.disabled]);function k(){var Y,Q;j(),(Q=(Y=p.current).onSelect)==null||Q.call(Y,b.current)}function j(){x.setState("value",b.current,!0)}if(!A)return null;let{disabled:O,value:U,onSelect:W,forceMount:B,keywords:q,...J}=e;return y.createElement(nr.div,{ref:Jt(c,t),...J,id:o,"cmdk-item":"",role:"option","aria-disabled":!!O,"aria-selected":!!_,"data-disabled":!!O,"data-selected":!!_,onPointerMove:O||u.getDisablePointerSelection()?void 0:j,onClick:O?void 0:k},e.children)}),Db=y.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:o,...c}=e,l=Mt(),u=y.useRef(null),p=y.useRef(null),m=Mt(),b=Yn(),x=Zt(A=>o||b.filter()===!1?!0:A.search?A.filtered.groups.has(l):!0);Cr(()=>b.group(l),[]),Xu(l,u,[e.value,e.heading,p]);let _=y.useMemo(()=>({id:l,forceMount:o}),[o]);return y.createElement(nr.div,{ref:Jt(u,t),...c,"cmdk-group":"",role:"presentation",hidden:x?void 0:!0},r&&y.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:m},r),os(e,A=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?m:void 0},y.createElement(Vu.Provider,{value:_},A))))}),Ib=y.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,o=y.useRef(null),c=Zt(l=>!l.search);return!r&&!c?null:y.createElement(nr.div,{ref:Jt(o,t),...n,"cmdk-separator":"",role:"separator"})}),Fb=y.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,o=e.value!=null,c=Jo(),l=Zt(m=>m.search),u=Zt(m=>m.selectedItemId),p=Yn();return y.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),y.createElement(nr.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":u,id:p.inputId,type:"text",value:o?e.value:l,onChange:m=>{o||c.setState("search",m.target.value),r==null||r(m.target.value)}})}),Lb=y.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...o}=e,c=y.useRef(null),l=y.useRef(null),u=Zt(m=>m.selectedItemId),p=Yn();return y.useEffect(()=>{if(l.current&&c.current){let m=l.current,b=c.current,x,_=new ResizeObserver(()=>{x=requestAnimationFrame(()=>{let A=m.offsetHeight;b.style.setProperty("--cmdk-list-height",A.toFixed(1)+"px")})});return _.observe(m),()=>{cancelAnimationFrame(x),_.unobserve(m)}}},[]),y.createElement(nr.div,{ref:Jt(c,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:p.listId},os(e,m=>y.createElement("div",{ref:Jt(l,p.listInnerRef),"cmdk-list-sizer":""},m)))}),qb=y.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:o,contentClassName:c,container:l,...u}=e;return y.createElement(xb,{open:r,onOpenChange:n},y.createElement(vb,{container:l},y.createElement(wb,{"cmdk-overlay":"",className:o}),y.createElement(kb,{"aria-label":e.label,"cmdk-dialog":"",className:c},y.createElement(Yu,{ref:t,...u}))))}),$b=y.forwardRef((e,t)=>Zt(r=>r.filtered.count===0)?y.createElement(nr.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Bb=y.forwardRef((e,t)=>{let{progress:r,children:n,label:o="Loading...",...c}=e;return y.createElement(nr.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},os(e,l=>y.createElement("div",{"aria-hidden":!0},l)))}),Ct=Object.assign(Yu,{List:Lb,Item:Mb,Input:Fb,Group:Db,Separator:Ib,Dialog:qb,Empty:$b,Loading:Bb});function Kb(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Ub(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Gu(e){let t=y.useRef(e);return Cr(()=>{t.current=e}),t}var Cr=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Gr(e){let t=y.useRef();return t.current===void 0&&(t.current=e()),t}function Zt(e){let t=Jo(),r=()=>e(t.snapshot());return y.useSyncExternalStore(t.subscribe,r,r)}function Xu(e,t,r,n=[]){let o=y.useRef(),c=Yn();return Cr(()=>{var l;let u=(()=>{var m;for(let b of r){if(typeof b=="string")return b.trim();if(typeof b=="object"&&"current"in b)return b.current?(m=b.current.textContent)==null?void 0:m.trim():o.current}})(),p=n.map(m=>m.trim());c.value(e,u,p),(l=t.current)==null||l.setAttribute(Yr,u),o.current=u}),o}var Wb=()=>{let[e,t]=y.useState(),r=Gr(()=>new Map);return Cr(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,o)=>{r.current.set(n,o),t({})}};function zb(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function os({asChild:e,children:t},r){return e&&y.isValidElement(t)?y.cloneElement(zb(t),{ref:t.ref},r(t.props.children)):r(t)}var Hb={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Zo(e){return{id:e.id,date:e.date,description:e.description,amount:e.amount,currency:e.currency||"JPY",category:e.category,source:e.source,type:e.is_income?"income":"expense",created_at:e.date,account_id:e.account_id,is_transfer:e.is_transfer,is_adjustment:e.is_adjustment,transfer_type:e.transfer_type,receipt_url:e.receipt_url}}async function ei(e){var n;const t=new URLSearchParams;return e!=null&&e.start_date&&t.append("start_date",e.start_date),e!=null&&e.end_date&&t.append("end_date",e.end_date),(n=e==null?void 0:e.categories)!=null&&n.length&&t.append("categories",e.categories.join(",")),e!=null&&e.source&&t.append("source",e.source),e!=null&&e.type&&e.type!=="all"&&t.append("is_income",e.type==="income"?"true":"false"),e!=null&&e.search&&t.append("search",e.search),(e==null?void 0:e.min_amount)!==void 0&&t.append("min_amount",e.min_amount.toString()),(e==null?void 0:e.max_amount)!==void 0&&t.append("max_amount",e.max_amount.toString()),e!=null&&e.account_id&&t.append("account_id",e.account_id.toString()),t.append("limit","1000"),console.log("[fetchTransactions] filters:",e,"params:",t.toString()),(await oe.get(`/api/transactions/?${t.toString()}`)).data.transactions.map(Zo)}function Qu(e){const{type:t,...r}=e;return{...r,is_income:t==="income"}}async function Wj(e){const t=Qu(e),r=await oe.post("/api/transactions/",t);return Zo(r.data)}async function zj(e,t){const r=Qu(t),n=await oe.put(`/api/transactions/${e}`,r);return Zo(n.data)}async function Hj(e){await oe.delete(`/api/transactions/${e}`)}async function Vj(e){const t=new URLSearchParams;return e.forEach(n=>t.append("transaction_ids",n.toString())),(await oe.delete(`/api/transactions/bulk/delete?${t.toString()}`)).data}async function Yj(e,t){const r=new URLSearchParams;return e.forEach(o=>r.append("transaction_ids",o.toString())),r.append("category",t),(await oe.patch(`/api/transactions/bulk/category?${r.toString()}`)).data}async function Gj(e,t=5){return!e||e.length<2?[]:(await oe.get(`/api/transactions/suggestions?q=${encodeURIComponent(e)}&limit=${t}`)).data}const ar={JPY:1,USD:.00667,VND:160},ti={JPY:0,VND:0,KRW:0,USD:2,EUR:2};function ri(e,t,r){const n=r[t]??ar[t]??1;return e*n}function Ju(e,t="JPY",r=ar,n=!1){const o=n?e:ri(e,t,r),c=ti[t]??0,l=Math.pow(10,c),p={JPY:"ja-JP",USD:"en-US",VND:"vi-VN"}[t]||"ja-JP";return new Intl.NumberFormat(p,{style:"currency",currency:t,minimumFractionDigits:c,maximumFractionDigits:c}).format(o/l)}function Zu(e,t,r="JPY",n=ar,o=!1){const c=Ju(Math.abs(e),r,n,o);return t==="income"||e>0?`+${c}`:t==="expense"||e<0?`-${c}`:c}function Vb(e,t="JPY",r=ar,n=!1){const o=n?e:ri(e,t,r),c=ti[t]??0,l=Math.pow(10,c),p={JPY:"ja-JP",USD:"en-US",VND:"vi-VN"}[t]||"ja-JP",m=c>0?1:0;return new Intl.NumberFormat(p,{style:"currency",currency:t,notation:"compact",minimumFractionDigits:0,maximumFractionDigits:m}).format(o/l)}function ni(e="JPY"){return{JPY:"***",USD:"$***",VND:"***"}[e]||"***"}function en(e,t="JPY",r=ar,n=!1,o=!1){return o?ni(t):Ju(e,t,r,n)}function Xj(e,t,r="JPY",n=ar,o=!1,c=!1){if(c){const l=ni(r);return t==="income"||e>0?`+${l}`:t==="expense"||e<0?`-${l}`:l}return Zu(e,t,r,n,o)}function Qj(e,t="JPY",r=ar,n=!1,o=!1){return o?ni(t):Vb(e,t,r,n)}function Jj(e,t){const r=ti[t]??0;return Math.round(e*Math.pow(10,r))}function Zj(e,t,r=ar,n=!1,o=!1){const c=en(e,t,r,n,o),l=n?ri(e,t,r):e,u=en(l,"JPY",r,!0,o);return`${c} (~${u})`}function Yb({open:e,onOpenChange:t,onNewTransaction:r,onUpload:n,onShowShortcuts:o}){const{t:c}=Te(),l=Pt(),{resolvedTheme:u,toggleTheme:p}=Uo(),{isPrivacyMode:m}=Kn(),{data:b}=cn(),[x,_]=y.useState(""),[A,k]=y.useState([]),[j,O]=y.useState(!1),U=(q,J)=>Zu(q,void 0,J,(b==null?void 0:b.rates)||{},!0);y.useEffect(()=>{if(!e||x.length<2){k([]);return}const J=setTimeout(async()=>{O(!0);try{const Y=await ei({search:x});k(Y.slice(0,5))}catch(Y){console.error("Failed to search transactions:",Y),k([])}finally{O(!1)}},300);return()=>clearTimeout(J)},[x,e]),y.useEffect(()=>{e||(_(""),k([]))},[e]);const W=y.useCallback(q=>{if(t(!1),q.startsWith("/")){const[J,Y]=q.split("?"),Q=Y?Object.fromEntries(new URLSearchParams(Y)):void 0;l({to:J,search:Q});return}switch(q){case"new-transaction":r==null||r();break;case"upload":n==null||n(),l({to:"/upload"});break;case"toggle-theme":p();break;case"shortcuts":o==null||o();break;case"transaction":l({to:"/transactions"});break}},[l,t,r,n,p,o]),B=a.jsxs(Ct.Dialog,{open:e,onOpenChange:t,label:c("commandPalette.label","Command Palette"),className:"fixed inset-0 z-[100001] overflow-hidden",style:{touchAction:"pan-y"},children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>t(!1)}),a.jsx("div",{className:"fixed left-1/2 top-1/4 -translate-x-1/2 w-full max-w-lg",children:a.jsxs(Ct,{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 px-4",children:[a.jsx(_p,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 mr-3"}),a.jsx(Ct.Input,{value:x,onValueChange:_,placeholder:c("commandPalette.placeholder","Search pages, transactions, actions..."),className:"w-full py-4 bg-transparent outline-none text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),a.jsx("kbd",{className:"hidden sm:inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 rounded",children:"Esc"})]}),a.jsxs(Ct.List,{className:"max-h-80 overflow-y-auto p-2",children:[a.jsx(Ct.Empty,{className:"py-6 text-center text-gray-500 dark:text-gray-400",children:j?c("commandPalette.searching","Searching..."):c("commandPalette.noResults","No results found.")}),A.length>0&&a.jsx(Ct.Group,{heading:c("commandPalette.transactions","Transactions"),children:A.map(q=>a.jsxs(Ct.Item,{value:`transaction-${q.id}`,onSelect:()=>W("transaction"),className:"flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-primary-50 dark:data-[selected=true]:bg-primary-900/30",children:[a.jsx(Xt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm",children:q.description}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[q.date,"  ",q.category]})]}),a.jsx("span",{className:`text-sm font-medium ${q.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:m?q.type==="income"?"+***":"-***":U(q.amount,q.currency||"JPY")})]},q.id))}),a.jsxs(Ct.Group,{heading:c("commandPalette.pages","Pages"),children:[a.jsx(ft,{icon:a.jsx(Za,{className:"w-4 h-4"}),label:c("nav.dashboard"),shortcut:"G D",value:"/dashboard",onSelect:W}),a.jsx(ft,{icon:a.jsx(Xt,{className:"w-4 h-4"}),label:c("nav.transactions"),shortcut:"G T",value:"/transactions",onSelect:W}),a.jsx(ft,{icon:a.jsx(sn,{className:"w-4 h-4"}),label:c("nav.accounts"),shortcut:"G A",value:"/accounts",onSelect:W}),a.jsx(ft,{icon:a.jsx(Ql,{className:"w-4 h-4"}),label:c("nav.budget"),shortcut:"G B",value:"/budget",onSelect:W}),a.jsx(ft,{icon:a.jsx(Un,{className:"w-4 h-4"}),label:c("nav.analytics"),shortcut:"G N",value:"/analytics",onSelect:W}),a.jsx(ft,{icon:a.jsx(Jl,{className:"w-4 h-4"}),label:c("report.title"),shortcut:"G R",value:"/analytics?tab=report",onSelect:W}),a.jsx(ft,{icon:a.jsx(Qt,{className:"w-4 h-4"}),label:c("nav.goals"),shortcut:"G G",value:"/goals",onSelect:W}),a.jsx(ft,{icon:a.jsx(vp,{className:"w-4 h-4"}),label:c("nav.recurring"),value:"/recurring",onSelect:W}),a.jsx(ft,{icon:a.jsx(ts,{className:"w-4 h-4"}),label:c("nav.settings"),shortcut:"G S",value:"/settings",onSelect:W})]}),a.jsxs(Ct.Group,{heading:c("commandPalette.actions","Actions"),children:[a.jsx(ft,{icon:a.jsx(Vm,{className:"w-4 h-4"}),label:c("commandPalette.newTransaction","New Transaction"),shortcut:"Ctrl+N",value:"new-transaction",onSelect:W}),a.jsx(ft,{icon:a.jsx(rr,{className:"w-4 h-4"}),label:c("commandPalette.uploadCsv","Upload CSV"),shortcut:"Ctrl+U",value:"upload",onSelect:W}),a.jsx(ft,{icon:u==="dark"?a.jsx(nu,{className:"w-4 h-4"}):a.jsx(ru,{className:"w-4 h-4"}),label:u==="dark"?c("commandPalette.lightMode","Switch to Light Mode"):c("commandPalette.darkMode","Switch to Dark Mode"),value:"toggle-theme",onSelect:W}),a.jsx(ft,{icon:a.jsx(Gm,{className:"w-4 h-4"}),label:c("commandPalette.shortcuts","Keyboard Shortcuts"),shortcut:"?",value:"shortcuts",onSelect:W})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 px-4 py-2 flex items-center justify-between text-xs text-gray-400 dark:text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:""}),c("commandPalette.navigate","Navigate")]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:""}),c("commandPalette.select","Select")]})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-700 rounded",children:"Esc"}),c("commandPalette.close","Close")]})]})]})})]});return typeof document>"u"?null:Ft.createPortal(B,document.body)}function ft({icon:e,label:t,shortcut:r,value:n,onSelect:o}){return a.jsxs(Ct.Item,{value:n,onSelect:o,className:"flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 data-[selected=true]:bg-primary-50 dark:data-[selected=true]:bg-primary-900/30",children:[a.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:e}),a.jsx("span",{className:"flex-1",children:t}),r&&a.jsx("kbd",{className:"text-xs text-gray-400 dark:text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:r})]})}function Gb({open:e,onClose:t}){const{t:r}=Te(),n=typeof navigator<"u"&&/Mac/.test(navigator.userAgent),o=[{title:r("shortcuts.general","General"),shortcuts:[{keys:[n?"":"Ctrl","K"],description:r("shortcuts.commandPalette","Open command palette")},{keys:["Esc"],description:r("shortcuts.closeModal","Close modal/dialog")},{keys:["?"],description:r("shortcuts.showHelp","Show keyboard shortcuts")}]},{title:r("shortcuts.actions","Actions"),shortcuts:[{keys:[n?"":"Ctrl","N"],description:r("shortcuts.newTransaction","New transaction")},{keys:[n?"":"Ctrl","U"],description:r("shortcuts.uploadCsv","Upload CSV")},{keys:[n?"":"Ctrl","F"],description:r("shortcuts.focusSearch","Focus search")}]},{title:r("shortcuts.navigation","Navigation"),shortcuts:[{keys:["G","D"],description:r("shortcuts.gotoDashboard","Go to Dashboard")},{keys:["G","T"],description:r("shortcuts.gotoTransactions","Go to Transactions")},{keys:["G","A"],description:r("shortcuts.gotoAccounts","Go to Accounts")},{keys:["G","B"],description:r("shortcuts.gotoBudget","Go to Budget")},{keys:["G","N"],description:r("shortcuts.gotoAnalytics","Go to Analytics")},{keys:["G","R"],description:r("shortcuts.gotoReport","Go to Monthly Report")},{keys:["G","G"],description:r("shortcuts.gotoGoals","Go to Goals")},{keys:["G","S"],description:r("shortcuts.gotoSettings","Go to Settings")}]}];if(!e)return null;const c=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 w-full max-w-lg mx-4 max-h-[80vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r("shortcuts.title","Keyboard Shortcuts")}),a.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400",children:a.jsx(wt,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[60vh] space-y-6",children:o.map(l=>a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:l.title}),a.jsx("div",{className:"space-y-2",children:l.shortcuts.map((u,p)=>a.jsxs("div",{className:"flex items-center justify-between py-1",children:[a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:u.description}),a.jsx("div",{className:"flex items-center gap-1",children:u.keys.map((m,b)=>a.jsxs("span",{children:[a.jsx("kbd",{className:"px-2 py-1 text-xs font-mono bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded border border-gray-200 dark:border-gray-600",children:m}),b<u.keys.length-1&&a.jsx("span",{className:"text-gray-400 mx-0.5",children:"+"})]},b))})]},p))})]},l.title))}),a.jsx("div",{className:"px-6 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:r("shortcuts.hint","Press Esc to close")})})]})]});return typeof document>"u"?null:Ft.createPortal(c,document.body)}function Xb({onClose:e,credits:t,onClearHistory:r}){const{t:n}=Te(),o=()=>{window.confirm(n("chat.clearHistoryConfirm"))&&(r==null||r())};return a.jsxs("div",{className:Z("flex items-center justify-between","px-4 py-3 border-b border-gray-200 dark:border-gray-700","bg-white dark:bg-gray-800"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"w-5 h-5 text-primary-500"}),a.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:n("chat.title")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[t!==null&&a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("chat.credits",{count:t})}),r&&a.jsx("button",{onClick:o,className:Z("p-1.5 rounded-lg","text-gray-500 hover:text-gray-700","dark:text-gray-400 dark:hover:text-gray-200","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),"aria-label":n("chat.clearHistory"),children:a.jsx(No,{className:"w-4 h-4"})}),a.jsx("button",{onClick:e,className:Z("p-1.5 rounded-lg","text-gray-500 hover:text-gray-700","dark:text-gray-400 dark:hover:text-gray-200","hover:bg-gray-100 dark:hover:bg-gray-700","transition-colors"),"aria-label":n("close"),children:a.jsx(wt,{className:"w-5 h-5"})})]})]})}function Qb({role:e,content:t}){const r=e==="user";return a.jsxs("div",{className:Z("flex gap-3",r?"flex-row-reverse":"flex-row"),children:[a.jsx("div",{className:Z("flex-shrink-0 w-8 h-8 rounded-full","flex items-center justify-center",r?"bg-primary-100 dark:bg-primary-900":"bg-gray-100 dark:bg-gray-700"),children:r?a.jsx(Kp,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"}):a.jsx(zn,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),a.jsx("div",{className:Z("max-w-[80%] px-4 py-2.5 rounded-2xl","text-sm leading-relaxed",r?"bg-primary-500 text-white rounded-br-md":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-md"),children:a.jsx("p",{className:"whitespace-pre-wrap",children:t})})]})}function Jb({action:e,onApply:t,onSkip:r,isApplying:n=!1}){const{t:o,i18n:c}=Te(),l=()=>e.type==="create_goal"?a.jsx(Qt,{className:"w-5 h-5 text-primary-500"}):e.type==="create_budget"?a.jsx(Gl,{className:"w-5 h-5 text-primary-500"}):null,u=()=>o(`chat.action.${e.type}`),p=x=>{const _=c.language==="ja"?"ja-JP":c.language==="vi"?"vi-VN":"en-US",A=c.language==="ja"?"JPY":c.language==="vi"?"VND":"USD";return new Intl.NumberFormat(_,{style:"currency",currency:A}).format(x)},m=x=>new Intl.NumberFormat(c.language).format(x),b=()=>{if(!e.payload||Object.keys(e.payload).length===0)return null;const x=e.payload,_=Object.entries(x).filter(([A,k])=>k!=null);return _.length===0?null:a.jsxs("div",{className:"mt-3 pt-3 border-t border-primary-200/50 dark:border-primary-700/50",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("chat.action.parameters","Parameters"),":"]}),a.jsx("div",{className:"space-y-1.5",children:_.map(([A,k])=>{const j=o(`chat.action.${A}`,A.replace(/_/g," "));let O=String(k);return A.includes("amount")||A.includes("income")?O=p(Number(k)):A==="years"||typeof k=="number"?O=m(Number(k)):A==="language"?O=o(`languages.${k}`,String(k)):A==="goal_type"&&(O=o(`goals.types.${k}`,String(k))),a.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[j,":"]}),a.jsx("span",{className:"text-gray-900 dark:text-white font-medium flex-1 text-right",children:O})]},A)})})]})};return a.jsxs("div",{className:Z("bg-primary-50 dark:bg-primary-900/20","border border-primary-200 dark:border-primary-700","rounded-lg p-3 mt-2","transition-all duration-200","hover:shadow-md hover:border-primary-300 dark:hover:border-primary-600"),children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:u()}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:e.description})]})]}),b(),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx("button",{onClick:t,disabled:n,className:Z("flex-1 px-3 py-1.5 text-sm font-medium rounded-md","bg-primary-500 text-white","hover:bg-primary-600 active:bg-primary-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-200","flex items-center justify-center gap-1.5",!n&&"hover:shadow-md"),children:n?a.jsxs(a.Fragment,{children:[a.jsx(zo,{className:"w-3.5 h-3.5 animate-spin"}),o("loading")]}):o("chat.apply")}),a.jsx("button",{onClick:r,disabled:n,className:Z("px-3 py-1.5 text-sm font-medium rounded-md","border border-gray-300 dark:border-gray-600","text-gray-700 dark:text-gray-300","hover:bg-gray-100 dark:hover:bg-gray-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors"),children:o("chat.skip")})]})]})}function Zb({label:e,route:t,icon:r}){const n=Pt();return a.jsxs("button",{onClick:()=>n({to:t}),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-400 hover:bg-primary-200 dark:hover:bg-primary-900/50 transition-colors",children:[r&&a.jsx("span",{children:r}),e]})}function ex({messages:e,isLoading:t,applyingAction:r,onApplyAction:n,onSkipAction:o}){const{t:c}=Te(),l=y.useRef(null);return y.useEffect(()=>{var u;(u=l.current)==null||u.scrollIntoView({behavior:"smooth"})},[e,t]),a.jsxs("div",{className:Z("flex-1 overflow-y-auto","px-4 py-4 space-y-4","bg-gray-50 dark:bg-gray-900"),children:[e.length===0&&!t&&a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:a.jsx("p",{children:c("chat.welcomeMessage")})}),e.map((u,p)=>a.jsxs("div",{className:"animate-[slideUp_200ms_ease-out]",style:{animationDelay:`${Math.min(p*20,100)}ms`},children:[a.jsx(Qb,{role:u.role,content:u.content}),u.action&&a.jsx("div",{className:"ml-11",children:a.jsx(Jb,{action:u.action,onApply:()=>n(p),onSkip:()=>o(p),isApplying:r===p})}),u.quickActions&&u.quickActions.length>0&&a.jsx("div",{className:"ml-11 mt-2 flex flex-wrap gap-2",children:u.quickActions.map((m,b)=>a.jsx(Zb,{label:m.label,route:m.route,icon:m.icon},b))})]},p)),t&&a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(zo,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 animate-spin"})}),a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2.5 rounded-2xl rounded-bl-md",children:a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:c("chat.thinking")})})]}),a.jsx("div",{ref:l})]})}function tx({onSend:e,disabled:t=!1}){const{t:r}=Te(),[n,o]=y.useState(""),c=y.useRef(null);y.useEffect(()=>{const p=c.current;p&&(p.style.height="auto",p.style.height=Math.min(p.scrollHeight,120)+"px")},[n]);const l=()=>{const p=n.trim();p&&!t&&(e(p),o(""))},u=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),l())};return a.jsx("div",{className:Z("px-4 py-3 border-t border-gray-200 dark:border-gray-700","bg-white dark:bg-gray-800"),children:a.jsxs("div",{className:Z("flex items-end gap-2","bg-gray-100 dark:bg-gray-700 rounded-2xl","px-4 py-2"),children:[a.jsx("textarea",{ref:c,value:n,onChange:p=>o(p.target.value),onKeyDown:u,placeholder:r("chat.placeholder"),disabled:t,rows:1,className:Z("flex-1 bg-transparent resize-none","text-sm text-gray-900 dark:text-white","placeholder-gray-500 dark:placeholder-gray-400","focus:outline-none","disabled:opacity-50 disabled:cursor-not-allowed","max-h-[120px]")}),a.jsx("button",{onClick:l,disabled:t||!n.trim(),className:Z("p-2 rounded-full","bg-primary-500 text-white","hover:bg-primary-600 active:bg-primary-700","disabled:opacity-50 disabled:cursor-not-allowed","transition-all duration-200","flex-shrink-0",!t&&n.trim()&&"hover:scale-105 active:scale-95 hover:shadow-lg"),"aria-label":r("chat.send"),children:a.jsx(Ep,{className:"w-4 h-4"})})]})})}async function rx(e,t="ja",r){return(await oe.post("/api/chat",{messages:e,language:t,current_page:r})).data}async function ed(){return(await oe.get("/api/goals/")).data}async function eN(e){return(await oe.get(`/api/goals/${e}`)).data}async function nx(e){return(await oe.post("/api/goals/",e)).data}async function tN(e,t){return(await oe.put(`/api/goals/${e}`,t)).data}async function rN(e){await oe.delete(`/api/goals/${e}`)}async function ax(e,t=!0,r=3){const n=new URLSearchParams;return t&&(n.append("include_achievability","true"),n.append("trend_months",r.toString())),(await oe.get(`/api/goals/${e}/progress?${n.toString()}`)).data}async function nN(){return(await oe.get("/api/goals/status/has-emergency-fund")).data.has_emergency_fund}async function sx(e){return(await oe.post("/api/budgets/generate",e)).data}async function aN(e,t){return(await oe.post(`/api/budgets/${e}/regenerate`,t)).data}async function sN(e){return(await oe.get(`/api/budgets/${e}`)).data}async function oN(e){return(await oe.get("/api/budgets/tracking/current",{params:e?{month:e}:void 0})).data}async function iN(){return(await oe.get("/api/budgets/suggestions")).data}async function cN(e,t,r){return(await oe.patch(`/api/budgets/${e}/allocations/${encodeURIComponent(t)}`,{amount:r})).data}async function lN(e,t){return(await oe.delete(`/api/budgets/${e}/allocations/${encodeURIComponent(t)}`)).data}async function uN(e){return(await oe.post("/api/budgets/copy",e)).data}async function dN(e,t){return(await oe.get("/api/budgets/copy/preview",{params:{source_month:e,target_month:t}})).data}async function fN(e){return(await oe.get(`/api/budgets/${e}/versions`)).data}async function hN(e){return(await oe.post(`/api/budgets/${e}/restore`)).data}const oo="smartmoney_chat_history",ox=20;function ix({isOpen:e,onClose:t}){const{t:r,i18n:n}=Te(),o=Tt(),c=rn(),[l,u]=y.useState(()=>{try{const B=localStorage.getItem(oo);if(B)return JSON.parse(B)}catch(B){console.error("Failed to load chat history:",B)}return[]}),[p,m]=y.useState(!1),[b,x]=y.useState(null),[_,A]=y.useState(null);y.useEffect(()=>{try{const B=l.slice(-ox);localStorage.setItem(oo,JSON.stringify(B))}catch(B){console.error("Failed to save chat history:",B)}},[l]),y.useEffect(()=>{const B=q=>{q.key==="Escape"&&e&&t()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[e,t]);const k=y.useCallback(async B=>{const q={role:"user",content:B},J=[...l,q];u(J),m(!0);try{const Y=await rx(J,n.language,c.pathname);u(Q=>[...Q,{role:"assistant",content:Y.message,action:Y.suggested_action,quickActions:Y.quick_actions}]),x(Y.credits_remaining)}catch(Y){const Q=Y instanceof Error?Y.message:"Unknown error";Q.includes("402")||Q.includes("credits")?u(ge=>[...ge,{role:"assistant",content:r("chat.noCredits")}]):u(ge=>[...ge,{role:"assistant",content:r("chat.error")}])}finally{m(!1)}},[l,n.language,c.pathname,r]),j=y.useCallback(async B=>{const q=l[B];if(q!=null&&q.action){A(B);try{await O(q.action),u(J=>{const Y=[...J];return Y[B]={...Y[B],action:null},[...Y,{role:"assistant",content:r("chat.actionApplied")}]}),q.action.type==="create_goal"?o.invalidateQueries({queryKey:["goals"]}):q.action.type==="create_budget"&&o.invalidateQueries({queryKey:["budget"]})}catch(J){console.error("Failed to apply action:",J),u(Y=>[...Y,{role:"assistant",content:r("chat.actionFailed")}])}finally{A(null)}}},[l,o,r]),O=async B=>{if(B.type==="create_goal"){const q=B.payload,Y=["emergency_fund","home_down_payment","vacation_travel","vehicle","education","wedding","large_purchase","debt_payoff","retirement","investment","custom"].includes(q.goal_type||"")?q.goal_type:"custom";await nx({goal_type:Y,target_amount:q.target_amount||1e5,years:q.years||1,name:q.name})}else if(B.type==="create_budget"){const q=B.payload;await sx({monthly_income:q.monthly_income||3e5,feedback:q.feedback,language:n.language})}},U=y.useCallback(B=>{u(q=>{const J=[...q];return J[B]={...J[B],action:null},J})},[]),W=y.useCallback(()=>{u([]),localStorage.removeItem(oo)},[]);return a.jsxs(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 bg-black/30 z-[99]",onClick:t}),a.jsxs("div",{className:Z("fixed right-0 top-0 h-full z-[100]","w-full sm:w-[448px] lg:w-96","bg-white dark:bg-gray-800","shadow-2xl","flex flex-col","transform transition-transform duration-300 ease-out",e?"translate-x-0":"translate-x-full pointer-events-none"),children:[a.jsx(Xb,{onClose:t,credits:b,onClearHistory:W}),a.jsx(ex,{messages:l,isLoading:p,applyingAction:_,onApplyAction:j,onSkipAction:U}),a.jsx(tx,{onSend:k,disabled:p})]})]})}function cx(e,t={}){const{enabled:r=!0}=t,n=y.useCallback(o=>{if(!r)return;const c=o.target;if(!((c.tagName==="INPUT"||c.tagName==="TEXTAREA"||c.isContentEditable)&&o.key!=="Escape"))for(const l of e){const u=o.key.toLowerCase()===l.key.toLowerCase(),p=l.ctrlKey||l.metaKey?o.ctrlKey||o.metaKey:!o.ctrlKey&&!o.metaKey,m=l.shiftKey?o.shiftKey:!o.shiftKey;if(u&&p&&m){o.preventDefault(),l.callback();return}}},[e,r]);y.useEffect(()=>(window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)),[n])}const Wr={ESCAPE:"Escape",COMMAND_PALETTE:"k",SEARCH:"f",NEW_TRANSACTION:"n",UPLOAD:"u",HELP:"?"};function lx({children:e}){const t=Pt(),[r,n]=y.useState(!1),[o,c]=y.useState(!1),[l,u]=y.useState(!1),[p,m]=y.useState(null),b=y.useCallback(x=>{const A={d:"/dashboard",t:"/transactions",a:"/accounts",b:"/budget",n:"/analytics",r:"/analytics?tab=report",g:"/goals",s:"/settings"}[x.toLowerCase()];if(A){const[k,j]=A.split("?"),O=j?Object.fromEntries(new URLSearchParams(j)):void 0;t({to:k,search:O})}m(null)},[t]);return cx([{key:Wr.COMMAND_PALETTE,ctrlKey:!0,callback:()=>n(!0),description:"Open command palette"},{key:"c",ctrlKey:!0,altKey:!0,callback:()=>u(!0),description:"Open AI chat"},{key:Wr.ESCAPE,callback:()=>{l?u(!1):r?n(!1):o&&c(!1),m(null)},description:"Close modal"},{key:Wr.HELP,shiftKey:!0,callback:()=>c(!0),description:"Show shortcuts help"},{key:Wr.NEW_TRANSACTION,ctrlKey:!0,callback:()=>t({to:"/transactions"}),description:"New transaction"},{key:Wr.UPLOAD,ctrlKey:!0,callback:()=>t({to:"/upload"}),description:"Upload CSV"},{key:Wr.SEARCH,ctrlKey:!0,callback:()=>n(!0),description:"Focus search"},{key:"g",callback:()=>m("g"),description:"Navigation prefix"},...["d","t","a","b","n","r","g","s"].map(x=>({key:x,callback:()=>{p==="g"&&b(x)},description:`Navigate to ${x}`}))]),y.useEffect(()=>{if(p){const x=setTimeout(()=>m(null),1500);return()=>clearTimeout(x)}},[p]),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(ly,{}),a.jsx(ty,{}),a.jsx("main",{className:"flex-1 pb-24 md:pb-0 md:ml-16",children:a.jsx(jy,{children:e})}),a.jsx(ny,{}),a.jsx(iy,{}),a.jsx(ky,{}),a.jsx("button",{onClick:()=>u(!0),className:"fixed bottom-36 right-4 md:bottom-6 md:right-6 z-50 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-lg transition-all hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",title:"AI Chat Assistant (Ctrl+Alt+C)",children:a.jsx(pp,{className:"w-6 h-6"})}),a.jsx(Yb,{open:r,onOpenChange:n,onShowShortcuts:()=>c(!0)}),a.jsx(Gb,{open:o,onClose:()=>c(!1)}),a.jsx(ix,{isOpen:l,onClose:()=>u(!1)})]})}function ux({size:e="md",className:t}){const{t:r}=Te("common");return a.jsxs("div",{className:Z("inline-flex items-center justify-center",{"h-4 w-4":e==="sm","h-8 w-8":e==="md","h-12 w-12":e==="lg"},t),role:"status","aria-label":r("common.loading","Loading..."),children:[a.jsxs("svg",{className:"animate-spin text-primary-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:e==="sm"?16:e==="md"?24:48,height:e==="sm"?16:e==="md"?24:48,children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"sr-only",children:r("common.loading","Loading...")})]})}function dx(){const{isAuthenticated:e,isLoading:t}=Bn(),r=rn(),n=Pt();return y.useEffect(()=>{!t&&!e&&!["/login","/register","/landing"].includes(r.pathname)&&n({to:"/login"})},[e,t,r.pathname,n]),t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(ux,{size:"lg"})}):r.pathname==="/login"||r.pathname==="/register"||r.pathname==="/landing"?a.jsx(Bi,{}):e?a.jsx(lx,{children:a.jsx(Bi,{})}):null}const ze=Jd({component:dx}),fx=Xe("/upload")({}),hx=Xe("/transactions")({validateSearch:e=>({categories:typeof e.categories=="string"?e.categories:void 0,month:typeof e.month=="string"?e.month:void 0,accountId:typeof e.accountId=="number"?e.accountId:typeof e.accountId=="string"&&!isNaN(Number(e.accountId))?Number(e.accountId):void 0,fromAccounts:e.fromAccounts===!0||e.fromAccounts==="true",type:e.type==="income"||e.type==="expense"?e.type:void 0,action:e.action==="add-transaction"||e.action==="scan-receipt"?e.action:void 0})}),mx=Xe("/settings")({}),px=Xe("/report")({}),gx=Xe("/relocation")({}),ht=y.forwardRef(({label:e,error:t,success:r,helperText:n,className:o,...c},l)=>{const u=t||r;return a.jsxs("div",{className:"w-full",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:c.id,children:e}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:l,"aria-invalid":!!t,"aria-describedby":t?`${c.id}-error`:n?`${c.id}-helper`:void 0,className:Z("w-full px-4 py-2.5 rounded-lg border bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100","transition-all duration-200 focus:outline-none focus:ring-2 focus:border-transparent","disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100 dark:disabled:bg-gray-800","placeholder:text-gray-400 dark:placeholder:text-gray-500",t?"border-red-500 focus:ring-red-500":r?"border-green-500 focus:ring-green-500":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 focus:ring-primary-500",u&&"pr-10",o),...c}),u&&a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:t?a.jsx(Wo,{className:"w-4 h-4 text-red-500 dark:text-red-400"}):r?a.jsx(zm,{className:"w-4 h-4 text-green-500 dark:text-green-400"}):null})]}),t&&a.jsx("p",{id:c.id?`${c.id}-error`:void 0,role:"alert",className:"mt-1.5 text-sm text-red-600 dark:text-red-400 animate-fade-in-down",children:t}),!t&&n&&a.jsx("p",{id:c.id?`${c.id}-helper`:void 0,className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:n})]})});ht.displayName="Input";function it({children:e,className:t,style:r,hover:n=!1,variant:o="default",onClick:c,...l}){return a.jsx("div",{style:r,className:Z("rounded-xl border transition-all duration-200 p-4 sm:p-5",o==="default"&&"bg-white dark:bg-gray-800 border-gray-200/80 dark:border-gray-700/80 shadow-card",o==="glass"&&"bg-white/90 dark:bg-gray-800/88 backdrop-blur-md border-white/30 dark:border-gray-700/50 shadow-card",o==="gradient"&&"bg-gradient-to-br from-white to-primary-50/30 dark:from-gray-800 dark:to-primary-900/10 border-gray-200/50 dark:border-gray-700/50 shadow-card",o==="elevated"&&"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 shadow-md hover:shadow-lg",n&&"hover:shadow-md hover:border-gray-300 dark:hover:border-gray-600 cursor-pointer",c&&"cursor-pointer",t),onClick:c,...l,children:e})}function mN({children:e,className:t}){return a.jsx("div",{className:Z("",t),children:e})}function pN({children:e,className:t}){return a.jsx("div",{className:Z("mb-4",t),children:e})}function gN({children:e,className:t,as:r="h3"}){return a.jsx(r,{className:Z("text-lg font-semibold",t),children:e})}function yx(){const{t:e}=Te("common"),t=Pt(),[r,n]=y.useState(""),[o,c]=y.useState(""),[l,u]=y.useState(""),[p,m]=y.useState(""),[b,x]=y.useState(!1),_=async A=>{var k,j;if(A.preventDefault(),m(""),o!==l){m(e("auth.passwordMismatch"));return}if(o.length<6){m(e("auth.passwordTooShort"));return}x(!0);try{await oe.post("/api/auth/register",{email:r,password:o}),t({to:"/login"})}catch(O){const U=((j=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:j.detail)||e("auth.registerFailed");m(U)}finally{x(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hero-gradient px-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 -left-20 w-64 h-64 rounded-full bg-primary-300/20 dark:bg-primary-700/10 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 -right-20 w-72 h-72 rounded-full bg-net-300/15 dark:bg-net-800/10 blur-3xl pointer-events-none"}),a.jsxs(it,{className:"w-full max-w-md p-8 relative animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"SmartMoney"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("auth.registerDescription")})]}),a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[p&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md",children:p}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.email")}),a.jsx(ht,{id:"email",type:"email",value:r,onChange:A=>n(A.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.password")}),a.jsx(ht,{id:"password",type:"password",value:o,onChange:A=>c(A.target.value),placeholder:"********",required:!0,autoComplete:"new-password"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.confirmPassword")}),a.jsx(ht,{id:"confirmPassword",type:"password",value:l,onChange:A=>u(A.target.value),placeholder:"********",required:!0,autoComplete:"new-password"})]}),a.jsx(Ge,{type:"submit",className:"w-full",disabled:b,children:e(b?"auth.registering":"auth.register")}),a.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("auth.hasAccount")," ",a.jsx(Qe,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:e("auth.login")})]})]})]})]})}const bx=Xe("/register")({component:yx}),xx=Xe("/recurring")({}),vx=Xe("/proxy")({});function wx(){const{t:e}=Te("common"),t=Pt(),{login:r}=Bn(),[n,o]=y.useState(""),[c,l]=y.useState(""),[u,p]=y.useState(""),[m,b]=y.useState(!1),x=async _=>{var A,k;_.preventDefault(),p(""),b(!0);try{await r(n,c),t({to:"/"})}catch(j){const O=j instanceof Error?j.message:((k=(A=j==null?void 0:j.response)==null?void 0:A.data)==null?void 0:k.detail)||e("auth.loginFailed");p(O)}finally{b(!1)}};return a.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-hero-gradient px-4 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/4 -left-20 w-64 h-64 rounded-full bg-primary-300/20 dark:bg-primary-700/10 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute bottom-1/4 -right-20 w-72 h-72 rounded-full bg-net-300/15 dark:bg-net-800/10 blur-3xl pointer-events-none"}),a.jsxs(it,{className:"w-full max-w-md p-8 relative animate-fade-in",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"SmartMoney"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:e("auth.loginDescription")})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[u&&a.jsx("div",{className:"p-3 text-sm text-red-600 bg-red-50 dark:bg-red-900/20 dark:text-red-400 rounded-md",children:u}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.email")}),a.jsx(ht,{id:"email",type:"email",value:n,onChange:_=>o(_.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e("auth.password")}),a.jsx(ht,{id:"password",type:"password",value:c,onChange:_=>l(_.target.value),placeholder:"********",required:!0,autoComplete:"current-password"})]}),a.jsx(Ge,{type:"submit",className:"w-full",disabled:m,children:e(m?"auth.loggingIn":"auth.login")}),a.jsxs("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[e("auth.noAccount")," ",a.jsx(Qe,{to:"/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:e("auth.register")})]})]})]})]})}const kx=Xe("/login")({component:wx});function jx(){const e=Pt(),{t}=Te("landing");return a.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-green-600 via-green-700 to-green-800 text-white",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-6 py-16 lg:py-24",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4 leading-tight",children:t("hero.headline")}),a.jsx("p",{className:"text-lg text-green-100 mb-6 leading-relaxed",children:t("hero.subheadline")}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(Ap,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp1")})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(Yl,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp2")})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-white/10 px-3 py-2 rounded-full",children:[a.jsx(eu,{className:"h-4 w-4 text-green-300"}),a.jsx("span",{className:"text-sm",children:t("hero.valueProp3")})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Ge,{onClick:()=>e({to:"/register"}),size:"lg",className:"bg-white text-green-700 hover:bg-green-50 shadow-xl",children:t("hero.cta")}),a.jsx(Ge,{onClick:()=>e({to:"/login"}),size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:t("hero.seeLiveDemo")})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative bg-white/10 backdrop-blur-lg rounded-2xl p-4 border border-white/20 shadow-2xl",children:a.jsx("img",{src:"/screenshots/dashboard-light.webp",alt:"SmartMoney Dashboard",className:"rounded-lg shadow-lg w-full",loading:"eager"})}),a.jsx("div",{className:"absolute -bottom-8 -left-8 w-32 lg:w-40 hidden md:block",children:a.jsx("img",{src:"/screenshots/dashboard-mobile.webp",alt:"SmartMoney Mobile",className:"rounded-xl shadow-2xl border-4 border-white",loading:"eager"})})]})]})})]})}const Nx=[{id:"dashboard",screenshot:"/screenshots/dashboard-light.webp",screenshotAlt:"Dashboard Screenshot"},{id:"transactions",screenshot:"/screenshots/transactions.webp",screenshotAlt:"Transactions Screenshot"},{id:"budget",screenshot:"/screenshots/budget.webp",screenshotAlt:"Budget Screenshot"},{id:"analytics",screenshot:"/screenshots/analytics.webp",screenshotAlt:"Analytics Screenshot"}];function Sx(){const{t:e}=Te("landing");return a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("features.title")}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e("features.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Nx.map(t=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"aspect-video bg-gray-100 overflow-hidden",children:a.jsx("img",{src:t.screenshot,alt:t.screenshotAlt,className:"w-full h-full object-cover object-top",loading:"lazy"})}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e(`features.${t.id}.title`)}),a.jsx("p",{className:"text-gray-600 text-sm",children:e(`features.${t.id}.description`)})]})]},t.id))})]})})}const _x=[{id:"step1",icon:rr,color:"bg-blue-100 text-blue-700"},{id:"step2",icon:Un,color:"bg-green-100 text-green-700"},{id:"step3",icon:Yl,color:"bg-purple-100 text-purple-700"}];function Cx(){const{t:e}=Te("landing");return a.jsx("section",{id:"how-it-works",className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:e("howItWorks.title")}),a.jsx("p",{className:"text-lg text-gray-600",children:e("howItWorks.subtitle")})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:_x.map((t,r)=>a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center mb-4",children:[a.jsx("div",{className:`h-16 w-16 rounded-full ${t.color} flex items-center justify-center`,children:a.jsx(t.icon,{className:"h-8 w-8"})}),a.jsx("div",{className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-gray-900 text-white text-sm font-bold flex items-center justify-center",children:r+1})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e(`howItWorks.${t.id}.title`)}),a.jsx("p",{className:"text-gray-600 text-sm",children:e(`howItWorks.${t.id}.description`)})]},t.id))}),a.jsx("div",{className:"hidden md:flex items-center justify-center mt-8",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-blue-300 to-green-300 rounded"}),a.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-green-300 to-purple-300 rounded"})]})})]})})}function Ex(){const e=Pt(),{t}=Te("landing");return a.jsx("section",{className:"py-16 bg-gradient-to-br from-green-600 via-green-700 to-green-800 text-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:t("cta.title")}),a.jsx("p",{className:"text-lg text-green-100 mb-8",children:t("cta.subtitle")}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-6",children:[a.jsx(Ge,{onClick:()=>e({to:"/register"}),size:"lg",className:"bg-white text-green-700 hover:bg-green-50 shadow-xl",children:t("cta.button")}),a.jsxs(Ge,{onClick:()=>window.open("https://github.com/GodStorm91/smartmoney","_blank"),size:"lg",variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:[a.jsx(Zl,{className:"h-5 w-5 mr-2"}),t("cta.openSource")]})]}),a.jsx("p",{className:"text-sm text-green-200",children:t("cta.noAccount")})]})})}const io=[{code:"en",name:"English",flag:""},{code:"ja",name:"",flag:""},{code:"vi",name:"Ting Vit",flag:""}];function Px(){const e=Pt(),{t,i18n:r}=Te("landing"),[n,o]=y.useState(!1),c=io.find(u=>u.code===r.language)||io[0],l=u=>{r.changeLanguage(u),o(!1)};return a.jsx("header",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-8 w-8 text-green-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"SmartMoney"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>o(!n),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(eu,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm",children:c.flag})]}),n&&a.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:io.map(u=>a.jsxs("button",{onClick:()=>l(u.code),className:`w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 ${r.language===u.code?"bg-green-50 text-green-700":"text-gray-700"}`,children:[a.jsx("span",{children:u.flag}),a.jsx("span",{children:u.name})]},u.code))})]}),a.jsx(Ge,{onClick:()=>e({to:"/login"}),variant:"outline",size:"sm",children:"Login"}),a.jsx(Ge,{onClick:()=>e({to:"/register"}),size:"sm",children:t("hero.cta")})]})]})})})}function Tx(){const{t:e}=Te("landing");return a.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-6 w-6 text-green-500"}),a.jsx("span",{className:"text-lg font-bold text-white",children:"SmartMoney"})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("a",{href:"https://github.com/GodStorm91/smartmoney",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-white transition-colors",children:[a.jsx(Zl,{className:"h-4 w-4"}),"GitHub"]}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.privacy")}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:e("footer.terms")})]}),a.jsx("p",{className:"text-sm",children:e("footer.copyright")})]})})})}function Ax(){return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(Px,{}),a.jsx(jx,{}),a.jsx(Sx,{}),a.jsx(Cx,{}),a.jsx(Ex,{}),a.jsx(Tx,{})]})}const Ox=Xe("/landing")({component:Ax}),Rx=Xe("/goals")({}),Mx=Xe("/budget")({}),Dx=Xe("/benchmark")({validateSearch:e=>({})}),Ix=Xe("/analytics")({validateSearch:e=>({tab:typeof e.tab=="string"?e.tab:void 0})}),Fx=Xe("/accounts")({});function Lx({icon:e,title:t,description:r,action:n,className:o,compact:c=!1}){return a.jsxs("div",{className:Z("flex flex-col items-center justify-center px-4 animate-fade-in",c?"py-6":"py-12",o),children:[e?a.jsx("div",{className:Z("flex items-center justify-center rounded-2xl bg-gray-100 dark:bg-gray-800",c?"w-12 h-12 mb-3":"w-16 h-16 mb-4"),children:a.jsx("div",{className:Z("text-gray-400 dark:text-gray-500",c?"[&>svg]:w-6 [&>svg]:h-6":"[&>svg]:w-8 [&>svg]:h-8"),children:e})}):a.jsx("div",{className:Z("flex items-center justify-center rounded-2xl bg-gray-100 dark:bg-gray-800",c?"w-12 h-12 mb-3":"w-16 h-16 mb-4"),children:a.jsx(zn,{className:Z("text-gray-400 dark:text-gray-500",c?"w-6 h-6":"w-8 h-8")})}),a.jsx("h3",{className:Z("font-semibold text-gray-700 dark:text-gray-300 text-center",c?"text-sm mb-1.5":"text-base mb-2"),children:t}),r&&a.jsx("p",{className:Z("text-gray-500 dark:text-gray-400 text-center max-w-sm",c?"text-xs mb-4":"text-sm mb-6"),children:r}),n&&a.jsx("div",{children:n})]})}function Ae({className:e}){return a.jsx("div",{className:Z("animate-pulse bg-gray-200 dark:bg-gray-700 rounded-lg",e)})}function yN(){return a.jsxs("tr",{className:"animate-pulse",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-20 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-32 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-16 h-6 rounded-full"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-24 h-4"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-20 h-4 ml-auto"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Ae,{className:"w-16 h-6 mx-auto"})})]})}function bN(){return a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-700 animate-pulse",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Ae,{className:"w-32 h-5 mb-2"}),a.jsx(Ae,{className:"w-20 h-4"})]}),a.jsx(Ae,{className:"w-24 h-6"})]})})}function co({className:e}){return a.jsxs("div",{className:Z("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",e),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Ae,{className:"w-10 h-10 rounded-xl"}),a.jsx(Ae,{className:"w-20 h-4"})]}),a.jsx(Ae,{className:"w-32 h-8 mb-2"}),a.jsx(Ae,{className:"w-16 h-4"})]})}function qx({className:e}){return a.jsx("div",{className:Z("space-y-4",e),children:[...Array(4)].map((t,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ae,{className:"w-8 h-8 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(Ae,{className:"w-24 h-4 mb-1"}),a.jsx(Ae,{className:"w-full h-2 rounded-full"})]}),a.jsx(Ae,{className:"w-16 h-4"})]},r))})}function $c({className:e}){return a.jsxs("div",{className:Z("space-y-3",e),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ae,{className:"w-28 h-4"}),a.jsx(Ae,{className:"w-16 h-4"})]}),a.jsx(Ae,{className:"w-full h-3 rounded-full"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx(Ae,{className:"w-20 h-3"}),a.jsx(Ae,{className:"w-20 h-3"})]})]})}function $x({className:e}){return a.jsxs("div",{className:Z("bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 text-center",e),children:[a.jsx(Ae,{className:"w-24 h-4 mx-auto mb-2"}),a.jsx(Ae,{className:"w-48 h-10 mx-auto mb-3"}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(Ae,{className:"w-16 h-4"}),a.jsx(Ae,{className:"w-24 h-5"}),a.jsx(Ae,{className:"w-12 h-5 rounded-full"})]})]})}function Bx(){return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx(Ae,{className:"w-40 h-8 mb-2"}),a.jsx(Ae,{className:"w-56 h-5"})]}),a.jsx($x,{className:"mb-6"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[a.jsx(co,{}),a.jsx(co,{}),a.jsx(co,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[a.jsxs(it,{className:"lg:col-span-2 h-80",children:[a.jsx(Ae,{className:"w-32 h-5 mb-4"}),a.jsx(Ae,{className:"w-full h-56"})]}),a.jsxs(it,{children:[a.jsx(Ae,{className:"w-28 h-5 mb-4"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ae,{className:"w-full h-12 rounded-lg"}),a.jsx(Ae,{className:"w-full h-12 rounded-lg"}),a.jsx(Ae,{className:"w-full h-12 rounded-lg"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(it,{children:[a.jsx(Ae,{className:"w-40 h-5 mb-6"}),a.jsx(qx,{})]}),a.jsxs(it,{children:[a.jsx(Ae,{className:"w-36 h-5 mb-6"}),a.jsxs("div",{className:"space-y-6",children:[a.jsx($c,{}),a.jsx($c,{})]})]})]})]})}function Kx(){const e=new Date().getHours();return e>=5&&e<12?"morning":e>=12&&e<17?"afternoon":e>=17&&e<21?"evening":"night"}const Ux={morning:"",afternoon:"",evening:"",night:""};function Wx(e){const{t}=Te("common"),r=Kx(),n=`dashboard.greeting${r.charAt(0).toUpperCase()+r.slice(1)}`,o=`dashboard.subtitle${r.charAt(0).toUpperCase()+r.slice(1)}`,c=t(n),l=t(o),u=Ux[r];return{greeting:e&&e!=="New User"?`${c}, ${e}`:c,subtitle:l,emoji:u,timeOfDay:r}}const td=6048e5,zx=864e5,rd=6e4,nd=36e5,Bc=Symbol.for("constructDateFrom");function It(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Bc in e?e[Bc](t):e instanceof Date?new e.constructor(t):new Date(t)}function pt(e,t){return It(t||e,e)}let Hx={};function is(){return Hx}function Mn(e,t){var u,p,m,b;const r=is(),n=(t==null?void 0:t.weekStartsOn)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((b=(m=r.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,o=pt(e,t==null?void 0:t.in),c=o.getDay(),l=(c<n?7:0)+c-n;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function Ha(e,t){return Mn(e,{...t,weekStartsOn:1})}function ad(e,t){const r=pt(e,t==null?void 0:t.in),n=r.getFullYear(),o=It(r,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const c=Ha(o),l=It(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Ha(l);return r.getTime()>=c.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Kc(e){const t=pt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Vx(e,...t){const r=It.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Uc(e,t){const r=pt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Yx(e,t,r){const[n,o]=Vx(r==null?void 0:r.in,e,t),c=Uc(n),l=Uc(o),u=+c-Kc(c),p=+l-Kc(l);return Math.round((u-p)/zx)}function Gx(e,t){const r=ad(e,t),n=It(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ha(n)}function Xx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function sd(e){return!(!Xx(e)&&typeof e!="number"||isNaN(+pt(e)))}function Qx(e,t){const r=pt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Jx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zx=(e,t,r)=>{let n;const o=Jx[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dt(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ev={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nv={date:Dt({formats:ev,defaultWidth:"full"}),time:Dt({formats:tv,defaultWidth:"full"}),dateTime:Dt({formats:rv,defaultWidth:"full"})},av={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sv=(e,t,r,n)=>av[e];function st(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):l;o=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[u]||e.values[l]}const c=e.argumentCallback?e.argumentCallback(t):t;return o[c]}}const ov={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fv=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hv={ordinalNumber:fv,era:st({values:ov,defaultWidth:"wide"}),quarter:st({values:iv,defaultWidth:"wide",argumentCallback:e=>e-1}),month:st({values:cv,defaultWidth:"wide"}),day:st({values:lv,defaultWidth:"wide"}),dayPeriod:st({values:uv,defaultWidth:"wide",formattingValues:dv,defaultFormattingWidth:"wide"})};function ot(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],c=t.match(o);if(!c)return null;const l=c[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(u)?pv(u,x=>x.test(l)):mv(u,x=>x.test(l));let m;m=e.valueCallback?e.valueCallback(p):p,m=r.valueCallback?r.valueCallback(m):m;const b=t.slice(l.length);return{value:m,rest:b}}}function mv(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pv(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ai(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],c=t.match(e.parsePattern);if(!c)return null;let l=e.valueCallback?e.valueCallback(c[0]):c[0];l=r.valueCallback?r.valueCallback(l):l;const u=t.slice(o.length);return{value:l,rest:u}}}const gv=/^(\d+)(th|st|nd|rd)?/i,yv=/\d+/i,bv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xv={any:[/^b/i,/^(a|c)/i]},vv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wv={any:[/1/i,/2/i,/3/i,/4/i]},kv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Sv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_v={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ev={ordinalNumber:ai({matchPattern:gv,parsePattern:yv,valueCallback:e=>parseInt(e,10)}),era:ot({matchPatterns:bv,defaultMatchWidth:"wide",parsePatterns:xv,defaultParseWidth:"any"}),quarter:ot({matchPatterns:vv,defaultMatchWidth:"wide",parsePatterns:wv,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ot({matchPatterns:kv,defaultMatchWidth:"wide",parsePatterns:jv,defaultParseWidth:"any"}),day:ot({matchPatterns:Nv,defaultMatchWidth:"wide",parsePatterns:Sv,defaultParseWidth:"any"}),dayPeriod:ot({matchPatterns:_v,defaultMatchWidth:"any",parsePatterns:Cv,defaultParseWidth:"any"})},si={code:"en-US",formatDistance:Zx,formatLong:nv,formatRelative:sv,localize:hv,match:Ev,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pv(e,t){const r=pt(e,t==null?void 0:t.in);return Yx(r,Qx(r))+1}function Tv(e,t){const r=pt(e,t==null?void 0:t.in),n=+Ha(r)-+Gx(r);return Math.round(n/td)+1}function od(e,t){var b,x,_,A;const r=pt(e,t==null?void 0:t.in),n=r.getFullYear(),o=is(),c=(t==null?void 0:t.firstWeekContainsDate)??((x=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??o.firstWeekContainsDate??((A=(_=o.locale)==null?void 0:_.options)==null?void 0:A.firstWeekContainsDate)??1,l=It((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,c),l.setHours(0,0,0,0);const u=Mn(l,t),p=It((t==null?void 0:t.in)||e,0);p.setFullYear(n,0,c),p.setHours(0,0,0,0);const m=Mn(p,t);return+r>=+u?n+1:+r>=+m?n:n-1}function Av(e,t){var u,p,m,b;const r=is(),n=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(m=r.locale)==null?void 0:m.options)==null?void 0:b.firstWeekContainsDate)??1,o=od(e,t),c=It((t==null?void 0:t.in)||e,0);return c.setFullYear(o,0,n),c.setHours(0,0,0,0),Mn(c,t)}function Ov(e,t){const r=pt(e,t==null?void 0:t.in),n=+Mn(r,t)-+Av(r,t);return Math.round(n/td)+1}function Ie(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Vt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ie(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ie(r+1,2)},d(e,t){return Ie(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ie(e.getHours()%12||12,t.length)},H(e,t){return Ie(e.getHours(),t.length)},m(e,t){return Ie(e.getMinutes(),t.length)},s(e,t){return Ie(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return Ie(o,t.length)}},zr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wc={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Vt.y(e,t)},Y:function(e,t,r,n){const o=od(e,n),c=o>0?o:1-o;if(t==="YY"){const l=c%100;return Ie(l,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):Ie(c,t.length)},R:function(e,t){const r=ad(e);return Ie(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ie(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ie(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ie(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Vt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ie(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=Ov(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Ie(o,t.length)},I:function(e,t,r){const n=Tv(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ie(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Vt.d(e,t)},D:function(e,t,r){const n=Pv(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ie(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),c=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return Ie(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),c=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return Ie(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return Ie(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=zr.noon:n===0?o=zr.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=zr.evening:n>=12?o=zr.afternoon:n>=4?o=zr.morning:o=zr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Vt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ie(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Vt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Vt.s(e,t)},S:function(e,t){return Vt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Hc(n);case"XXXX":case"XX":return xr(n);case"XXXXX":case"XXX":default:return xr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Hc(n);case"xxxx":case"xx":return xr(n);case"xxxxx":case"xxx":default:return xr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zc(n,":");case"OOOO":default:return"GMT"+xr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zc(n,":");case"zzzz":default:return"GMT"+xr(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Ie(n,t.length)},T:function(e,t,r){return Ie(+e,t.length)}};function zc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),c=n%60;return c===0?r+String(o):r+String(o)+t+Ie(c,2)}function Hc(e,t){return e%60===0?(e>0?"-":"+")+Ie(Math.abs(e)/60,2):xr(e,t)}function xr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Ie(Math.trunc(n/60),2),c=Ie(n%60,2);return r+o+t+c}const Vc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},id=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Rv=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return Vc(e,t);let c;switch(n){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Vc(n,t)).replace("{{time}}",id(o,t))},Mv={p:id,P:Rv},Dv=/^D+$/,Iv=/^Y+$/,Fv=["D","DD","YY","YYYY"];function Lv(e){return Dv.test(e)}function qv(e){return Iv.test(e)}function $v(e,t,r){const n=Bv(e,t,r);if(console.warn(n),Fv.includes(e))throw new RangeError(n)}function Bv(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wv=/^'([^]*?)'?$/,zv=/''/g,Hv=/[a-zA-Z]/;function cd(e,t,r){var b,x,_,A,k,j,O,U;const n=is(),o=(r==null?void 0:r.locale)??n.locale??si,c=(r==null?void 0:r.firstWeekContainsDate)??((x=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(_=n.locale)==null?void 0:_.options)==null?void 0:A.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((U=(O=n.locale)==null?void 0:O.options)==null?void 0:U.weekStartsOn)??0,u=pt(e,r==null?void 0:r.in);if(!sd(u))throw new RangeError("Invalid time value");let p=t.match(Uv).map(W=>{const B=W[0];if(B==="p"||B==="P"){const q=Mv[B];return q(W,o.formatLong)}return W}).join("").match(Kv).map(W=>{if(W==="''")return{isToken:!1,value:"'"};const B=W[0];if(B==="'")return{isToken:!1,value:Vv(W)};if(Wc[B])return{isToken:!0,value:W};if(B.match(Hv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:W}});o.localize.preprocessor&&(p=o.localize.preprocessor(u,p));const m={firstWeekContainsDate:c,weekStartsOn:l,locale:o};return p.map(W=>{if(!W.isToken)return W.value;const B=W.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&qv(B)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Lv(B))&&$v(B,t,String(e));const q=Wc[B[0]];return q(u,B,o.localize,m)}).join("")}function Vv(e){const t=e.match(Wv);return t?t[1].replace(zv,"'"):e}function Yv(e,t){const r=()=>It(t==null?void 0:t.in,NaN),o=Jv(e);let c;if(o.date){const m=Zv(o.date,2);c=ew(m.restDateString,m.year)}if(!c||isNaN(+c))return r();const l=+c;let u=0,p;if(o.time&&(u=tw(o.time),isNaN(u)))return r();if(o.timezone){if(p=rw(o.timezone),isNaN(p))return r()}else{const m=new Date(l+u),b=pt(0,t==null?void 0:t.in);return b.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),b.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),b}return pt(l+u+p,t==null?void 0:t.in)}const Ta={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gv=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Xv=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Qv=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Jv(e){const t={},r=e.split(Ta.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ta.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ta.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=Ta.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function Zv(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,c=n[2]?parseInt(n[2]):null;return{year:c===null?o:c*100,restDateString:e.slice((n[1]||n[2]).length)}}function ew(e,t){if(t===null)return new Date(NaN);const r=e.match(Gv);if(!r)return new Date(NaN);const n=!!r[4],o=En(r[1]),c=En(r[2])-1,l=En(r[3]),u=En(r[4]),p=En(r[5])-1;if(n)return iw(t,u,p)?nw(t,u,p):new Date(NaN);{const m=new Date(0);return!sw(t,c,l)||!ow(t,o)?new Date(NaN):(m.setUTCFullYear(t,c,Math.max(o,l)),m)}}function En(e){return e?parseInt(e):1}function tw(e){const t=e.match(Xv);if(!t)return NaN;const r=lo(t[1]),n=lo(t[2]),o=lo(t[3]);return cw(r,n,o)?r*nd+n*rd+o*1e3:NaN}function lo(e){return e&&parseFloat(e.replace(",","."))||0}function rw(e){if(e==="Z")return 0;const t=e.match(Qv);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return lw(n,o)?r*(n*nd+o*rd):NaN}function nw(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,c=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+c),n}const aw=[31,null,31,30,31,30,31,31,30,31,30,31];function ld(e){return e%400===0||e%4===0&&e%100!==0}function sw(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(aw[t]||(ld(e)?29:28))}function ow(e,t){return t>=1&&t<=(ld(e)?366:365)}function iw(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function cw(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function lw(e,t){return t>=0&&t<=59}const uw={lessThanXSeconds:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xSeconds:{one:"1",other:"{{count}}"},halfAMinute:"30",lessThanXMinutes:{one:"1",other:"{{count}}",oneWithSuffix:"1",otherWithSuffix:"{{count}}"},xMinutes:{one:"1",other:"{{count}}"},aboutXHours:{one:"1",other:"{{count}}"},xHours:{one:"1",other:"{{count}}"},xDays:{one:"1",other:"{{count}}"},aboutXWeeks:{one:"1",other:"{{count}}"},xWeeks:{one:"1",other:"{{count}}"},aboutXMonths:{one:"1",other:"{{count}}"},xMonths:{one:"1",other:"{{count}}"},aboutXYears:{one:"1",other:"{{count}}"},xYears:{one:"1",other:"{{count}}"},overXYears:{one:"1",other:"{{count}}"},almostXYears:{one:"1",other:"{{count}}"}},dw=(e,t,r)=>{r=r||{};let n;const o=uw[e];return typeof o=="string"?n=o:t===1?r.addSuffix&&o.oneWithSuffix?n=o.oneWithSuffix:n=o.one:r.addSuffix&&o.otherWithSuffix?n=o.otherWithSuffix.replace("{{count}}",String(t)):n=o.other.replace("{{count}}",String(t)),r.addSuffix?r.comparison&&r.comparison>0?n+"":n+"":n},fw={full:"yMdEEEE",long:"yMd",medium:"y/MM/dd",short:"y/MM/dd"},hw={full:"Hmmss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},mw={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},pw={date:Dt({formats:fw,defaultWidth:"full"}),time:Dt({formats:hw,defaultWidth:"full"}),dateTime:Dt({formats:mw,defaultWidth:"full"})},gw={lastWeek:"eeeep",yesterday:"p",today:"p",tomorrow:"p",nextWeek:"eeeep",other:"P"},yw=(e,t,r,n)=>gw[e],bw={narrow:["BC","AC"],abbreviated:["",""],wide:["",""]},xw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1","2","3","4"]},vw={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["1","2","3","4","5","6","7","8","9","10","11","12"]},ww={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},kw={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},jw={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},Nw=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"year":return`${r}`;case"quarter":return`${r}`;case"month":return`${r}`;case"week":return`${r}`;case"date":return`${r}`;case"hour":return`${r}`;case"minute":return`${r}`;case"second":return`${r}`;default:return`${r}`}},Sw={ordinalNumber:Nw,era:st({values:bw,defaultWidth:"wide"}),quarter:st({values:xw,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:st({values:vw,defaultWidth:"wide"}),day:st({values:ww,defaultWidth:"wide"}),dayPeriod:st({values:kw,defaultWidth:"wide",formattingValues:jw,defaultFormattingWidth:"wide"})},_w=/^?\d+(|||||||)?/i,Cw=/\d+/i,Ew={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^([]|)/i,wide:/^([]|)/i},Pw={narrow:[/^B/i,/^A/i],any:[/^()/i,/^(|)/i]},Tw={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^[1234]/i},Aw={any:[/(1||)/i,/(2||)/i,/(3||)/i,/(4||)/i]},Ow={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])/i,wide:/^([123456789]|1[012])/i},Rw={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Mw={narrow:/^[]/,short:/^[]/,abbreviated:/^[]/,wide:/^[]/},Dw={any:[/^/,/^/,/^/,/^/,/^/,/^/,/^/]},Iw={any:/^(AM|PM|||||||)/i},Fw={any:{am:/^(A|)/i,pm:/^(P|)/i,midnight:/^|/i,noon:/^/i,morning:/^/i,afternoon:/^/i,evening:/^/i,night:/^/i}},Lw={ordinalNumber:ai({matchPattern:_w,parsePattern:Cw,valueCallback:function(e){return parseInt(e,10)}}),era:ot({matchPatterns:Ew,defaultMatchWidth:"wide",parsePatterns:Pw,defaultParseWidth:"any"}),quarter:ot({matchPatterns:Tw,defaultMatchWidth:"wide",parsePatterns:Aw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ot({matchPatterns:Ow,defaultMatchWidth:"wide",parsePatterns:Rw,defaultParseWidth:"any"}),day:ot({matchPatterns:Mw,defaultMatchWidth:"wide",parsePatterns:Dw,defaultParseWidth:"any"}),dayPeriod:ot({matchPatterns:Iw,defaultMatchWidth:"any",parsePatterns:Fw,defaultParseWidth:"any"})},qw={code:"ja",formatDistance:dw,formatLong:pw,formatRelative:yw,localize:Sw,match:Lw,options:{weekStartsOn:0,firstWeekContainsDate:1}},$w={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},Bw=(e,t,r)=>{let n;const o=$w[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" na":n+" trc":n},Kw={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},Uw={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ww={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},zw={date:Dt({formats:Kw,defaultWidth:"full"}),time:Dt({formats:Uw,defaultWidth:"full"}),dateTime:Dt({formats:Ww,defaultWidth:"full"})},Hw={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},Vw=(e,t,r,n)=>Hw[e],Yw={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},Gw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},Xw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},Qw={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},Jw={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},Zw={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},e1={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},t1={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},r1=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(n==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(r){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(n==="week")return r===1?"th nht":"th "+r;if(n==="dayOfYear")return r===1?"u tin":"th "+r}return String(r)},n1={ordinalNumber:r1,era:st({values:Yw,defaultWidth:"wide"}),quarter:st({values:Gw,defaultWidth:"wide",formattingValues:Xw,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:st({values:Qw,defaultWidth:"wide",formattingValues:Jw,defaultFormattingWidth:"wide"}),day:st({values:Zw,defaultWidth:"wide"}),dayPeriod:st({values:e1,defaultWidth:"wide",formattingValues:t1,defaultFormattingWidth:"wide"})},a1=/^(\d+)/i,s1=/\d+/i,o1={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},i1={any:[/^t/i,/^s/i]},c1={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},l1={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},u1={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},d1={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},f1={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},h1={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},m1={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},p1={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},g1={ordinalNumber:ai({matchPattern:a1,parsePattern:s1,valueCallback:e=>parseInt(e,10)}),era:ot({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:i1,defaultParseWidth:"any"}),quarter:ot({matchPatterns:c1,defaultMatchWidth:"wide",parsePatterns:l1,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ot({matchPatterns:u1,defaultMatchWidth:"wide",parsePatterns:d1,defaultParseWidth:"wide"}),day:ot({matchPatterns:f1,defaultMatchWidth:"wide",parsePatterns:h1,defaultParseWidth:"wide"}),dayPeriod:ot({matchPatterns:m1,defaultMatchWidth:"wide",parsePatterns:p1,defaultParseWidth:"any"})},y1={code:"vi",formatDistance:Bw,formatLong:zw,formatRelative:Vw,localize:n1,match:g1,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function ud(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":Ro(XMLHttpRequest))==="object"}function b1(e){return!!e&&typeof e.then=="function"}function x1(e){return b1(e)?e:Promise.resolve(e)}function v1(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mo={exports:{}},Aa={exports:{}},Yc;function w1(){return Yc||(Yc=1,function(e,t){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof kr<"u"&&kr,n=function(){function c(){this.fetch=!1,this.DOMException=r.DOMException}return c.prototype=r,new c}();(function(c){(function(l){var u=typeof c<"u"&&c||typeof self<"u"&&self||typeof u<"u"&&u,p={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function m(F){return F&&DataView.prototype.isPrototypeOf(F)}if(p.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=ArrayBuffer.isView||function(F){return F&&b.indexOf(Object.prototype.toString.call(F))>-1};function _(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError('Invalid character in header field name: "'+F+'"');return F.toLowerCase()}function A(F){return typeof F!="string"&&(F=String(F)),F}function k(F){var z={next:function(){var V=F.shift();return{done:V===void 0,value:V}}};return p.iterable&&(z[Symbol.iterator]=function(){return z}),z}function j(F){this.map={},F instanceof j?F.forEach(function(z,V){this.append(V,z)},this):Array.isArray(F)?F.forEach(function(z){this.append(z[0],z[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(z){this.append(z,F[z])},this)}j.prototype.append=function(F,z){F=_(F),z=A(z);var V=this.map[F];this.map[F]=V?V+", "+z:z},j.prototype.delete=function(F){delete this.map[_(F)]},j.prototype.get=function(F){return F=_(F),this.has(F)?this.map[F]:null},j.prototype.has=function(F){return this.map.hasOwnProperty(_(F))},j.prototype.set=function(F,z){this.map[_(F)]=A(z)},j.prototype.forEach=function(F,z){for(var V in this.map)this.map.hasOwnProperty(V)&&F.call(z,this.map[V],V,this)},j.prototype.keys=function(){var F=[];return this.forEach(function(z,V){F.push(V)}),k(F)},j.prototype.values=function(){var F=[];return this.forEach(function(z){F.push(z)}),k(F)},j.prototype.entries=function(){var F=[];return this.forEach(function(z,V){F.push([V,z])}),k(F)},p.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);function O(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function U(F){return new Promise(function(z,V){F.onload=function(){z(F.result)},F.onerror=function(){V(F.error)}})}function W(F){var z=new FileReader,V=U(z);return z.readAsArrayBuffer(F),V}function B(F){var z=new FileReader,V=U(z);return z.readAsText(F),V}function q(F){for(var z=new Uint8Array(F),V=new Array(z.length),G=0;G<z.length;G++)V[G]=String.fromCharCode(z[G]);return V.join("")}function J(F){if(F.slice)return F.slice(0);var z=new Uint8Array(F.byteLength);return z.set(new Uint8Array(F)),z.buffer}function Y(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:p.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:p.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():p.arrayBuffer&&p.blob&&m(F)?(this._bodyArrayBuffer=J(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):p.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||x(F))?this._bodyArrayBuffer=J(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var F=O(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=O(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(W)}),this.text=function(){var F=O(this);if(F)return F;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(q(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(Me)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ge(F){var z=F.toUpperCase();return Q.indexOf(z)>-1?z:F}function Se(F,z){if(!(this instanceof Se))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z=z||{};var V=z.body;if(F instanceof Se){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,z.headers||(this.headers=new j(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!V&&F._bodyInit!=null&&(V=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=z.credentials||this.credentials||"same-origin",(z.headers||!this.headers)&&(this.headers=new j(z.headers)),this.method=ge(z.method||this.method||"GET"),this.mode=z.mode||this.mode||null,this.signal=z.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&V)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(V),(this.method==="GET"||this.method==="HEAD")&&(z.cache==="no-store"||z.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var ue=/\?/;this.url+=(ue.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Se.prototype.clone=function(){return new Se(this,{body:this._bodyInit})};function Me(F){var z=new FormData;return F.trim().split("&").forEach(function(V){if(V){var G=V.split("="),ue=G.shift().replace(/\+/g," "),pe=G.join("=").replace(/\+/g," ");z.append(decodeURIComponent(ue),decodeURIComponent(pe))}}),z}function fe(F){var z=new j,V=F.replace(/\r?\n[\t ]+/g," ");return V.split("\r").map(function(G){return G.indexOf(`
`)===0?G.substr(1,G.length):G}).forEach(function(G){var ue=G.split(":"),pe=ue.shift().trim();if(pe){var Ee=ue.join(":").trim();z.append(pe,Ee)}}),z}Y.call(Se.prototype);function ce(F,z){if(!(this instanceof ce))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');z||(z={}),this.type="default",this.status=z.status===void 0?200:z.status,this.ok=this.status>=200&&this.status<300,this.statusText=z.statusText===void 0?"":""+z.statusText,this.headers=new j(z.headers),this.url=z.url||"",this._initBody(F)}Y.call(ce.prototype),ce.prototype.clone=function(){return new ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},ce.error=function(){var F=new ce(null,{status:0,statusText:""});return F.type="error",F};var Oe=[301,302,303,307,308];ce.redirect=function(F,z){if(Oe.indexOf(z)===-1)throw new RangeError("Invalid status code");return new ce(null,{status:z,headers:{location:F}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(z,V){this.message=z,this.name=V;var G=Error(z);this.stack=G.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function we(F,z){return new Promise(function(V,G){var ue=new Se(F,z);if(ue.signal&&ue.signal.aborted)return G(new l.DOMException("Aborted","AbortError"));var pe=new XMLHttpRequest;function Ee(){pe.abort()}pe.onload=function(){var he={status:pe.status,statusText:pe.statusText,headers:fe(pe.getAllResponseHeaders()||"")};he.url="responseURL"in pe?pe.responseURL:he.headers.get("X-Request-URL");var ve="response"in pe?pe.response:pe.responseText;setTimeout(function(){V(new ce(ve,he))},0)},pe.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},pe.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},pe.onabort=function(){setTimeout(function(){G(new l.DOMException("Aborted","AbortError"))},0)};function X(he){try{return he===""&&u.location.href?u.location.href:he}catch{return he}}pe.open(ue.method,X(ue.url),!0),ue.credentials==="include"?pe.withCredentials=!0:ue.credentials==="omit"&&(pe.withCredentials=!1),"responseType"in pe&&(p.blob?pe.responseType="blob":p.arrayBuffer&&ue.headers.get("Content-Type")&&ue.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(pe.responseType="arraybuffer")),z&&typeof z.headers=="object"&&!(z.headers instanceof j)?Object.getOwnPropertyNames(z.headers).forEach(function(he){pe.setRequestHeader(he,A(z.headers[he]))}):ue.headers.forEach(function(he,ve){pe.setRequestHeader(ve,he)}),ue.signal&&(ue.signal.addEventListener("abort",Ee),pe.onreadystatechange=function(){pe.readyState===4&&ue.signal.removeEventListener("abort",Ee)}),pe.send(typeof ue._bodyInit>"u"?null:ue._bodyInit)})}return we.polyfill=!0,u.fetch||(u.fetch=we,u.Headers=j,u.Request=Se,u.Response=ce),l.Headers=j,l.Request=Se,l.Response=ce,l.fetch=we,l})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=r.fetch?r:n;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(Aa,Aa.exports)),Aa.exports}(function(e,t){var r=typeof fetch=="function"?fetch:void 0;if(typeof kr<"u"&&kr.fetch?r=kr.fetch:typeof window<"u"&&window.fetch&&(r=window.fetch),typeof v1<"u"&&typeof window>"u"){var n=r||w1();n.default&&(n=n.default),t.default=n,e.exports=t.default}})(Mo,Mo.exports);var dd=Mo.exports;const fd=dl(dd),Gc=uf({__proto__:null,default:fd},[dd]);function Xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xc(Object(r),!0).forEach(function(n){k1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k1(e,t,r){return(t=j1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j1(e){var t=N1(e,"string");return Er(t)=="symbol"?t:t+""}function N1(e,t){if(Er(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Er(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Er(e){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(e)}var er=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?er=global.fetch:typeof window<"u"&&window.fetch&&(er=window.fetch);var Dn;ud()&&(typeof global<"u"&&global.XMLHttpRequest?Dn=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Dn=window.XMLHttpRequest));var Va;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?Va=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(Va=window.ActiveXObject));!er&&Gc&&!Dn&&!Va&&(er=fd||Gc);typeof er!="function"&&(er=void 0);var Do=function(t,r){if(r&&Er(r)==="object"){var n="";for(var o in r)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(r[o]);if(!n)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+n.slice(1)}return t},Jc=function(t,r,n,o){var c=function(p){if(!p.ok)return n(p.statusText||"Error",{status:p.status});p.text().then(function(m){n(null,{status:p.status,data:m})}).catch(n)};if(o){var l=o(t,r);if(l instanceof Promise){l.then(c).catch(n);return}}typeof fetch=="function"?fetch(t,r).then(c).catch(n):er(t,r).then(c).catch(n)},Zc=!1,S1=function(t,r,n,o){t.queryStringParams&&(r=Do(r,t.queryStringParams));var c=Qc({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(c["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(c["Content-Type"]="application/json");var l=typeof t.requestOptions=="function"?t.requestOptions(n):t.requestOptions,u=Qc({method:n?"POST":"GET",body:n?t.stringify(n):void 0,headers:c},Zc?{}:l),p=typeof t.alternateFetch=="function"&&t.alternateFetch.length>=1?t.alternateFetch:void 0;try{Jc(r,u,o,p)}catch(m){if(!l||Object.keys(l).length===0||!m.message||m.message.indexOf("not implemented")<0)return o(m);try{Object.keys(l).forEach(function(b){delete u[b]}),Jc(r,u,o,p),Zc=!0}catch(b){o(b)}}},_1=function(t,r,n,o){n&&Er(n)==="object"&&(n=Do("",n).slice(1)),t.queryStringParams&&(r=Do(r,t.queryStringParams));try{var c;Dn?c=new Dn:c=new Va("MSXML2.XMLHTTP.3.0"),c.open(n?"POST":"GET",r,1),t.crossDomain||c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.withCredentials=!!t.withCredentials,n&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.overrideMimeType&&c.overrideMimeType("application/json");var l=t.customHeaders;if(l=typeof l=="function"?l():l,l)for(var u in l)c.setRequestHeader(u,l[u]);c.onreadystatechange=function(){c.readyState>3&&o(c.status>=400?c.statusText:null,{status:c.status,data:c.responseText})},c.send(n)}catch(p){console&&console.log(p)}},C1=function(t,r,n,o){if(typeof n=="function"&&(o=n,n=void 0),o=o||function(){},er&&r.indexOf("file:")!==0)return S1(t,r,n,o);if(ud()||typeof ActiveXObject=="function")return _1(t,r,n,o);o(new Error("No fetch and no xhr implementation found!"))};function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(n){hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,md(n.key),n)}}function T1(e,t,r){return t&&P1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hd(e,t,r){return(t=md(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function md(e){var t=A1(e,"string");return tn(t)=="symbol"?t:t+""}function A1(e,t){if(tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var O1=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,o){return hd({},n,o||"")},parseLoadPayload:function(r,n){},request:C1,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},pd=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E1(this,e),this.services=t,this.options=r,this.allOptions=n,this.type="backend",this.init(t,r,n)}return T1(e,[{key:"init",value:function(r){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=r,this.options=uo(uo(uo({},O1()),this.options||{}),o),this.allOptions=c,this.services&&this.options.reloadInterval){var l=setInterval(function(){return n.reload()},this.options.reloadInterval);tn(l)==="object"&&typeof l.unref=="function"&&l.unref()}}},{key:"readMulti",value:function(r,n,o){this._readAny(r,r,n,n,o)}},{key:"read",value:function(r,n,o){this._readAny([r],r,[n],n,o)}},{key:"_readAny",value:function(r,n,o,c,l){var u=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(r,o)),p=x1(p),p.then(function(m){if(!m)return l(null,{});var b=u.services.interpolator.interpolate(m,{lng:r.join("+"),ns:o.join("+")});u.loadUrl(b,l,n,c)})}},{key:"loadUrl",value:function(r,n,o,c){var l=this,u=typeof o=="string"?[o]:o,p=typeof c=="string"?[c]:c,m=this.options.parseLoadPayload(u,p);this.options.request(this.options,r,m,function(b,x){if(x&&(x.status>=500&&x.status<600||!x.status))return n("failed loading "+r+"; status code: "+x.status,!0);if(x&&x.status>=400&&x.status<500)return n("failed loading "+r+"; status code: "+x.status,!1);if(!x&&b&&b.message){var _=b.message.toLowerCase(),A=["failed","fetch","network","load"].find(function(O){return _.indexOf(O)>-1});if(A)return n("failed loading "+r+": "+b.message,!0)}if(b)return n(b,!1);var k,j;try{typeof x.data=="string"?k=l.options.parse(x.data,o,c):k=x.data}catch{j="failed parsing "+r+" to json"}if(j)return n(j,!1);n(null,k)})}},{key:"create",value:function(r,n,o,c,l){var u=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var p=this.options.parsePayload(n,o,c),m=0,b=[],x=[];r.forEach(function(_){var A=u.options.addPath;typeof u.options.addPath=="function"&&(A=u.options.addPath(_,n));var k=u.services.interpolator.interpolate(A,{lng:_,ns:n});u.options.request(u.options,k,p,function(j,O){m+=1,b.push(j),x.push(O),m===r.length&&typeof l=="function"&&l(b,x)})})}}},{key:"reload",value:function(){var r=this,n=this.services,o=n.backendConnector,c=n.languageUtils,l=n.logger,u=o.language;if(!(u&&u.toLowerCase()==="cimode")){var p=[],m=function(x){var _=c.toResolveHierarchy(x);_.forEach(function(A){p.indexOf(A)<0&&p.push(A)})};m(u),this.allOptions.preload&&this.allOptions.preload.forEach(function(b){return m(b)}),p.forEach(function(b){r.allOptions.ns.forEach(function(x){o.read(b,x,"read",null,null,function(_,A){_&&l.warn("loading namespace ".concat(x," for language ").concat(b," failed"),_),!_&&A&&l.log("loaded namespace ".concat(x," for language ").concat(b),A),o.loaded("".concat(b,"|").concat(x),_,A)})})})}}}])}();pd.type="backend";function R1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(e)}function M1(e,t){if(In(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(In(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function D1(e){var t=M1(e,"string");return In(t)=="symbol"?t:t+""}function I1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D1(n.key),n)}}function F1(e,t,r){return t&&I1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var gd=[],L1=gd.forEach,q1=gd.slice;function $1(e){return L1.call(q1.call(arguments,1),function(t){if(t)for(var r in t)e[r]===void 0&&(e[r]=t[r])}),e}var tl=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,B1=function(t,r,n){var o=n||{};o.path=o.path||"/";var c=encodeURIComponent(r),l="".concat(t,"=").concat(c);if(o.maxAge>0){var u=o.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age=".concat(Math.floor(u))}if(o.domain){if(!tl.test(o.domain))throw new TypeError("option domain is invalid");l+="; Domain=".concat(o.domain)}if(o.path){if(!tl.test(o.path))throw new TypeError("option path is invalid");l+="; Path=".concat(o.path)}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires=".concat(o.expires.toUTCString())}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite){var p=typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite;switch(p){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l},rl={create:function(t,r,n,o){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+n*60*1e3)),o&&(c.domain=o),document.cookie=B1(t,encodeURIComponent(r),c)},read:function(t){for(var r="".concat(t,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var c=n[o];c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(r)===0)return c.substring(r.length,c.length)}return null},remove:function(t){this.create(t,"",-1)}},K1={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=rl.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&rl.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},U1={name:"querystring",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var o=n.substring(1),c=o.split("&"),l=0;l<c.length;l++){var u=c[l].indexOf("=");if(u>0){var p=c[l].substring(0,u);p===t.lookupQuerystring&&(r=c[l].substring(u+1))}}}return r}},Pn=null,nl=function(){if(Pn!==null)return Pn;try{Pn=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Pn=!1}return Pn},W1={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&nl()){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&nl()&&window.localStorage.setItem(r.lookupLocalStorage,t)}},Tn=null,al=function(){if(Tn!==null)return Tn;try{Tn=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Tn=!1}return Tn},z1={name:"sessionStorage",lookup:function(t){var r;if(t.lookupSessionStorage&&al()){var n=window.sessionStorage.getItem(t.lookupSessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupSessionStorage&&al()&&window.sessionStorage.setItem(r.lookupSessionStorage,t)}},H1={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},V1={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Y1={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},G1={name:"subdomain",lookup:function(t){var r=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}},yd=!1;try{document.cookie,yd=!0}catch{}var bd=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];yd||bd.splice(1,1);function X1(){return{order:bd,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var xd=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R1(this,e),this.type="languageDetector",this.detectors={},this.init(t,r)}return F1(e,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r||{languageUtils:{}},this.options=$1(n,this.options||{},X1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(c){return c.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(K1),this.addDetector(U1),this.addDetector(W1),this.addDetector(z1),this.addDetector(H1),this.addDetector(V1),this.addDetector(Y1),this.addDetector(G1)}},{key:"addDetector",value:function(r){return this.detectors[r.name]=r,this}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var o=[];return r.forEach(function(c){if(n.detectors[c]){var l=n.detectors[c].lookup(n.options);l&&typeof l=="string"&&(l=[l]),l&&(o=o.concat(l))}}),o=o.map(function(c){return n.options.convertDetectedLanguage(c)}),this.services.languageUtils.getBestMatchFromCodes?o:o.length>0?o[0]:null}},{key:"cacheUserLanguage",value:function(r,n){var o=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(c){o.detectors[c]&&o.detectors[c].cacheUserLanguage(r,o.options)}))}}])}();xd.type="languageDetector";Pr.use(pd).use(xd).use(lf).init({fallbackLng:"ja",supportedLngs:["ja","en","vi"],defaultNS:"common",ns:["common"],backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},interpolation:{escapeValue:!1},debug:!1});const Q1={ja:qw,vi:y1,en:si};function J1(){return Q1[Pr.language]||si}function xN(){const e=Pr.language;return e==="ja"?"ja-JP":e==="vi"?"vi-VN":"en-US"}function mt(e,t="yyyy/MM/dd"){try{const r=typeof e=="string"?Yv(e):e;return sd(r)?cd(r,t,{locale:J1()}):"---"}catch{return"---"}}function vN(e){const t=Pr.language;return t==="ja"?mt(e,"yyyyMd HH:mm"):t==="vi"?mt(e,"dd/MM/yyyy HH:mm"):mt(e,"MMM d, yyyy HH:mm")}function Z1(e){const t=Pr.language;return t==="ja"?mt(e,"yyyyM"):mt(e,"MMMM yyyy")}function ek(e){const t=Pr.language;return t==="ja"?mt(e,"yyyyMd"):t==="vi"?mt(e,"dd MMMM yyyy"):mt(e,"MMMM d, yyyy")}function wN(){const e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0");return{start:`${t}-${r}-01`,end:cd(new Date(t,e.getMonth()+1,0),"yyyy-MM-dd")}}function kN(e){const t=Pr.language;return t==="ja"?mt(e,"Md (EEE)"):t==="vi"?mt(e,"EEE, d MMM"):mt(e,"MMM d (EEE)")}function tk({isOpen:e,onClose:t,date:r,transactions:n}){const{t:o}=Te("common"),{currency:c}=Bo(),{isPrivacyMode:l}=Kn(),u=my();if(!e)return null;const p=n.reduce((x,_)=>{if(_.type==="income")return x;const A=_.currency||"JPY",k=u[A]||1,j=Math.abs(_.amount)/k;return x+j},0),m=(x,_)=>en(x,_||c,u,!0,l),b=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 animate-in fade-in",onClick:t}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 animate-in zoom-in-95 duration-200",onClick:x=>{x.target===x.currentTarget&&t()},children:a.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl shadow-xl w-full max-w-md max-h-[85dvh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between z-10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Em,{className:"w-5 h-5 text-primary-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:ek(r)}),a.jsxs("p",{className:"text-xs text-gray-500",children:[n.length," ",o("transactions.count","transactions")]})]})]}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(wt,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{className:"px-4 py-3 bg-expense-50 dark:bg-expense-900/20 border-b border-gray-200 dark:border-gray-700 shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ho,{className:"w-4 h-4 text-expense-600 dark:text-expense-300"}),a.jsx("span",{className:"text-sm text-expense-600 dark:text-expense-300",children:o("spendingCalendar.totalSpending","Total Spending")})]}),a.jsxs("span",{className:"text-lg font-bold text-expense-600 dark:text-expense-300 font-numbers",children:["-",m(p,"JPY")]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 min-h-0",children:n.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("w-8 h-8 rounded-full flex items-center justify-center text-sm",x.type==="income"?"bg-income-100 text-income-600 dark:bg-income-900/30 dark:text-income-300":"bg-expense-100 text-expense-600 dark:bg-expense-900/30 dark:text-expense-300"),children:x.type==="income"?"+":"-"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:x.description||x.category}),a.jsx("p",{className:"text-xs text-gray-500",children:x.source})]})]}),a.jsxs("span",{className:Z("text-sm font-semibold font-numbers",x.type==="income"?"text-income-600 dark:text-income-300":"text-gray-900 dark:text-gray-100"),children:[x.type==="income"?"+":"-",m(Math.abs(x.amount),x.currency||"JPY")]})]},x.id))}),a.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 px-4 py-3 shrink-0",children:a.jsx(Ge,{onClick:t,className:"w-full",children:o("close")})})]})})]});return typeof document>"u"?null:Ft.createPortal(b,document.body)}function rk({summary:e}){const{t}=Te("common"),{currency:r}=Bo(),{data:n}=cn(),{isPrivacyMode:o}=Kn(),[c,l]=y.useState(!1),u=(e==null?void 0:e.net)||0,p=(e==null?void 0:e.net_change)||0,m=b=>en(b,r,(n==null?void 0:n.rates)||{},!1,o);return a.jsxs(it,{variant:"gradient",className:Z("cursor-pointer transition-all duration-300 bg-hero-gradient",c?"shadow-lg ring-glow":"hover:shadow-lg"),onClick:()=>l(!c),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"p-2 bg-primary-200/60 dark:bg-primary-800/40 rounded-xl",children:a.jsx(sn,{className:"w-5 h-5 text-primary-700 dark:text-primary-300"})}),a.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-widest",children:t("dashboard.netWorth","Net Worth")})]}),a.jsx("p",{className:Z("text-4xl sm:text-5xl font-extrabold font-numbers tracking-tighter",u>=0?"text-gray-900 dark:text-gray-100":"text-expense-600 dark:text-expense-300"),children:m(u)}),p!==0&&a.jsxs("div",{className:Z("inline-flex items-center gap-1 mt-3 px-2.5 py-1 rounded-full text-xs font-semibold",p>=0?"bg-income-100 text-income-600 dark:bg-income-900/30 dark:text-income-300":"bg-expense-100 text-expense-600 dark:bg-expense-900/30 dark:text-expense-300"),children:[p>=0?a.jsx(Tr,{className:"w-3 h-3"}):a.jsx(Ho,{className:"w-3 h-3"}),p>=0?"+":"",m(p)]}),c&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:t("dashboard.assets","Assets")}),a.jsx("p",{className:"font-semibold text-income-600 dark:text-income-300",children:m((e==null?void 0:e.total_income)||0)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:t("dashboard.expenses","Expenses")}),a.jsx("p",{className:"font-semibold text-expense-600 dark:text-expense-300",children:m((e==null?void 0:e.total_expense)||0)})]})]})})]})}function sl({label:e,value:t,change:r,isPositive:n,formatCurrency:o,className:c}){return a.jsxs(it,{className:Z("p-4 shadow-card",c),children:[a.jsx("p",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 mb-1.5 uppercase tracking-wider",children:e}),a.jsx("p",{className:"text-2xl font-extrabold font-numbers text-gray-900 dark:text-gray-100 tracking-tight",children:o(t)}),r!==0&&a.jsxs("div",{className:Z("flex items-center gap-1 mt-1 text-xs font-medium",n&&r>0||!n&&r<0?"text-income-600 dark:text-income-300":"text-expense-600 dark:text-expense-300"),children:[r>0?a.jsx(Tr,{className:"w-3 h-3"}):a.jsx(Ho,{className:"w-3 h-3"}),Math.abs(r),"%"]})]})}function nk({rate:e}){const{t}=Te("common"),n=e>=20?{color:"text-income-600 dark:text-income-300",bg:"bg-income-100 dark:bg-income-900/30",label:t("dashboard.savingsGood","Healthy")}:e>=10?{color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/30",label:t("dashboard.savingsFair","Fair")}:{color:"text-expense-600 dark:text-expense-300",bg:"bg-expense-100 dark:bg-expense-900/30",label:t("dashboard.savingsLow","Low")};return a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t("dashboard.savingsRate","Savings Rate")}),a.jsx("span",{className:Z("text-xs font-medium px-2 py-0.5 rounded-full",n.bg,n.color),children:n.label})]}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsxs("span",{className:"text-4xl font-extrabold font-numbers text-gray-900 dark:text-gray-100 tracking-tighter",children:[Math.round(e),"%"]}),a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1.5",children:t("dashboard.ofIncome","of income")})]}),a.jsx("div",{className:"w-full h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full mt-3 overflow-hidden",children:a.jsx("div",{className:Z("h-full rounded-full animate-progress-fill progress-glow",e>=20?"bg-income-600":e>=10?"bg-amber-500":"bg-expense-600"),style:{width:`${Math.min(100,e)}%`}})})]})}function ak({years:e,progress:t,formatCurrency:r}){var l,u;const{t:n}=Te("common"),o=t.target_amount>0?Math.min(100,t.total_saved/t.target_amount*100):0,c=((l=t.achievability)==null?void 0:l.current_monthly_net)>=((u=t.achievability)==null?void 0:u.required_monthly);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50/80 dark:bg-gray-700/50 rounded-xl border border-gray-100 dark:border-gray-700/50",children:[a.jsx("div",{className:Z("w-10 h-10 rounded-xl flex items-center justify-center text-xs font-extrabold",c?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-600 dark:bg-amber-900/30 dark:text-amber-400"),children:o>=100?"":`${Math.round(o)}%`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:n("goals.yearGoal",{years:e})}),a.jsx("p",{className:"text-xs font-medium font-numbers text-gray-500 dark:text-gray-400",children:r(t.total_saved)}),a.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full mt-1.5 overflow-hidden",children:a.jsx("div",{className:Z("h-full rounded-full animate-progress-fill",c?"bg-green-500":"bg-amber-500"),style:{width:`${o}%`}})})]}),a.jsx(Xr,{className:"w-4 h-4 text-gray-400"})]})}function ol({end:e,duration:t=1e3,decimals:r=0,prefix:n="",suffix:o="",className:c="",formatter:l,onComplete:u}){const[p,m]=y.useState(0),b=y.useRef(null),x=y.useRef(null),_=y.useRef(e);y.useEffect(()=>{if(Math.abs(_.current-e)<.01)return;if(_.current=e,m(0),b.current=null,e===0){m(0);return}const k=O=>1-Math.pow(1-O,4),j=O=>{b.current||(b.current=O);const U=O-b.current,W=Math.min(U/t,1),B=k(W);m(B*e),W<1?x.current=requestAnimationFrame(j):(m(e),u==null||u())};return x.current=requestAnimationFrame(j),()=>{x.current&&cancelAnimationFrame(x.current)}},[e,t,u]);const A=l?l(p):`${n}${p.toFixed(r)}${o}`;return a.jsx("span",{className:c,children:A})}const il=["bank","cash","investment","receivable","crypto"];function cl(e,t,r){if(t==="JPY"||!r[t])return e;const n=r[t];if(n===0)return e;const o=t==="USD"?e/100:e;return Math.round(o/n)}function sk({summary:e,formatCurrency:t,accounts:r,exchangeRates:n={}}){const o=(r==null?void 0:r.filter(u=>il.includes(u.type)).reduce((u,p)=>u+cl(p.current_balance,p.currency||"JPY",n),0))||0,c=(r==null?void 0:r.filter(u=>!il.includes(u.type)).reduce((u,p)=>u+Math.abs(cl(p.current_balance,p.currency||"JPY",n)),0))||0,l=[{label:"Assets",value:o,color:"text-income-600 dark:text-income-300"},{label:"Liabilities",value:c,color:"text-expense-600 dark:text-expense-300"},{label:"Transactions",value:(e==null?void 0:e.transaction_count)||0,color:"text-gray-900 dark:text-gray-100",isCount:!0}];return a.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map((u,p)=>a.jsxs("div",{className:"text-center p-3 bg-gray-50/80 dark:bg-gray-800/80 rounded-xl border border-gray-100 dark:border-gray-700/50 animate-stagger-in",style:{"--stagger-index":p},children:[a.jsx("p",{className:"text-[11px] font-medium text-gray-500 dark:text-gray-400 mb-1 uppercase tracking-wider",children:u.label}),a.jsx("p",{className:Z("text-base font-bold font-numbers",u.color),children:u.isCount?a.jsx(ol,{end:u.value,duration:800}):a.jsx(ol,{end:u.value,duration:800,formatter:t})})]},u.label))})}function ok({children:e,variant:t="default",className:r}){return a.jsx("span",{className:Z("inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",{"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":t==="default","bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400":t==="success","bg-yellow-100 text-yellow-700 dark:bg-yellow-900/40 dark:text-yellow-400":t==="warning","bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400":t==="error","bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400":t==="info","bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-400":t==="purple"},r),children:e})}function ik({alerts:e,unreadAnomalyCount:t}){const{t:r}=Te("common"),n=e.length>0,o=t&&t>0;return!n&&!o?null:a.jsxs("div",{className:"space-y-2",children:[n&&a.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:e.map((c,l)=>a.jsxs("div",{className:Z("flex-shrink-0 px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-1.5",c.type==="danger"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"),children:[a.jsx(gc,{className:"w-3.5 h-3.5"}),c.message]},l))}),o&&a.jsx("a",{href:"/settings?section=anomaly",children:a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg cursor-pointer hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[a.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:a.jsx(gc,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:r("anomaly.title")}),a.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:r("anomaly.alertsDetected","{{count}} alerts detected",{count:t})})]}),a.jsx(ok,{variant:"error",children:t})]})})]})}function ck(){const{t:e}=Te("common"),[t,r]=y.useState(!1);y.useEffect(()=>{localStorage.getItem("onboarding_dismissed")==="true"&&r(!0)},[]);const{data:n=[]}=Ye({queryKey:["accounts"],queryFn:()=>fu()}),{data:o=[]}=Ye({queryKey:["transactions-check"],queryFn:()=>ei()}),{data:c=[]}=Ye({queryKey:["goals"],queryFn:ed}),l=n.length>0,u=o.length>0,p=c.length>0,m=[{id:"account",titleKey:"onboarding.steps.account.title",descriptionKey:"onboarding.steps.account.description",icon:a.jsx(sn,{className:"h-5 w-5"}),link:"/accounts",isComplete:l},{id:"upload",titleKey:"onboarding.steps.upload.title",descriptionKey:"onboarding.steps.upload.description",icon:a.jsx(rr,{className:"h-5 w-5"}),link:"/upload",isComplete:u},{id:"goals",titleKey:"onboarding.steps.goals.title",descriptionKey:"onboarding.steps.goals.description",icon:a.jsx(Qt,{className:"h-5 w-5"}),link:"/goals",isComplete:p}],b=m.filter(k=>k.isComplete).length,x=b===m.length,_=Math.round(b/m.length*100);if(t||x)return null;const A=()=>{localStorage.setItem("onboarding_dismissed","true"),r(!0)};return a.jsxs(it,{className:"mb-6 bg-gradient-to-r from-primary-50 to-blue-50 dark:from-primary-950 dark:to-blue-950 border-primary-200 dark:border-primary-800",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 dark:bg-primary-900 rounded-lg",children:a.jsx(zn,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:e("onboarding.title")}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e("onboarding.subtitle",{completed:b,total:m.length})})]})]}),a.jsx("button",{onClick:A,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":e("button.close"),children:a.jsx(wt,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"mb-4",children:a.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500 transition-[width] duration-500",style:{width:`${_}%`}})})}),a.jsx("div",{className:"space-y-2",children:m.map(k=>a.jsxs(Qe,{to:k.link,className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${k.isComplete?"bg-green-50 dark:bg-green-950/50":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750"}`,children:[a.jsx("div",{className:`p-2 rounded-full ${k.isComplete?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:k.isComplete?a.jsx(Mm,{className:"h-5 w-5"}):k.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`font-medium ${k.isComplete?"text-green-700 dark:text-green-400 line-through":"text-gray-900 dark:text-gray-100"}`,children:e(k.titleKey)}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:e(k.descriptionKey)})]}),!k.isComplete&&a.jsx(An,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]},k.id))})]})}function fo(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function Hr(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function lk({isOpen:e,onClose:t}){const{t:r}=Te("common"),n=Tt(),{data:o=[]}=rs(),{data:c}=cn(),[l,u]=y.useState(1),[p,m]=y.useState(null),[b,x]=y.useState(""),[_,A]=y.useState(""),[k,j]=y.useState(null),[O,U]=y.useState(new Date().toISOString().split("T")[0]),[W,B]=y.useState(""),[q,J]=y.useState(""),[Y,Q]=y.useState(""),[ge,Se]=y.useState({}),Me=y.useMemo(()=>o.filter(re=>re.type==="receivable"&&re.is_active),[o]),fe=y.useMemo(()=>o.filter(re=>re.type!=="receivable"&&re.is_active),[o]),ce=y.useMemo(()=>{var re;return(re=c==null?void 0:c.rates)!=null&&re.VND?c.rates.VND:170},[c]),Oe=Hr(_),we=Hr(W),F=parseFloat(q)||ce,z=we*F,V=we-Oe,G=Oe>0?(V/Oe*100).toFixed(1):"0";y.useEffect(()=>{e&&(u(1),m(null),x(""),A(""),j(null),U(new Date().toISOString().split("T")[0]),B(""),J(ce.toFixed(1)),Q(""),Se({}))},[e,ce]),y.useEffect(()=>{!q&&ce&&J(ce.toFixed(1))},[ce]);const ue=()=>{const re={};return p||(re.client=r("proxy.errors.clientRequired")),b.trim()||(re.item=r("proxy.errors.itemRequired")),(!_||Hr(_)<=0)&&(re.cost=r("proxy.errors.costRequired")),k||(re.payment=r("proxy.errors.paymentRequired")),Se(re),Object.keys(re).length===0},pe=()=>{const re={};return(!W||Hr(W)<=0)&&(re.markup=r("proxy.errors.markupRequired")),(!q||parseFloat(q)<=0)&&(re.rate=r("proxy.errors.rateRequired")),Se(re),Object.keys(re).length===0},Ee=()=>{ue()&&(W||B(_),u(2))},X=tr({mutationFn:hu,onSuccess:()=>{n.invalidateQueries({queryKey:["transactions"]}),n.invalidateQueries({queryKey:["accounts"]}),n.invalidateQueries({queryKey:["proxy-outstanding"]}),t()}}),he=()=>{pe()&&X.mutate({client_account_id:p,item:b.trim(),cost:Hr(_),payment_account_id:k,markup_price:Hr(W),exchange_rate:parseFloat(q),purchase_date:O,notes:Y.trim()||void 0})},ve=Me.find(re=>re.id===p);if(!e)return null;const ye=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"w-5 h-5 text-blue-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:r("proxy.title")})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-4 pt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx("span",{children:r("proxy.step",{current:l,total:2})}),a.jsx("span",{children:""}),a.jsx("span",{children:r(l===1?"proxy.step1Title":"proxy.step2Title")})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:Z("h-1 flex-1 rounded",l>=1?"bg-blue-500":"bg-gray-200 dark:bg-gray-700")}),a.jsx("div",{className:Z("h-1 flex-1 rounded",l>=2?"bg-blue-500":"bg-gray-200 dark:bg-gray-700")})]})]}),a.jsx("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:l===1?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.client")," *"]}),a.jsxs("select",{value:p||"",onChange:re=>m(Number(re.target.value)||null),className:Z("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",ge.client?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:r("proxy.selectClient")}),Me.map(re=>a.jsx("option",{value:re.id,children:re.name.replace("Receivable: ","")},re.id))]}),ge.client&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.client}),Me.length===0&&a.jsx("p",{className:"text-amber-600 text-xs mt-1",children:r("proxy.noClients")})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.item")," *"]}),a.jsx(ht,{value:b,onChange:re=>x(re.target.value),placeholder:r("proxy.itemPlaceholder"),className:ge.item?"border-red-500":""}),ge.item&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.item})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.cost")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:_,onChange:re=>A(fo(re.target.value)),placeholder:"1,000",className:Z("pl-8",ge.cost?"border-red-500":""),inputMode:"numeric"})]}),ge.cost&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.cost})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.paymentMethod")," *"]}),a.jsxs("select",{value:k||"",onChange:re=>j(Number(re.target.value)||null),className:Z("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",ge.payment?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:r("proxy.selectPayment")}),fe.map(re=>a.jsx("option",{value:re.id,children:re.name},re.id))]}),ge.payment&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.payment})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.purchaseDate")}),a.jsx(ht,{type:"date",value:O,onChange:re=>U(re.target.value)})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{children:""}),a.jsx("span",{className:"font-medium",children:b})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mt-1",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r("proxy.yourCost"),": ",_]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[r("proxy.client"),": ",ve==null?void 0:ve.name.replace("Receivable: ","")]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[r("proxy.markupPrice")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:W,onChange:re=>B(fo(re.target.value)),placeholder:"1,200",className:Z("pl-8",ge.markup?"border-red-500":""),inputMode:"numeric"})]}),ge.markup&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.markup}),a.jsx("div",{className:"flex gap-2 mt-2",children:[10,15,20].map(re=>a.jsxs("button",{type:"button",onClick:()=>B(fo(String(Math.round(Oe*(1+re/100))))),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:["+",re,"%"]},re))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.exchangeRate")}),a.jsxs("div",{className:"relative",children:[a.jsx(ht,{value:q,onChange:re=>J(re.target.value),placeholder:"170",className:ge.rate?"border-red-500":"",inputMode:"decimal"}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm",children:"VND/JPY"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r("proxy.currentRate"),": ",ce.toFixed(1)," VND/JPY"]}),ge.rate&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:ge.rate})]}),a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{children:[r("proxy.clientPays"),":"]}),a.jsxs("span",{className:"font-bold",children:["",z.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsxs("span",{children:[r("proxy.yourProfit"),":"]}),a.jsxs("span",{className:Z("font-bold",V>=0?"text-green-600":"text-red-600"),children:["",V.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[r("proxy.profitMargin"),":"]}),a.jsxs("span",{className:"font-medium",children:[G,"%"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:r("proxy.notes")}),a.jsx("textarea",{value:Y,onChange:re=>Q(re.target.value),placeholder:r("proxy.notesPlaceholder"),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 resize-none",rows:2})]})]})}),a.jsx("div",{className:"flex justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:l===1?a.jsxs(a.Fragment,{children:[a.jsx(Ge,{variant:"secondary",onClick:t,children:r("button.cancel")}),a.jsxs(Ge,{onClick:Ee,disabled:Me.length===0,children:[r("button.next")," ",a.jsx(Xr,{className:"w-4 h-4 ml-1"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Ge,{variant:"secondary",onClick:()=>u(1),children:[a.jsx(wm,{className:"w-4 h-4 mr-1"})," ",r("button.back")]}),a.jsx(Ge,{onClick:he,disabled:X.isPending,children:X.isPending?r("button.creating"):r("proxy.createPurchase")})]})})]})]});return typeof document>"u"?null:Ft.createPortal(ye,document.body)}function ll(e){const t=e.replace(/[^\d]/g,"");return t?parseInt(t).toLocaleString("en-US"):""}function ul(e){return parseInt(e.replace(/[,.\s]/g,""),10)||0}function uk({isOpen:e,onClose:t,client:r}){const{t:n}=Te("common"),o=Tt(),{data:c=[]}=rs(),[l,u]=y.useState(new Set),[p,m]=y.useState(null),[b,x]=y.useState(""),[_,A]=y.useState(new Date().toISOString().split("T")[0]),[k,j]=y.useState({}),O=y.useMemo(()=>c.filter(fe=>fe.type!=="receivable"&&fe.is_active),[c]),U=y.useMemo(()=>r?r.items.filter(fe=>l.has(fe.transaction_id)):[],[r,l]),W=U.reduce((fe,ce)=>fe+ce.amount_jpy,0),B=U.reduce((fe,ce)=>fe+ce.charge_vnd,0);y.useEffect(()=>{e&&r&&(u(new Set(r.items.map(fe=>fe.transaction_id))),m(null),x(""),A(new Date().toISOString().split("T")[0]),j({}))},[e,r]),y.useEffect(()=>{B>0&&x(ll(String(B)))},[B]);const q=fe=>{u(ce=>{const Oe=new Set(ce);return Oe.has(fe)?Oe.delete(fe):Oe.add(fe),Oe})},J=()=>{r&&u(new Set(r.items.map(fe=>fe.transaction_id)))},Y=()=>u(new Set),Q=()=>{const fe={};return l.size===0&&(fe.items=n("proxy.errors.selectItems")),p||(fe.receive=n("proxy.errors.receiveRequired")),(!b||ul(b)<=0)&&(fe.amount=n("proxy.errors.amountRequired")),j(fe),Object.keys(fe).length===0},ge=tr({mutationFn:gy,onSuccess:()=>{o.invalidateQueries({queryKey:["transactions"]}),o.invalidateQueries({queryKey:["accounts"]}),o.invalidateQueries({queryKey:["proxy-outstanding"]}),t()}}),Se=()=>{!Q()||!r||ge.mutate({client_account_id:r.client_id,transaction_ids:Array.from(l),receive_account_id:p,vnd_amount:ul(b),payment_date:_})};if(!e||!r)return null;const Me=a.jsxs("div",{className:"fixed inset-0 z-[100001] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 z-0",onClick:t}),a.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-xl shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nm,{className:"w-5 h-5 text-green-500"}),a.jsx("h2",{className:"text-lg font-semibold",children:n("proxy.settleTitle")})]}),a.jsx("button",{onClick:t,className:"p-2.5 -mr-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:a.jsx(wt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 overflow-y-auto max-h-[60vh]",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n("proxy.client")}),a.jsx("p",{className:"font-semibold text-lg",children:r.client_name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[n("proxy.outstanding"),": ",r.total_jpy.toLocaleString()]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"block text-sm font-medium",children:n("proxy.selectItemsToSettle")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:J,className:"text-xs text-blue-500 hover:underline",children:n("proxy.selectAll")}),a.jsx("button",{onClick:Y,className:"text-xs text-blue-500 hover:underline",children:n("proxy.selectNone")})]})]}),a.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg max-h-40 overflow-y-auto",children:r.items.map(fe=>a.jsxs("label",{className:Z("flex items-center gap-3 p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50","border-b border-gray-100 dark:border-gray-700 last:border-0"),children:[a.jsx("input",{type:"checkbox",checked:l.has(fe.transaction_id),onChange:()=>q(fe.transaction_id),className:"rounded border-gray-300 text-blue-600"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:fe.item}),a.jsx("p",{className:"text-xs text-gray-500",children:fe.date})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-mono text-sm",children:["",fe.amount_jpy.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["",fe.charge_vnd.toLocaleString()]})]})]},fe.transaction_id))}),k.items&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.items})]}),a.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg mb-4",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{children:[n("proxy.settlementAmount")," (JPY):"]}),a.jsxs("span",{className:"font-bold",children:["",W.toLocaleString()]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("proxy.receiveTo")," *"]}),a.jsxs("select",{value:p||"",onChange:fe=>m(Number(fe.target.value)||null),className:Z("w-full px-3 py-2 rounded-lg border bg-white dark:bg-gray-700",k.receive?"border-red-500":"border-gray-300 dark:border-gray-600"),children:[a.jsx("option",{value:"",children:n("proxy.selectAccount")}),O.map(fe=>a.jsxs("option",{value:fe.id,children:[fe.name," (",fe.currency,")"]},fe.id))]}),k.receive&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.receive})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium mb-1",children:[n("proxy.amountReceived")," *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),a.jsx(ht,{value:b,onChange:fe=>x(ll(fe.target.value)),placeholder:"544,000",className:Z("pl-8",k.amount?"border-red-500":""),inputMode:"numeric"})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[n("proxy.expected"),": ",B.toLocaleString()]}),k.amount&&a.jsx("p",{className:"text-red-500 text-xs mt-1",children:k.amount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:n("proxy.paymentDate")}),a.jsx(ht,{type:"date",value:_,onChange:fe=>A(fe.target.value)})]})]}),a.jsxs("div",{className:"flex justify-between p-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(Ge,{variant:"secondary",onClick:t,children:n("button.cancel")}),a.jsx(Ge,{onClick:Se,disabled:ge.isPending||l.size===0,children:ge.isPending?n("button.processing"):n("proxy.confirmPayment")})]})]})]});return typeof document>"u"?null:Ft.createPortal(Me,document.body)}function dk(){const{t:e}=Te("common"),[t,r]=y.useState(!1),[n,o]=y.useState(null),{data:c=[],isLoading:l}=Ye({queryKey:["proxy-outstanding"],queryFn:py}),u=c.reduce((m,b)=>m+b.total_jpy,0),p=m=>{if(!m)return 0;const b=new Date(m);return Math.floor((new Date().getTime()-b.getTime())/(1e3*60*60*24))};return l?a.jsx(it,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded"})}):c.length===0?null:a.jsxs(a.Fragment,{children:[a.jsxs(it,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wp,{className:"w-5 h-5 text-blue-500"}),a.jsx("h3",{className:"font-semibold",children:e("proxy.outstandingReceivables")})]}),a.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-600",children:[a.jsx(es,{className:"w-4 h-4"}),e("proxy.newPurchase")]})]}),a.jsx("div",{className:"space-y-2",children:c.map(m=>{const b=p(m.oldest_date);return a.jsxs("button",{onClick:()=>o(m),className:"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:m.client_name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m.item_count," ",e("proxy.items"),b>0&&`  ${e("proxy.oldestDays",{days:b})}`]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-mono font-semibold",children:["",m.total_jpy.toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["",m.total_vnd.toLocaleString()]})]}),a.jsx(An,{className:"w-4 h-4 text-gray-400"})]})]},m.client_id)})}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:[e("proxy.total"),":"]}),a.jsxs("span",{className:"font-bold",children:["",u.toLocaleString()]})]})})]}),a.jsx(lk,{isOpen:t,onClose:()=>r(!1)}),a.jsx(uk,{isOpen:!!n,onClose:()=>o(null),client:n})]})}async function jN(e,t){return(await oe.get(`/api/reports/monthly-usage/${e}/${t}`)).data}async function NN(e,t){return(await oe.get(`/api/reports/monthly-usage/${e}/${t}/pdf`,{responseType:"blob"})).data}async function SN(e,t,r,n){return(await oe.post(`/api/reports/monthly/${e}/${t}/ai-summary`,null,{params:{language:r,force_regenerate:n}})).data}async function fk(e,t){try{return(await oe.get(`/api/reports/monthly/${e}/${t}/ai-summary`)).data}catch{return null}}function hk(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-1,1);return{year:t.getFullYear(),month:t.getMonth()+1}}function mk(e,t){return new Date(2026,e-1,1).toLocaleString(t,{month:"long"})}function pk({className:e}){const{t,i18n:r}=Te("common"),o=new Date().getDate(),{year:c,month:l}=hk(),u=`report-banner-dismissed-${c}-${l}`,[p,m]=y.useState(()=>{try{return localStorage.getItem(u)==="1"}catch{return!1}}),b=o<=7&&!p,{data:x}=Ye({queryKey:["ai-summary",c,l],queryFn:()=>fk(c,l),enabled:b,retry:!1,staleTime:1/0});if(!b)return null;const _=mk(l,r.language),A=(x==null?void 0:x.win)??t("report.bannerFallback",{month:_}),k=()=>{try{localStorage.setItem(u,"1")}catch{}m(!0)};return a.jsxs("div",{className:Z("relative rounded-xl p-4 bg-gradient-to-r from-primary-500/10 to-primary-500/5","border border-primary-200 dark:border-primary-800","animate-slide-in-top",e),children:[a.jsx("button",{onClick:k,"aria-label":t("report.bannerDismiss"),className:"absolute top-2 right-2 p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(wt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary-100 dark:bg-primary-900/30 shrink-0",children:a.jsx(Jl,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-0.5",children:t("report.bannerTitle",{month:_})}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:A}),a.jsxs(Qe,{to:"/analytics",search:{tab:"report"},className:"inline-flex items-center gap-1 text-xs font-medium text-primary-600 dark:text-primary-400 hover:underline",children:[t("report.bannerCta"),a.jsx(Xr,{className:"w-3 h-3"})]})]})]})]})}async function _N(e){const t=new URLSearchParams;return e!=null&&e.start&&t.append("start_date",e.start),e!=null&&e.end&&t.append("end_date",e.end),(await oe.get(`/api/analytics?${t.toString()}`)).data}async function gk(e=12){return(await oe.get(`/api/analytics/monthly?months=${e}`)).data}async function CN(e){const t=new URLSearchParams;return e!=null&&e.start&&t.append("start_date",e.start),e!=null&&e.end&&t.append("end_date",e.end),(await oe.get(`/api/analytics/categories?${t.toString()}`)).data}async function yk(e){return(await oe.get("/api/dashboard/summary")).data}async function EN(){return(await oe.get("/api/analytics/insights")).data}async function PN(){return(await oe.get("/api/anomalies/config")).data}async function TN(e){return(await oe.put("/api/anomalies/config",e)).data}async function bk(){return(await oe.get("/api/anomalies/unread/count")).data}function xk(){const{tier:e}=Uo(),t=e==="lite";return{tier:e,isLite:t,recentTransactions:t?3:5,categoryChips:t?4:8,dashboardGoals:t?1:2,insightCards:t?3:5,savingsRecs:t?3:5,anomalyAlerts:t?2:3,quickActions:t?4:6,categoryBreakdown:t?5:999,searchResults:t?3:5}}const vk=y.lazy(()=>rt(()=>import("./SpendingCalendar-B0VdKaOD.js"),__vite__mapDeps([6,3,2,1,5,7,8,4])));function wk(){const{t:e}=Te("common"),{currency:t}=Bo(),{data:r}=cn(),{isPrivacyMode:n}=Kn(),o=xk(),{data:c}=du(),{greeting:l,subtitle:u,emoji:p}=Wx(c==null?void 0:c.display_name),[m,b]=y.useState(new Date),{data:x,isLoading:_}=Ye({queryKey:["dashboard-summary"],queryFn:()=>yk()}),{data:A,isLoading:k}=Ye({queryKey:["monthly-trends",12],queryFn:()=>gk(12)}),{data:j,isLoading:O}=Ye({queryKey:["goals"],queryFn:ed}),{data:U}=Ye({queryKey:["goals-progress",j==null?void 0:j.map(G=>G.id)],queryFn:async()=>!j||j.length===0?[]:Promise.all(j.map(G=>ax(G.id,!0))),enabled:!!j&&j.length>0}),{data:W}=Ye({queryKey:["recent-transactions"],queryFn:async()=>(await ei()).slice(0,o.recentTransactions)}),{data:B}=rs(),{data:q}=Ye({queryKey:["unreadAnomalyCount"],queryFn:bk}),[J,Y]=y.useState(null),[Q,ge]=y.useState(null),Se=(G,ue)=>{ue.length>0&&(ge(G.toISOString()),Y(ue))},Me=()=>{Y(null),ge(null)},fe=_||k||O,ce=y.useCallback(G=>en(G,t,(r==null?void 0:r.rates)||{},!1,n),[t,r==null?void 0:r.rates,n]),Oe=y.useCallback((G,ue="JPY")=>en(G,ue,(r==null?void 0:r.rates)||{},!0,n),[r==null?void 0:r.rates,n]),we=A==null?void 0:A[A.length-1],F=we&&we.income>0?(we.income-we.expenses)/we.income*100:0,z=[{icon:es,label:e("quickActions.add","Add"),color:"bg-primary-500",to:"/transactions?action=add-transaction"},{icon:Tm,label:e("quickActions.scan","Scan"),color:"bg-purple-500",to:"/transactions?action=scan-receipt"},{icon:rr,label:e("quickActions.upload","Upload"),color:"bg-blue-500",to:"/upload"},{icon:Gl,label:e("quickActions.analytics","Analytics"),color:"bg-green-500",to:"/analytics"}],V=[];return we&&we.expenses>we.income&&we.income>0&&V.push({type:"danger",message:e("alerts.overspending","Overspending")}),F<10&&F>=0&&V.push({type:"warning",message:e("alerts.lowSavings","Low savings")}),fe?a.jsx(Bx,{}):a.jsxs("div",{className:"min-h-screen pb-32",children:[a.jsxs("div",{className:"sticky top-0 z-10 bg-white/85 dark:bg-gray-900/85 backdrop-blur-xl border-b border-gray-200/60 dark:border-gray-700/60 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-6 -right-6 w-40 h-40 rounded-full bg-primary-300/25 dark:bg-primary-700/15 blur-3xl pointer-events-none"}),a.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 rounded-full bg-net-300/20 dark:bg-net-800/15 blur-3xl pointer-events-none"}),a.jsxs("div",{className:"relative max-w-2xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{onClick:()=>{const G=new Date(m);G.setMonth(G.getMonth()-1),b(G)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:a.jsx(Im,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Z1(m)}),a.jsx("button",{onClick:()=>{const G=new Date(m);G.setMonth(G.getMonth()+1),b(G)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:a.jsx(An,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:[p," ",l]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:u})]})]})]}),a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 space-y-4",children:[a.jsx(ck,{}),a.jsx(dk,{}),a.jsx(rk,{summary:x}),a.jsx(ik,{alerts:V,unreadAnomalyCount:q==null?void 0:q.count}),a.jsx(pk,{}),a.jsx("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4",children:a.jsx("div",{className:"flex gap-3 pb-2 min-w-max",children:z.map((G,ue)=>{const pe=G.icon;return a.jsxs(Qe,{to:G.to,className:"flex flex-col items-center gap-1.5 p-1 animate-stagger-in",style:{"--stagger-index":ue},children:[a.jsx("div",{className:Z("w-14 h-14 rounded-2xl flex items-center justify-center shadow-md","transition-all duration-150 ease-out hover:scale-[1.08] hover:shadow-lg active:scale-95 active:duration-[50ms]","focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",G.color),children:a.jsx(pe,{className:"w-6 h-6 text-white",strokeWidth:2})}),a.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:G.label})]},ue)})})}),a.jsx(sk,{summary:x,formatCurrency:ce,accounts:B||[],exchangeRates:(r==null?void 0:r.rates)||{}}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":0},children:a.jsx(sl,{label:e("dashboard.income","Income"),value:(we==null?void 0:we.income)||0,change:5.2,isPositive:!0,formatCurrency:ce,className:"bg-income-50/50 dark:bg-income-900/10 border-income-100 dark:border-income-900/20"})}),a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":1},children:a.jsx(sl,{label:e("dashboard.expenses","Expenses"),value:(we==null?void 0:we.expenses)||0,change:-2.1,isPositive:!1,formatCurrency:ce,className:"bg-expense-50/50 dark:bg-expense-900/10 border-expense-100 dark:border-expense-900/20"})})]}),a.jsx(nk,{rate:F}),a.jsxs(it,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:a.jsx(Xt,{className:"w-4 h-4 text-primary-600 dark:text-primary-400"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:e("dashboard.recentTransactions","Recent")})]}),a.jsxs(Qe,{to:"/transactions",className:"text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center gap-1 hover:gap-1.5 transition-all",children:[e("viewAll")," ",a.jsx(Xr,{className:"w-3.5 h-3.5"})]})]}),W&&W.length>0?a.jsx("div",{className:"space-y-1",children:W.slice(0,5).map((G,ue)=>a.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray-100 dark:border-gray-700 last:border-0 animate-stagger-in",style:{"--stagger-index":ue},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("w-9 h-9 rounded-xl flex items-center justify-center text-sm font-bold",G.type==="income"?"bg-income-100 text-income-600 dark:bg-income-900/30 dark:text-income-300":"bg-expense-100 text-expense-600 dark:bg-expense-900/30 dark:text-expense-300"),children:G.type==="income"?"+":"-"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:G.description||G.category}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:mt(G.date,"MM/dd")})]})]}),a.jsxs("span",{className:Z("text-base font-bold font-numbers tracking-tight",G.type==="income"?"text-income-600 dark:text-income-300":"text-gray-900 dark:text-gray-100"),children:[G.type==="income"?"+":"-",Oe(Math.abs(G.amount),G.currency||"JPY")]})]},G.id))}):a.jsx(Lx,{compact:!0,icon:a.jsx(Xt,{}),title:e("emptyState.dashboardRecent.title","No recent activity"),description:e("emptyState.dashboardRecent.description","Your latest transactions will appear here"),action:a.jsx(Qe,{to:"/transactions",className:"text-sm font-semibold text-primary-600 dark:text-primary-400",children:e("emptyState.transactions.cta","Add Transaction")})})]}),a.jsx(y.Suspense,{fallback:a.jsx("div",{className:"h-64 rounded-xl bg-gray-100 dark:bg-gray-800 animate-pulse"}),children:a.jsx(vk,{onDayClick:Se})}),U&&U.length>0&&a.jsxs(it,{className:"p-4 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"p-1.5 rounded-lg bg-pink-100 dark:bg-pink-900/30",children:a.jsx(Qt,{className:"w-4 h-4 text-pink-600 dark:text-pink-400"})}),a.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:e("dashboard.goals","Goals")})]}),a.jsxs(Qe,{to:"/goals",className:"text-xs font-semibold text-primary-600 dark:text-primary-400 flex items-center gap-1 hover:gap-1.5 transition-all",children:[e("viewAll")," ",a.jsx(Xr,{className:"w-3.5 h-3.5"})]})]}),a.jsx("div",{className:"space-y-3",children:U.slice(0,2).map((G,ue)=>G.achievability&&a.jsx("div",{className:"animate-stagger-in",style:{"--stagger-index":ue},children:a.jsx(ak,{years:G.years,progress:G,formatCurrency:Oe})},G.goal_id))})]}),(!U||U.length===0)&&j&&j.length===0&&a.jsx(Qe,{to:"/goals",children:a.jsx(it,{className:"p-4 shadow-card border-2 border-dashed border-pink-200 dark:border-pink-800/40 hover:border-pink-300 dark:hover:border-pink-700 hover:shadow-lg transition-all cursor-pointer group",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 bg-pink-100 dark:bg-pink-900/30 rounded-xl group-hover:scale-110 transition-transform",children:a.jsx(Qt,{className:"w-5 h-5 text-pink-600 dark:text-pink-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100",children:e("dashboard.createFirstGoal","Create your first goal")}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e("dashboard.goalMotivation","Track your savings progress")})]}),a.jsx(Xr,{className:"w-4 h-4 text-gray-400 ml-auto group-hover:translate-x-1 transition-transform"})]})})})]}),J&&Q&&a.jsx(tk,{isOpen:!!J,onClose:Me,date:new Date(Q),transactions:J})]})}const kk=Xe("/")({component:wk}),jk=Xe("/profile")(),Nk=Xe("/gamification")(),Sk=jk.update({id:"/profile",path:"/profile",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./profile.lazy-D9o9_-F5.js"),__vite__mapDeps([9,3,2,10,5,11,1,4])).then(e=>e.Route)),_k=Nk.update({id:"/gamification",path:"/gamification",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./gamification.lazy-a42XOyW5.js"),__vite__mapDeps([12,3,2,1,0,4,5,10,11,13,14,15,16])).then(e=>e.Route)),Ck=fx.update({id:"/upload",path:"/upload",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./upload.lazy-9pCbtKjg.js"),__vite__mapDeps([17,3,2,1,5,4])).then(e=>e.Route)),Ek=hx.update({id:"/transactions",path:"/transactions",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./transactions.lazy-DchlgyVa.js"),__vite__mapDeps([18,3,2,1,19,13,20,21,22,5,15,23,24,25,26,27,28,16,29,4])).then(e=>e.Route)),Pk=mx.update({id:"/settings",path:"/settings",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./settings.lazy-BFQIoNP0.js"),__vite__mapDeps([30,3,2,1,31,13,19,32,25,5,28,22,33,29,34,4,35,11,36,37,38,23])).then(e=>e.Route)),Tk=px.update({id:"/report",path:"/report",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./report.lazy-Cud8-YCp.js"),__vite__mapDeps([39,3,2])).then(e=>e.Route)),Ak=gx.update({id:"/relocation",path:"/relocation",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./relocation.lazy-CMXO-BUz.js"),__vite__mapDeps([40,3,2,1,19,13,34,4,5,37,41,42,43])).then(e=>e.Route)),Ok=bx.update({id:"/register",path:"/register",getParentRoute:()=>ze}),Rk=xx.update({id:"/recurring",path:"/recurring",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./recurring.lazy-DckTfajS.js"),__vite__mapDeps([44,3,2,1,32,25,5,19,13,26,22,43,41,4])).then(e=>e.Route)),Mk=vx.update({id:"/proxy",path:"/proxy",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./proxy.lazy-DUdP2pad.js"),__vite__mapDeps([45,3,2,1,5,8,16,46,4])).then(e=>e.Route)),Dk=kx.update({id:"/login",path:"/login",getParentRoute:()=>ze}),Ik=Ox.update({id:"/landing",path:"/landing",getParentRoute:()=>ze}),Fk=Rx.update({id:"/goals",path:"/goals",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./goals.lazy-BROnOxsr.js"),__vite__mapDeps([47,3,2,1,5,41,13,29,27,4])).then(e=>e.Route)),Lk=Mx.update({id:"/budget",path:"/budget",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./budget.lazy-D040vLD-.js"),__vite__mapDeps([48,3,2,1,5,36,22,13,21,33,4,14,34,49,50,29,20,19,15,23,27])).then(e=>e.Route)),qk=Dx.update({id:"/benchmark",path:"/benchmark",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./benchmark.lazy-DeHOogaE.js"),__vite__mapDeps([51,3,2,1,5,37,4,43,38])).then(e=>e.Route)),$k=Ix.update({id:"/analytics",path:"/analytics",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./analytics.lazy-D1Mu5URk.js"),__vite__mapDeps([52,3,2,1,5,4,42,49,7,23,35,41,13,33])).then(e=>e.Route)),Bk=Fx.update({id:"/accounts",path:"/accounts",getParentRoute:()=>ze}).lazy(()=>rt(()=>import("./accounts.lazy-DnV49Z9V.js"),__vite__mapDeps([53,3,2,24,1,25,21,22,5,26,27,13,31,4,41,8,46,33,50])).then(e=>e.Route)),Kk=kk.update({id:"/",path:"/",getParentRoute:()=>ze}),Uk={IndexRoute:Kk,AccountsRoute:Bk,AnalyticsRoute:$k,BenchmarkRoute:qk,BudgetRoute:Lk,GoalsRoute:Fk,LandingRoute:Ik,LoginRoute:Dk,ProxyRoute:Mk,RecurringRoute:Rk,RegisterRoute:Ok,RelocationRoute:Ak,ReportRoute:Tk,SettingsRoute:Pk,TransactionsRoute:Ek,UploadRoute:Ck,GamificationLazyRoute:_k,ProfileLazyRoute:Sk},Wk=ze._addFileChildren(Uk)._addFileTypes();function zk(){const{isOnline:e,isSyncing:t,pendingCount:r,lastError:n}=mm(),{t:o}=Te(),[c,l]=y.useState(!1);if(y.useEffect(()=>{if(e&&!t&&r===0&&!n){l(!0);const p=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(p)}},[e,t,r,n]),e&&!t&&r===0&&!c&&!n)return null;const u=()=>e?n?"bg-red-500 dark:bg-red-600":t?"bg-blue-500 dark:bg-blue-600":"bg-green-500 dark:bg-green-600":"bg-gray-600 dark:bg-gray-700";return a.jsx("div",{className:"fixed top-4 right-4 z-[9999]",role:"status","aria-live":"polite",children:a.jsxs("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg
        ${u()}
        text-white text-sm font-medium
        transition-all duration-300 ease-in-out
      `,children:[!e&&a.jsxs(a.Fragment,{children:[a.jsx(Vp,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.offline","Offline")}),r>0&&a.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs",children:r})]}),e&&n&&a.jsxs(a.Fragment,{children:[a.jsx(Wo,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.error","Sync error")})]}),e&&t&&a.jsxs(a.Fragment,{children:[a.jsx(kp,{size:16,className:"animate-spin","aria-hidden":"true"}),a.jsxs("span",{children:[o("sync.syncing","Syncing"),r>0&&` (${r})`]})]}),e&&!t&&!n&&c&&a.jsxs(a.Fragment,{children:[a.jsx(Xl,{size:16,"aria-hidden":"true"}),a.jsx("span",{children:o("sync.synced","All synced")})]})]})})}const Hk=Zd({routeTree:Wk});function Vk(){return a.jsxs(a.Fragment,{children:[a.jsx(zk,{}),a.jsx(ef,{router:Hk})]})}sm().then(e=>{e||console.warn("IndexedDB initialization failed - offline features may not work")});ho.createRoot(document.getElementById("root")).render(a.jsx(Vr.StrictMode,{children:a.jsx(em,{children:a.jsx(mf,{client:Ig,persistOptions:{persister:Kg,maxAge:1e3*60*60*24,dehydrateOptions:{shouldDehydrateQuery:e=>e.state.status==="success"&&Fg([...e.queryKey])}},children:a.jsx(Og,{children:a.jsx(Ag,{children:a.jsx(hm,{children:a.jsx(zh,{children:a.jsx(Vh,{children:a.jsx(Yh,{children:a.jsx(Vk,{})})})})})})})})})}));export{bN as $,Zj as A,Ge as B,it as C,ek as D,Ql as E,Jl as F,my as G,Xj as H,ht as I,mt as J,Bo as K,zo as L,wN as M,rs as N,Hj as O,es as P,Vj as Q,kp as R,zn as S,No as T,Kp as U,Yj as V,wm as W,wt as X,en as Y,yN as Z,Kj as _,Lj as a,Un as a$,kN as a0,Lx as a1,ti as a2,Jj as a3,Wj as a4,ei as a5,TN as a6,ts as a7,PN as a8,gc as a9,eN as aA,rN as aB,CN as aC,Im as aD,Ju as aE,Xt as aF,Qm as aG,zm as aH,Ae as aI,cN as aJ,lN as aK,_p as aL,rp as aM,sx as aN,aN as aO,uN as aP,hN as aQ,sN as aR,oN as aS,iN as aT,dN as aU,fN as aV,zj as aW,Tm as aX,mN as aY,pN as aZ,gN as a_,Uo as aa,$l as ab,nu as ac,ru as ad,eu as ae,Ko as af,Wp as ag,sn as ah,bj as ai,Xl as aj,Hh as ak,Xr as al,Ho as am,Tr as an,ed as ao,ax as ap,tu as aq,uk as ar,py as as,Wo as at,vy as au,Wn as av,Qj as aw,tN as ax,nx as ay,nN as az,Rj as b,EN as b0,Z1 as b1,SN as b2,fk as b3,NN as b4,jN as b5,Gl as b6,cd as b7,_N as b8,$j as b9,Bj as ba,qj as bb,ep as bc,Fa as bd,Tj as be,Gj as bf,Aj as bg,It as bh,Vx as bi,Uc as bj,pt as bk,J1 as bl,Mn as bm,Mj as c,Dj as d,Ij as e,Mm as f,ok as g,rr as h,xe as i,Z as j,Vo as k,Qt as l,An as m,Em as n,xN as o,Et as p,Fj as q,Oj as r,ux as s,Ua as t,du as u,vN as v,oe as w,fu as x,Kn as y,cn as z};

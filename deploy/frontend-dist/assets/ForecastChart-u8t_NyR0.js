import{j as t}from"./vendor-tanstack-CNAyyoyW.js";import{l as a,a0 as e,a8 as o,U as i}from"./index-BtnNbyTi.js";import{u as r}from"./vendor-i18n-BrrOrGm_.js";import{R as s,d as n,C as l,X as c,Y as d,T as m,b as f,i as x,B as p,f as u,a as y}from"./vendor-recharts-BrNIwK9z.js";import"./vendor-react-Bx4JnVfy.js";import"./vendor-icons-BP-EQ_TG.js";import"./vendor-date-BkGg5e1q.js";function h(t){const[a,e]=t.split("-");return new Date(parseInt(a),parseInt(e)-1).toLocaleDateString("en-US",{month:"short"})}function j(t,a){if(0===t)return"";const e=Math.abs(t);return"VND"===a?e>=1e6?`${(t/1e6).toFixed(1)}M`:e>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString():"JPY"===a?e>=1e4?`${(t/1e4).toFixed(1)}ä¸‡`:e>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString():e>=1e6?`${(t/1e6).toFixed(1)}M`:e>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString()}function v({data:v}){var k;const{currency:F}=a(),{data:S}=e(),{t:g}=r("common"),{resolvedTheme:A}=o(),b="dark"===A,$=b?"#45475a":"#E5E7EB",D=b?"#a6adc8":"#6B7280",I=b?"#1e1e2e":"#fff",_=b?"#45475a":"#E5E7EB",B=b?"#cdd6f4":"#374151",E="#2196F3",K=v.map(t=>({...t,monthLabel:h(t.month)})),z=K.findIndex(t=>!t.is_actual);return t.jsx(s,{width:"100%",height:"100%",children:t.jsxs(n,{data:K,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(l,{strokeDasharray:"3 3",stroke:$}),t.jsx(c,{dataKey:"monthLabel",stroke:D,style:{fontSize:"12px",fontFamily:"Noto Sans JP, sans-serif"}}),t.jsx(d,{yAxisId:"left",stroke:D,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>j(t,F)}),t.jsx(d,{yAxisId:"right",orientation:"right",stroke:E,style:{fontSize:"12px",fontFamily:"Inter, sans-serif"},tickFormatter:t=>j(t,F)}),t.jsx(m,{contentStyle:{backgroundColor:I,border:`1px solid ${_}`,borderRadius:"8px",fontSize:"14px",color:B},formatter:(t,a)=>[i(t,F,(null==S?void 0:S.rates)||{},!1),a],labelFormatter:(t,a)=>{if(a&&a[0]){const t=a[0].payload;return`${t.month} ${t.is_actual?`(${g("forecast.actual")})`:`(${g("forecast.projected")})`}`}return""}}),t.jsx(f,{wrapperStyle:{fontSize:"14px",fontFamily:"Noto Sans JP, sans-serif",color:B}}),z>0&&t.jsx(x,{x:null==(k=K[z])?void 0:k.monthLabel,stroke:b?"#6c7086":"#9CA3AF",strokeDasharray:"5 5",label:{value:g("forecast.projected"),position:"top",fill:D,fontSize:11}}),t.jsx(p,{yAxisId:"left",dataKey:"income",name:g("chart.income"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:0,animationDuration:800,children:K.map((a,e)=>t.jsx(u,{fill:a.is_actual?"#4CAF50":"#81C784",fillOpacity:a.is_actual?1:.7},`income-${e}`))}),t.jsx(p,{yAxisId:"left",dataKey:"expense",name:g("chart.expense"),radius:[4,4,0,0],isAnimationActive:!0,animationBegin:200,animationDuration:800,children:K.map((a,e)=>t.jsx(u,{fill:a.is_actual?"#F44336":"#E57373",fillOpacity:a.is_actual?1:.7},`expense-${e}`))}),t.jsx(y,{yAxisId:"right",type:"monotone",dataKey:"balance",name:g("forecast.balance"),stroke:E,strokeWidth:2,dot:a=>{const{cx:e,cy:o,payload:i}=a;return void 0===e||void 0===o?t.jsx("circle",{cx:0,cy:0,r:0,fill:"transparent"}):t.jsx("circle",{cx:e,cy:o,r:(null==i?void 0:i.is_actual)?4:5,fill:E,stroke:(null==i?void 0:i.is_actual)?E:"#fff",strokeWidth:(null==i?void 0:i.is_actual)?0:2,strokeDasharray:(null==i?void 0:i.is_actual)?void 0:"2 2"})},activeDot:{r:6},isAnimationActive:!0,animationBegin:400,animationDuration:1e3,strokeDasharray:void 0})]})})}export{v as ForecastChart};
